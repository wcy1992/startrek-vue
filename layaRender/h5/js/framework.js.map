{"version":3,"sources":["../../../src/framework/event.ts","../../../src/framework/framework.ts","../../../src/framework/Layers.ts","../../../src/framework/Loader.ts","../../../src/framework/Scene.ts","../../../src/framework/WebParams.ts","../../../src/framework/app/AppBase.ts","../../../src/framework/app/AppCaches.ts","../../../src/framework/app/AppEvent.ts","../../../src/framework/app/AppItem.ts","../../../src/framework/app/App.ts","../../../src/framework/app/AppLevel.ts","../../../src/framework/app/AppLoading.ts","../../../src/framework/app/AppSidebar.ts","../../../src/framework/ctrl/GameCtrl.ts","../../../src/framework/dataManage/BaseDataHash.ts","../../../src/framework/dataManage/BaseDataItem.ts","../../../src/framework/dataManage/DataHash.ts","../../../src/framework/dataManage/DataItem.ts","../../../src/framework/dataManage/DataManager.ts","../../../src/framework/debug/refresh.ts","../../../src/framework/effects/AniFactory.ts","../../../src/framework/effects/DamageFactory.ts","../../../src/framework/effects/DamageNum.ts","../../../src/framework/effects/Effect.ts","../../../src/framework/effects/EffectQueue.ts","../../../src/framework/effects/SkillEffect.ts","../../../src/framework/loader/ModuleItem.ts","../../../src/framework/net/call.ts","../../../src/framework/net/calls.ts","../../../src/framework/net/GameSocket.ts","../../../src/framework/net/GetwayAppMgr.ts","../../../src/framework/net/SocketProxy.ts","../../../src/framework/net/types.ts","../../../src/framework/scene/SceneBase.ts","../../../src/framework/scene/SceneData.ts","../../../src/framework/scene/SceneEvent.ts","../../../src/framework/scene/SceneItem.ts","../../../src/framework/time/time.ts","../../../src/framework/tips/getTipBg.ts","../../../src/framework/tips/RaisingImageManager.ts","../../../src/framework/tips/RaisingItemManager.ts","../../../src/framework/tips/RaisingTipManager.ts","../../../src/framework/tips/TipCaches.ts","../../../src/framework/tips/TipManager.ts","../../../src/framework/tips/items/BaseTip.ts","../../../src/framework/tips/items/CommonTip.ts","../../../src/framework/tips/items/NormalTip.ts","../../../src/framework/tips/items/SimpleTip.ts","../../../src/framework/tips/Tips.ts","../../../src/framework/utils/Adaptation.ts","../../../src/framework/utils/ArrayUitl.ts","../../../src/framework/utils/debug.ts","../../../src/framework/utils/FloatTool.ts","../../../src/framework/utils/getDefinition.ts","../../../src/framework/utils/MathUtil.ts","../../../src/framework/utils/module.ts","../../../src/framework/utils/MyArray.ts","../../../src/framework/utils/ObjectUitl.ts","../../../src/framework/utils/Pool.ts","../../../src/framework/utils/StringUtil.ts","../../../src/framework/utils/system.ts","../../../src/framework/utils/url.ts","../../../src/framework/views/GuideLine.ts","../../../src/framework/views/Hexagonal.ts","../../../src/framework/views/Mask.ts","../../../src/framework/views/PathLine.ts","../../../src/framework/views/PathTarget.ts","../../../src/framework/app/module/BaseSilder.ts","../../../src/framework/app/module/UIBase.ts","../../../src/framework/app/module/UIController.ts","../../../src/framework/app/module/UIModel.ts","../../../src/framework/app/module/UIView.ts","../../../src/framework/net/message/MessageHeadIn.ts","../../../src/framework/net/message/MessageHeadOut.ts","../../../src/framework/net/package/PackageIn.ts","../../../src/framework/net/package/PackageOut.ts","../../../src/framework/universe/data/BaseVo.ts","../../../src/framework/universe/data/GridVo.ts","../../../src/framework/universe/data/Rect.ts","../../../src/framework/universe/data/UniverseData.ts","../../../src/framework/universe/view/Background.ts","../../../src/framework/universe/view/ILayer.ts","../../../src/framework/universe/view/UniverseLayer.ts","../../../src/framework/universe/view/ViewPort.ts","../../../src/framework/app/module/core/STController.ts","../../../src/framework/app/module/core/STView.ts","../../../src/framework/app/module/core/STModel.ts","../../../src/framework/app/module/core/Facade.ts"],"names":[],"mappings":"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","file":"framework.js","sourcesContent":["namespace zt {\r\n    import EventDispatcher = Laya.EventDispatcher;\r\n    export const onEvents = (eventDispatcher: EventDispatcher, events: string | string[], caller: any, listener: Function) => {\r\n        if (typeof events === 'string')\r\n            events = [events];\r\n        for (const event of events) {\r\n            eventDispatcher.on(event, caller, listener);\r\n        }\r\n    }\r\n}","namespace zt {\r\n\texport class framework {\r\n\t\t\r\n\t} \r\n}","namespace zt {\r\n\timport Node = Laya.Node;\r\n\timport Sprite = Laya.Sprite ;\r\n\texport class Layers {\r\n\t\tprivate static _layers: Object;\r\n\r\n\t\tpublic static init(layers: Array<any>): void {\r\n\t\t\tconst root = Layers.createLayer(Laya.stage,0);\r\n\t\t\troot.name = 'root';\r\n\t\t\tLaya.stage.addChild(root);\r\n\t\t\tLayers._layers = {};\r\n\t\t\tlet layerName: string, layer: Laya.Node;\r\n\t\t\tfor (let i = 0; i < layers.length; i++) {\r\n\t\t\t\tlayerName = layers[i];\r\n\t\t\t\tlayer = Layers.createLayer(root,i);\r\n\t\t\t\tlayer.name = 'layer:' + layerName;\r\n\t\t\t\tthis._layers[layerName] = layer;\r\n\t\t\t\troot.layerList.push(layer as LayerNode);\r\n\t\t\t\troot.addChild(layer);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static createLayer($root:Sprite,$index:number): LayerNode {\r\n\t\t\treturn new LayerNode($root,$index);\r\n\t\t}\r\n\r\n\t\tpublic static getLayer(layerName: string): Laya.Node {\r\n\t\t\treturn Layers._layers[layerName];\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * 层级基类\r\n\t */\r\n\texport class LayerNode extends Sprite\r\n\t{\r\n\t\tprivate _root:LayerNode|Sprite ;\r\n\t\tprivate _index:number;\r\n\t\tprivate _layerList:LayerNode[]= [] ;\r\n\t\tconstructor($root:LayerNode|Sprite,index:number)\r\n\t\t{\r\n\t\t\tsuper();\r\n\t\t\tthis._root = $root ;\r\n\t\t}\r\n\r\n\t\tpublic show():void\r\n\t\t{\r\n\t\t\t(this._root as LayerNode).repainted();\r\n\t\t}\t\r\n\r\n\t\tpublic get index():number\r\n\t\t{\r\n\t\t\treturn this._index;\r\n\t\t}\r\n\r\n\t\tpublic hide():void\r\n\t\t{\r\n\t\t\tthis._root.removeChild(this);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 重排显示层级\r\n\t\t */\r\n\t\tpublic repainted():void\r\n\t\t{\r\n\t\t\tlet layer : LayerNode ;\r\n\t\t\tconst layerListCopy:LayerNode[] = this._layerList.sort(this.sortFun);\r\n\t\t\tfor(let i = 0 ; i < this.numChildren ; i ++)\r\n\t\t\t{\r\n\t\t\t\tlayer = layerListCopy[i];\r\n\t\t\t\tthis.addChild(layer);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate sortFun(a:LayerNode,b:LayerNode):number\r\n\t\t{\r\n\t\t\tif(a.index > b.index)\r\n\t\t\t{\r\n\t\t\t\treturn 1 ;\r\n\t\t\t}\t\r\n\t\t\tif(a.index < b.index)\r\n\t\t\t{\r\n\t\t\t\treturn -1 ;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic get layerList():LayerNode[]\r\n\t\t{\r\n\t\t\treturn this._layerList;\r\n\t\t}\r\n\t}\r\n\r\n}","namespace zt {\r\n\texport class Loader {\r\n\t\tstatic loadModule(moduleName: string, onComplete: Laya.Handler = null, fileName = ''): void {\r\n\t\t\tnew zt.loader.ModuleItem().load(moduleName, fileName, onComplete);\r\n\t\t}\r\n\t}\r\n}","namespace zt {\r\n\t/**\r\n\t * 场景的生命周期 \r\n\t * 1、加载scene的模块文件，在未加载完成之前应该增加透明mask，使得用户无法进行其他操作，简化逻辑。因为模块文件体积一般非常的小，所以不会有用户体验的问题。当scene的模块文件（类定义）\r\n\t * 已经载入的时候则不需要再次载入。debug模式加载会覆盖原有的定义。\r\n\t * 2、scene定义准备完毕之后，实例化scene。\r\n\t * 3、加载scene依赖的资源\r\n\t * 4、移除之前的透明mask，增加app资源loading mask，这个过程可能持续时间会比较长，应该阻止用户进行其他操作，否则可能会拖慢加载速度。\r\n\t */\r\n\texport class Scene {\r\n\r\n\t\tprivate static _current: scene.SceneItem;\r\n\t\tprivate static _enterScene: scene.SceneItem;\r\n\t\tprivate static _prevParams: SceneParams;\r\n\t\tprivate static _switchSceneing:boolean = false ;// 切换场景中\r\n\t\tpublic static CHANGESCENE:string = 'ChangeScene';\r\n\r\n\t\t/**\r\n\t\t * 切换场景\r\n\t\t * 1、如果当前有场景，那么当前场景进行预处理，同时加载\r\n\t\t * 2、加载场景\r\n\t\t * 3、执行切出场景的切出操作\r\n\t\t * 4、 执行切入场景的切入操作\r\n\t\t */\r\n\t\tstatic enter(name: string, params: any = null): void \r\n\t\t{\r\n\t\t\tif(Scene._switchSceneing)return;\r\n\t\t\tif(Scene._current)\r\n\t\t\t\tScene._prevParams = Scene._current.params ;\r\n\t\t\tif(Scene._current) \r\n\t\t\t{\r\n\t\t\t\tif (Scene._current.name == name) //update\r\n\t\t\t\t{ \r\n\t\t\t\t\tScene.update(params);\r\n\t\t\t\t} else //change\r\n\t\t\t\t{ \r\n\t\t\t\t\tScene._current.scene.dispose();\r\n\t\t\t\t\tScene._switchSceneing = true ;\r\n\t\t\t\t\tScene.change(name, params);\r\n\t\t\t\t}\r\n\t\t\t} else \r\n\t\t\t{   \r\n\t\t\t\tScene.load(name, params);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 将当前场景内指定层上指定点移动到相对屏幕左上角的指定偏移位置\r\n\t\t * @param pos 包含了指定点和偏移的信息\r\n\t\t * @param layerName \r\n\t\t */\r\n\t\tstatic move(pos: ScenePos, layerName: string, params) {\r\n\t\t\tif (pos.x > 0 || pos.y > 0)\r\n\t\t\t\tthrow new Error('x or y must be minus');\r\n\t\t\tScene._current.scene.move(pos, layerName, params || {});\r\n\t\t}\r\n\r\n\t\tprivate static change(name, params: any): void {\r\n\t\t\tScene.load(name, params);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param name 更新当前场景\r\n\t\t */\r\n\t\tprivate static update(params: any): void {\r\n\t\t\tScene._current.update(params);\r\n\t\t\tScene._current.scene.once('complete', this, () => {\r\n\t\t\t\tScene.onBuildComplete();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 加载一个scene。加载一个scene。\r\n\t\t * @param name\r\n\t\t */\r\n\t\tprivate static load(name: string, params: any): void \r\n\t\t{\r\n\t\t\tconst onAppDefinitionLoad = (name: string, scene: scene.SceneBase): void => \r\n\t\t\t{\r\n\t\t\t\tscene.params = params;\r\n\t\t\t\tScene._enterScene = new zt.scene.SceneItem(name, scene, params);\r\n\t\t\t\tScene.onload();\r\n\t\t\t}\r\n\r\n\t\t\tif (utils.ModuleUtils.hasDefinition(name)) {\r\n\t\t\t\tconst scene = utils.ModuleUtils.getInstance(name) as scene.SceneBase;\r\n\t\t\t\tscene.params = params;\r\n\t\t\t\tconst sceneItem: scene.SceneItem = new zt.scene.SceneItem(name, scene, params);\r\n\t\t\t\tScene._enterScene = sceneItem;\r\n\t\t\t\tScene.onload();\r\n\t\t\t} else\r\n\t\t\t\tzt.Loader.loadModule(name, Laya.Handler.create(null, onAppDefinitionLoad, [name]));\r\n\t\t}\r\n\r\n\t\tpublic static switchToPreScene():void\r\n\t\t{\r\n\t\t\tScene.enter(Scene.prevParams.sceneName,Scene.prevParams);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 模块的类定义包加载完毕\r\n\t\t */\r\n\t\tprivate static onload(): void \r\n\t\t{\r\n\t\t\tScene._enterScene.once(scene.SceneEvent.PRELOAD_COMPLETE, null, Scene.onPreloadComplete);\r\n\t\t\tScene._enterScene.preload();\r\n\t\t}\r\n\r\n\t\tprivate static onPreloadComplete(): void {\r\n\t\t\tScene._current && Scene._current.dispose();\r\n\t\t\tScene._current = Scene._enterScene;\r\n\t\t\tScene._enterScene = null;\r\n\t\t\tScene._current.scene.once('complete', this, () => {\r\n\t\t\t\tScene.onBuildComplete();\r\n\t\t\t});\r\n\t\t\tScene._current.scene.build();\r\n\t\t\tScene._switchSceneing = false ;\r\n\t\t}\r\n\r\n\t\tprivate static onBuildComplete() \r\n\t\t{\r\n            ctrl.GameCtrl.intance.event(Scene.CHANGESCENE);//切换场景\r\n\t\t}\r\n\r\n\t\tstatic get current(): scene.SceneItem { return Scene._current };\r\n\t\tstatic get prevParams(): SceneParams { return Scene._prevParams };\r\n\t}\r\n}","namespace zt {\r\n\texport class WebParams {\r\n\t\t// -- 配置缓存控制字段 -- //\r\n\t\tprivate static _isLoad = false;\r\n\t\t// -- 配置内容 init -- //\r\n\t\tprivate static _domain:string;\t\t\t// 资源（cdn）域名\r\n\t\tprivate static _userId:number;\t\t\t// 用户ID\r\n\t\tprivate static _key:string;\t\t\t\t// 登入key\r\n\t\tprivate static _server:string;\t\t\t// 网关地址\r\n\t\tprivate static _lan = 'En';\t\t\t\t// 语言\r\n\r\n\t\tprivate static init() {\r\n\t\t\tif (!WebParams._isLoad) {\r\n\t\t\t\tWebParams._domain = decodeURIComponent(Laya.Browser.window.init().domain);\r\n\t\t\t\tWebParams._key = Laya.Browser.window.init().key;\r\n\t\t\t\tWebParams._userId = Laya.Browser.window.init().userid;\r\n\t\t\t\tWebParams._server = decodeURIComponent(Laya.Browser.window.init().loginServer);\r\n\t\t\t\tWebParams._isLoad = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tstatic get domain():string {WebParams.init();return WebParams._domain;}\r\n\r\n\t\tstatic get key():string {\r\n\t\t\tWebParams.init();\r\n\t\t\treturn WebParams._key;\r\n\t\t}\r\n\r\n\t\tstatic get userId():number {\r\n\t\t\tWebParams.init();\r\n\t\t\treturn WebParams._userId;\r\n\t\t}\r\n\r\n\t\tstatic get server():string {\r\n\t\t\tWebParams.init();\r\n\t\t\treturn WebParams._server;\r\n\t\t}\r\n\r\n\t\tstatic get lan():string {\r\n\t\t\tWebParams.init();\r\n\t\t\treturn WebParams._lan;\r\n\t\t}\r\n\t}\r\n}","namespace zt.app {\r\n\timport Sprite = Laya.Sprite;\r\n\timport Event = Laya.Event;\r\n\timport Mouse = Laya.Mouse;\r\n\timport Rectangle = Laya.Rectangle;\r\n\timport Handler = Laya.Handler;\r\n\timport Loader = Laya.Loader;\r\n\texport class AppBase extends Sprite {\r\n\t\tprotected _params: AppParams;\r\n\t\txpos: number;\r\n\t\typos: number;\r\n\t\tprivate _level;//界面层级\r\n\t\tprivate _sidebar: AppSidebar;//侧边栏\r\n\r\n\t\t/**\r\n\t\t * 自适应类型 默认居中\r\n\t\t */\r\n\t\tprotected _adaptionType:number = AdaptationType.ADAPT_CENTER ;\r\n\t\t/**\r\n\t\t * 模块名称\r\n\t\t */\r\n\t\tpublic moduleName:string = '';\r\n\t\t/**\r\n\t\t * @param  {number} $level 界面所在层级，app.AppLevel中的一个值\r\n\t\t */\r\n\t\tconstructor($level: number = app.AppLevel.LEVEL_1) {\r\n\t\t\tsuper();\r\n\t\t\tthis.setLevel($level);\r\n\t\t\tthis.initEvent();\r\n\t\t}\r\n\r\n\t\tinit(): void {\r\n\t\t\tthrow new Error('method \"init\" must be overrided')\r\n\t\t}\r\n\r\n\t\tstart(): void {\r\n\t\t\tFacade.getIns().startModule(this.moduleName);\r\n\t\t\tif(this.level == AppLevel.LEVEL_0)\r\n\t\t\t{\r\n\t\t\t\t(zt.Layers.getLayer('gui') as LayerNode).hide() ;\r\n\t\t\t\t(zt.Layers.getLayer('scene') as LayerNode).hide() ;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprotected initEvent(): void {\r\n\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 注册面板\r\n\t\t * @param $iview:IView\r\n\t\t */\r\n\t\tprotected superRegisterView($iView:IView,$prefix=''):IView\r\n\t\t{\r\n\t\t\t$iView.setModuleName(this.moduleName,$prefix);\r\n\t\t\tFacade.getIns().registerUIView($iView);\r\n\t\t\treturn $iView;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 注册对象\r\n\t\t * @param  $iMode:IMode\r\n\t\t */\r\n\t\tprotected superRegisterModel($iModel:IModel,$prefix=''):IModel\r\n\t\t{\r\n\t\t\tconst imodel = $iModel.setModuleName(this.moduleName,$prefix);\r\n\t\t\tFacade.getIns().registerModel($iModel);\r\n\t\t\treturn $iModel\r\n\t\t}\r\n\r\n\t\tprotected superRegisterController($icontroller:IController,$prefix=''):IController\r\n\t\t{\r\n\t\t\t$icontroller.setModuleName(this.moduleName,$prefix);\r\n\t\t\tFacade.getIns().registerController($icontroller);\r\n\t\t\treturn $icontroller;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取本对象在父容器坐标系的矩形显示区域。 注意：计算量较大，尽量少用。\r\n\t\t */\r\n\t\tgetAppBounds(): Rectangle {\r\n\t\t\treturn this.getBounds()\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 自适应 默认居中\r\n\t\t */\r\n\t\tadaptation():void\r\n\t\t{\r\n\t\t\tconst handler = this._adaptionType == AdaptationType.ADAPT_FULL_SCREEN ? Handler.create(this,this.resize,null,false):null;\r\n\t\t\tAdaptation.register(this,this._adaptionType,handler);\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * 面板缩放\r\n\t\t */\r\n\t\tpublic resize():void\r\n\t\t{\r\n\t\t\tzt.ctrl.GameCtrl.intance.event('REQUEST_GUIDE');\r\n\t\t}\r\n\r\n\t\t/**显示侧边栏 */\r\n\t\tshowSideBar(name: string, param?: any): void {\r\n\t\t\tif (!this.isShowSidebar(name)) {\r\n\t\t\t\tthis._sidebar.mc.removeSelf();\r\n\t\t\t\tthis._sidebar.showSideBar(name, param);\r\n\t\t\t\tconst stageW = Laya.stage.width;\r\n\t\t\t\tconst mainW = this.getAppBounds().width;\r\n\t\t\t\tconst sidebarW = this._sidebar.mc.getBounds().width;\r\n\t\t\t\tthis._sidebar.mc.x = mainW;\r\n\t\t\t\tthis.addChild(this._sidebar.mc);\r\n\t\t\t\tthis.xpos = stageW / 2 - (mainW + sidebarW) / 2;\r\n\t\t\t\tLaya.Tween.to(this, {\r\n\t\t\t\t\tx: this.xpos\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._sidebar.showSideBar(name, param);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcloseSidebar(): void {\r\n\t\t\tthis._sidebar.clear();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 指定侧边栏是否显示\r\n\t\t * @param name 侧边栏名称\r\n\t\t */\r\n\t\tisShowSidebar(name: string): boolean {\r\n\t\t\treturn this._sidebar.currName == name;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取指定侧边栏的示例对象\r\n\t\t * @param name 侧边栏名称\r\n\t\t */\r\n\t\tgetSidebarView(name: string): any {\r\n\t\t\treturn this._sidebar.getView(name);\r\n\t\t}\r\n\r\n\t\tcreateSidebar(arr: any[]): void {\r\n\t\t\tif (this._sidebar == null) {\r\n\t\t\t\tthis._sidebar = new AppSidebar(arr);\r\n\t\t\t\tthis.addChild(this._sidebar.mc);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic setSidebarRenderer(name: string, renderer: Laya.Handler): void {\r\n\t\t\tthis._sidebar.setSidebarRenderer(name, renderer);\r\n\t\t}\r\n\r\n\t\tget sidebarList(): any[] {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tprivate onMouseDown(e: Event): void {\r\n\t\t\te.stopPropagation();\r\n\t\t\tif ((e.target as any) != this.dragRect) return;\r\n\t\t\tthis.startDrag();\r\n\t\t\tMouse.cursor = 'pointer';\r\n\t\t}\r\n\r\n\t\tprivate onMouseUp(e: Event): void {\r\n\t\t\te.stopPropagation();\r\n\t\t\tthis.stopDrag();\r\n\t\t\tMouse.cursor = 'default';\r\n\t\t}\r\n\r\n\t\tprotected load(): void {\r\n\t\t\tthrow new Error('load method must be overrided')\r\n\t\t}\r\n\r\n\t\tget res(): any[] {\r\n\t\t\tthrow new Error('res method must be overrided')\r\n\t\t}\r\n\t\tget cmds(): { cmd: string, params, data?}[] { return [] }\r\n\r\n\t\tprotected get dragRect(): Sprite {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tstartDispose(): void {\r\n\t\t\tthis.event(AppEvent.START_DISPOSE);\r\n\t\t}\r\n\r\n\t\tpublic set params(val: any) {\r\n\t\t\tthis._params = val;\r\n\t\t}\r\n\r\n\t\tpublic get level(): number {\r\n\t\t\treturn this._level;\r\n\t\t}\r\n\r\n\t\tprivate setLevel($level: number): void {\r\n\t\t\tthis._level = $level;\r\n\t\t}\r\n\r\n\t\tdispose(): void {\r\n\t\t\tif (this._sidebar != null) {\r\n\t\t\t\tthis._sidebar.dispose();\r\n\t\t\t}\r\n\t\t\tif (this._params && this._params.onClose) {\r\n\t\t\t\tthis._params.onClose.run();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tAdaptation.unregister(this,this._adaptionType);\r\n\t\t\tzt.effects.disposeModule(this.moduleName);\r\n\t\t\tthis._sidebar = null;\r\n\t\t\tthis.removeSelf();\r\n\t\t\tthis.disposeTexture();\r\n\t\t\tFacade.getIns().removeModule(this.moduleName);\r\n\t\t\tzt.ctrl.GameCtrl.intance.event('AppClose',this.moduleName);\r\n\t\t\tif(this.level == AppLevel.LEVEL_0)\r\n\t\t\t{\r\n\t\t\t\t(zt.Layers.getLayer('gui') as LayerNode).show() ;\r\n\t\t\t\t(zt.Layers.getLayer('scene') as LayerNode).show() ;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic get adaptionType():number\r\n\t\t{\r\n\t\t\treturn this._adaptionType;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 面板关闭后清理纹理资源\r\n\t\t */\r\n\t\tdisposeTexture():void\r\n\t\t{\r\n\t\t\tconst res:any = this.res;\r\n\t\t\tlet url:string = ''\r\n\t\t\tfor(let urlObj of res)\r\n\t\t\t{\r\n\t\t\t\turl = urlObj.url ;\r\n\t\t\t\tLaya.loader.clearRes(url,true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","namespace zt.app {\r\n\texport class AppCaches {\r\n\t\tprivate _apps: Object;\r\n\t\tprivate _levelApps: { [level: number]: string[] };//界面层级结构\r\n\t\tprivate _mask: Sprite;//界面遮罩\r\n\t\tprivate static DEFAULT_COLOR = '#000000';\r\n\t\tprivate _color: string;\r\n\t\tprivate _alpha: number;\r\n\r\n\t\tconstructor() {\r\n\t\t\tthis._apps = {};\r\n\t\t\tthis._levelApps = {};\r\n\t\t\tthis.resetMask();\r\n\t\t}\r\n\r\n\t\tpublic add(name: string, app: AppBase): AppItem \r\n\t\t{\r\n\t\t\tconst appItem: AppItem = new AppItem(name, app);\r\n\t\t\tif (this.getItem(appItem.name) == null) {\r\n\t\t\t\tthis._apps[appItem.name] = appItem;\r\n\t\t\t}\r\n\t\t\tif (this._levelApps[appItem.level] == null) {\r\n\t\t\t\tthis._levelApps[appItem.level] = [];\r\n\t\t\t}\r\n\t\t\tif (this._levelApps[appItem.level].indexOf(name) < 0) {\r\n\t\t\t\tthis._levelApps[appItem.level].push(name);\r\n\t\t\t}\r\n\t\t\tappItem.once(AppEvent.DISPOSE, this, this.onAppDispose, [appItem]);\r\n\t\t\tappItem.once(AppEvent.PRELOAD_COMPLETE, this, this.onAppPreloadComplete, [appItem]);\r\n\t\t\treturn appItem;\r\n\t\t}\r\n\r\n\t\tpublic closeLevelApps(level: number): void {\r\n\t\t\tif (this._levelApps[level] == null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor (const name of this._levelApps[level]) {\r\n\t\t\t\tconst appItem = this.getItem(name);\r\n\t\t\t\tappItem.onStartDispose();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic closeAllApp(): void {\r\n\t\t\tfor (const name in this._apps) {\r\n\t\t\t\tconst appItem: AppItem = this._apps[name];\r\n\t\t\t\tappItem.onStartDispose();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**是否多个层级都存在界面 */\r\n\t\tpublic get isMultiLevel(): boolean {\r\n\t\t\tlet num = 0;\r\n\t\t\tfor (const lv in this._levelApps) {\r\n\t\t\t\tif (this._levelApps[lv] != null && this._levelApps[lv].length > 0) {\r\n\t\t\t\t\tnum++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn num > 1 ? true : false;\r\n\t\t}\r\n\r\n\t\t/**当前最上层界面 */\r\n\t\tpublic get currLevelApp(): AppItem {\r\n\t\t\tlet currItem: AppItem;\r\n\t\t\tlet level = 0;\r\n\t\t\tfor (const lv in this._levelApps) {\r\n\t\t\t\tconst tempLv = parseInt(lv);\r\n\t\t\t\tif (this._levelApps[lv] != null && this._levelApps[lv].length > 0 && tempLv >= level) {\r\n\t\t\t\t\tlevel = tempLv;\r\n\t\t\t\t\tcurrItem = this.getItem(this._levelApps[lv][0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn currItem;\r\n\t\t}\r\n\r\n\t\tprivate onAppDispose(appItem: AppItem) {\r\n\t\t\tdelete this._apps[appItem.name];\r\n\t\t\tif (this._levelApps[appItem.level] != null) {\r\n\t\t\t\tconst index = this._levelApps[appItem.level].indexOf(appItem.name);\r\n\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\tthis._levelApps[appItem.level].splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tzt.ctrl.GameCtrl.intance.event(AppEvent.APP_DISPOSE,appItem.name);\r\n\t\t\tthis.updateLevelMask();\r\n\t\t}\r\n\r\n\t\tprivate onAppPreloadComplete(appItem: AppItem) {\r\n\t\t\tthis.updateLevelMask();\r\n\t\t}\r\n\r\n\t\tpublic getItem(name: string): AppItem {\r\n\t\t\treturn this._apps[name];\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 检查是否有app需要关闭\r\n\t\t */\r\n\t\tappCloseCheck(applevel: number) {\r\n\t\t\tif (applevel == app.AppLevel.LEVEL_0) {\r\n\t\t\t\tthis.closeAllApp();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.closeLevelApps(applevel);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**更新层级间的遮罩 */\r\n\t\tprivate updateLevelMask(): void {\r\n\t\t\tif (this.isMultiLevel) {//如果存在多种level类型的app，比如普通app和二级app，那么要显示遮罩在两个app层级之间\r\n\t\t\t\tthis.showMask();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.hideMask();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate showMask(): void {\r\n\t\t\tif (this._mask == null) {\r\n\t\t\t\tthis._mask = new Sprite();\r\n\t\t\t\tthis._mask.alpha = this._alpha;\r\n\t\t\t\tthis._mask.mouseThrough = true;\r\n\t\t\t\tthis._mask.on(Laya.Event.MOUSE_DOWN, this, (e: Laya.Event) => {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t})\r\n\t\t\t\tAdaptation.registerFunc('app_mask',() => {\r\n\t\t\t\t\tthis._mask.graphics.clear();\r\n\t\t\t\t\tthis._mask.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, this._color);\r\n\t\t\t\t});\r\n\t\t\t\tthis._mask.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, this._color);\r\n\t\t\t}\r\n\t\t\tthis._mask.visible = true;\r\n\t\t\tLayers.getLayer('app').addChild(this._mask);\r\n\t\t\tconst currItem = this.currLevelApp;\r\n\t\t\tconst index = Layers.getLayer('app').getChildIndex(currItem.app);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tcurrItem.topup();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate hideMask(): void {\r\n\t\t\tif (this._mask != null) {\r\n\t\t\t\tthis._mask.visible = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateMask(color, alpha) {\r\n\t\t\tthis._color = color;\r\n\t\t\tthis._alpha = alpha;\r\n\t\t\tif (this._mask) {\r\n\t\t\t\tthis._mask.alpha = alpha;\r\n\t\t\t\tthis._mask.graphics.clear();\r\n\t\t\t\tthis._mask.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, this._color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tresetMask() {\r\n\t\t\tthis._color = AppCaches.DEFAULT_COLOR;\r\n\t\t\tthis._alpha = DEFAULT_MASK_ALPHA;\r\n\t\t\tif (this._mask) {\r\n\t\t\t\tthis._mask.alpha = this._alpha;\r\n\t\t\t\tthis._mask.graphics.clear();\r\n\t\t\t\tthis._mask.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, this._color);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","namespace zt.app {\r\n\texport class AppEvent {\r\n\t\tstatic RES_LOAD = 'resload';\r\n\t\tstatic START_DISPOSE = 'start_dispose';\r\n\t\tstatic DISPOSE = 'dispose';\r\n\t\tstatic APP_DISPOSE = 'app_dispose' ;\r\n\t\tstatic PRELOAD_COMPLETE = 'preloadComplete';\r\n\t}\r\n}","namespace zt.app {\r\n\timport Handler = Laya.Handler;\r\n\timport Node = Laya.Node;\r\n\timport Tween = Laya.Tween;\r\n\timport EventDispatcher = Laya.EventDispatcher;\r\n\r\n\timport Layers = zt.Layers;\r\n\r\n\t/**\r\n\t * 管理app的生命周期\r\n\t */\r\n\texport class AppItem extends EventDispatcher {\r\n\t\t/**\r\n\t\t * 动画播放间隔，单位毫秒\r\n\t\t */\r\n\t\tprivate static ANIMATION_MS = 180;\r\n\t\tprivate _app: AppBase;\r\n\t\tprivate _name: string;\r\n\t\tprivate _resLoaded = false;\r\n\t\tprivate _dataLoaded = false;\r\n\t\tprivate _openX:number ;\r\n\t\tprivate _openY:number ;\r\n\r\n\t\tconstructor(name: string, app: AppBase) {\r\n\t\t\tsuper();\r\n\t\t\tthis._name = name;\r\n\t\t\tthis._app = app;\r\n\t\t\tthis._app.on(AppEvent.START_DISPOSE, this, this.onStartDispose);\r\n\t\t}\r\n\r\n\t\tstart(noLoading) {\r\n\t\t\t!noLoading && showAppLoading();\r\n\t\t\tthis.loadRes();\r\n\t\t\tthis.loadData();\r\n\t\t}\r\n\r\n\t\ttopup() { Layers.getLayer('app').addChild(this._app); }\r\n\r\n\t\tprivate loadRes(): void {\r\n\t\t\tLaya.loader.load(this._app.res, Handler.create(this, this.onResLoad), Handler.create(this, this.onResProgress, null, false));\r\n\t\t}\r\n\r\n\t\tprivate loadData() {\r\n\t\t\tconst calls = new Calls();\r\n\t\t\tcalls.addCmds(this._app.cmds);\r\n\t\t\tcalls.once(Laya.Event.COMPLETE, this, () => {\r\n\t\t\t\tthis._dataLoaded = true;\r\n\t\t\t\tthis.checkComplete()\r\n\t\t\t});\r\n\t\t\tcalls.start();\r\n\t\t}\r\n\r\n\t\tprivate onResLoad() {\r\n\t\t\tthis.event(AppEvent.RES_LOAD);\r\n\t\t\tthis._resLoaded = true;\r\n\t\t\tthis._app.init();\r\n\t\t\tthis._app.createSidebar(this._app.sidebarList);\r\n\t\t\tthis.checkComplete();\r\n\t\t}\r\n\r\n\t\tprivate onResProgress(val: number) {\r\n\t\t\tupdateAppLoading(val);\r\n\t\t}\r\n\r\n\t\tprivate checkComplete() {\r\n\t\t\tif (this._resLoaded && this._dataLoaded) {\r\n\t\t\t\thideAppLoading();\r\n\t\t\t\tthis.event(AppEvent.PRELOAD_COMPLETE)\r\n\t\t\t\tLaya.timer.frameOnce(2, this, this.onRenderComplete);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic onStartDispose(): void {\r\n\t\t\tthis._app.off(AppEvent.START_DISPOSE, this, this.onStartDispose);\r\n\t\t\tTween.to(this._app, {\r\n\t\t\t\tx: this._openX ,\r\n\t\t\t\ty: this._openY,\r\n\t\t\t\tscaleX: 0,\r\n\t\t\t\tscaleY: 0\r\n\t\t\t}, AppItem.ANIMATION_MS, null, Handler.create(this, this.onDisposeAnimationComplete));\r\n\t\t}\r\n\r\n\t\tprivate onDisposeAnimationComplete(): void {\r\n\t\t\tthis._app.dispose();\r\n\t\t\tthis.event(AppEvent.DISPOSE);\r\n\t\t}\r\n\r\n\t\tprivate onRenderComplete(): void {\r\n\t\t\tthis.topup();\r\n\t\t\tconst w1: number = Laya.stage.width;\r\n\t\t\tconst h1: number = Laya.stage.height;\r\n\t\t\tconst w2: number = this._app.getAppBounds().width;\r\n\t\t\tconst h2: number = this._app.getAppBounds().height;\r\n\t\t\tthis._openX = Laya.stage.mouseX;\r\n\t\t\tthis._openY = Laya.stage.mouseY;\r\n\t\t\tthis._app.pos(this._openX,this._openY);\r\n\t\t\tthis._app.scale(0, 0);\r\n\t\t\tif(this.app.adaptionType == AdaptationType.ADAPT_OPEN_POS)\r\n\t\t\t{\r\n\t\t\t\tthis._app.xpos = this._openX ;\r\n\t\t\t\tthis._app.ypos = this._openY ;\r\n\t\t\t}else\r\n\t\t\t{\r\n\t\t\t\tthis._app.xpos = w1 / 2 - w2 / 2;\r\n\t\t\t\tthis._app.ypos = h1 / 2 - h2 / 2;\r\n\t\t\t}\r\n\t\t\tthis._app.start();\r\n\t\t\tthis._app.adaptation();\r\n\t\t\tTween.to(this._app, {\r\n\t\t\t\tx: this._app.xpos,\r\n\t\t\t\ty: this._app.ypos,\r\n\t\t\t\tscaleX: 1,\r\n\t\t\t\tscaleY: 1\r\n\t\t\t}, AppItem.ANIMATION_MS,null,Handler.create(this.app,this.app.resize,null));\r\n\t\t}\r\n\r\n\t\tprivate dispose(): void {\r\n\t\t\tTween.to(this._app, {\r\n\t\t\t\tx: this._openX ,\r\n\t\t\t\ty: this._openY,\r\n\t\t\t\tscaleX: 0,\r\n\t\t\t\tscaleY: 0\r\n\t\t\t}, AppItem.ANIMATION_MS);\r\n\t\t}\r\n\r\n\t\tget name(): string { return this._name; }\r\n\t\tget level(): number { return this._app.level; }\r\n\t\tget app(): AppBase { return this._app; }\r\n\t}\r\n}","/// <reference path=\"./AppBase.ts\" />\r\n/// <reference path=\"./AppCaches.ts\" />\r\n/// <reference path=\"./AppEvent.ts\" />\r\n/// <reference path=\"./AppItem.ts\" />\r\nnamespace zt {\r\n\t/**\r\n\t * app增加的方式：\r\n\t * 1、用户主动触发\r\n\t * 2、其他条件触发\r\n\t * app的生命周期：\r\n\t * 1、加载app的模块文件，在未加载完成之前应该增加透明mask，使得用户无法进行其他操作，简化逻辑。因为模块文件体积一般非常的小，所以不会有用户体验的问题。当app的模块文件（类定义）\r\n\t * 已经载入的时候则不需要再次载入。debug模式加载会覆盖原有的定义。\r\n\t * 2、app定义准备完毕之后，实例化app。\r\n\t * 3、加载app依赖的资源\r\n\t * 4、移除之前的透明mask，增加app资源loading mask，这个过程可能持续时间会比较长，应该阻止用户进行其他操作，否则可能会拖慢加载速度。\r\n\t * @author Administrator\r\n\t */\r\n\timport AppItem = zt.app.AppItem;\r\n\timport AppBase = zt.app.AppBase;\r\n\timport AppCaches = zt.app.AppCaches;\r\n\r\n\texport class App {\r\n\t\t/**\r\n\t\t * 加载一个app。一个app只能存在一个。\r\n\t\t */\r\n\t\tstatic load(name: string, params?: any, cb?: Laya.Handler, noLoading = false) {\r\n\t\t\tconst current = App.appCaches.getItem(name);\r\n\t\t\tif (current) {//如果加载同名的app\r\n\t\t\t\tApp.topup(current);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tApp._currAppName = name;\r\n\t\t\tconst onAppDefinitionLoad = (name: string, app: AppBase): void => {\r\n\t\t\t\tApp.appCaches.appCloseCheck(app.level);\r\n\t\t\t\tapp.moduleName = name ;\r\n\t\t\t\tconst appItem = App.appCaches.add(name, app);\r\n\t\t\t\tapp.params = params;\r\n\t\t\t\tappItem.start(noLoading);\r\n\t\t\t\tcb && cb.runWith(appItem);\r\n\t\t\t}\r\n\r\n\t\t\tif (utils.ModuleUtils.hasDefinition(name)) { //如果app的类定义已经加载完毕，那么直接实例化app\r\n\t\t\t\tconst app: AppBase = utils.ModuleUtils.getInstance(name) as AppBase;\r\n\t\t\t\tonAppDefinitionLoad(name, app);\r\n\t\t\t} else\r\n\t\t\t\tLoader.loadModule(name, Laya.Handler.create(null, onAppDefinitionLoad, [name]));\r\n\t\t}\r\n\r\n\t\tstatic updateMask(color, alpha) {\r\n\t\t\tApp.appCaches.updateMask(color, alpha);\r\n\t\t}\r\n\t\tstatic resetMaskColor() {\r\n\t\t\tApp.appCaches.resetMask();\r\n\t\t}\r\n\r\n\t\tprivate static _currAppName;\r\n\t\tprivate static topup(app: AppItem) { app.topup(); }\r\n\r\n\t\tprivate static _appCaches: AppCaches;\r\n\t\tpublic static get appCaches(): AppCaches {\r\n\t\t\treturn this._appCaches || (this._appCaches = new AppCaches())\r\n\t\t}\r\n\t}\r\n}","namespace zt.app\r\n{\r\n    export class AppLevel\r\n    {\r\n        /**全屏界面，如母舰界面 */\r\n        static LEVEL_0 = 0;\r\n        /**普通界面，如背包界面 */\r\n        static LEVEL_1 = 1;\r\n        /**二级界面 如道具使用界面 */\r\n        static LEVEL_2 = 2;\r\n    }\r\n}","// tslint:disable:no-magic-numbers\r\nnamespace zt {\r\n    import Text = Laya.Text;\r\n    import Sprite = Laya.Sprite;\r\n    export class AppLoading extends Laya.Sprite {\r\n        private _free: boolean;\r\n        private _mask: Sprite;\r\n        private _ui: fairygui.GProgressBar;\r\n        constructor() {\r\n            super();\r\n            this.initEvent();\r\n        }\r\n\r\n        private initEvent() {\r\n            //\r\n        }\r\n\r\n        draw() {\r\n            this._mask = new Sprite();\r\n            this.addChild(this._mask);\r\n            this._mask.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, '#000000');\r\n            this.size(Laya.stage.width, Laya.stage.height);\r\n            this._mask.alpha = 0.5;\r\n            this._mask.mouseEnabled = true;\r\n            this._ui = fairygui.UIPackage.createObject('lib', 'apploading') as fairygui.GProgressBar;\r\n            this._ui.update(20);\r\n            this._ui.displayObject.pivot(this._ui.displayObject.width / 2, this._ui.displayObject.height / 2);\r\n            this.addChild(this._ui.displayObject);\r\n            this._ui.displayObject.x = Laya.stage.width / 2;\r\n            this._ui.displayObject.y = Laya.stage.height / 2;\r\n        }\r\n\r\n        set free(val: boolean) {\r\n            this._free = val;\r\n        }\r\n\r\n        dispose() {\r\n            this.free = true;\r\n        }\r\n\r\n        private static _instance: AppLoading;\r\n        show() {\r\n            this.draw();\r\n            Laya.stage.addChild(this);\r\n        }\r\n\r\n        hide() {\r\n            this.removeChildren();\r\n            this.removeSelf();\r\n            this._mask = null;\r\n            this._ui = null;\r\n        }\r\n\r\n        update(val: number) {\r\n            this._ui && this._ui.update(val * 100 * 0.8 + 20);\r\n        }\r\n\r\n        static get instance(): AppLoading {\r\n            return AppLoading._instance || (AppLoading._instance = new AppLoading());\r\n        }\r\n    }\r\n\r\n    export const showAppLoading = () => {\r\n        AppLoading.instance.show();\r\n    }\r\n\r\n    export const hideAppLoading = () => {\r\n        AppLoading.instance.hide();\r\n    }\r\n\r\n    export const updateAppLoading = (val: number) => {\r\n        AppLoading.instance.update(val);\r\n    }\r\n}","namespace zt.app\r\n{\r\n    export class AppSidebar\r\n    {\r\n        private _sidebarList:any[];//侧边栏列表 {sidebarName:侧边栏显示对象创建方法,'type':侧边栏类名,'params':侧边栏类实例化传的参数列表}\r\n        private _viewList:Object;//视图类实例化列表\r\n        private _uiList:Object;//显示对象列表\r\n        private _rendererList:Object;\r\n\r\n        private _currName:string;//当前显示的侧边栏\r\n        private _mc:Laya.Sprite;\r\n\r\n        constructor(sidebarList:any[])\r\n        {\r\n            this._mc = new Laya.Sprite();\r\n            this._sidebarList = sidebarList;\r\n            this._currName = '';\r\n            this._viewList = {};\r\n            this._uiList = {};\r\n            this._rendererList = {};\r\n        }\r\n\r\n        public setSidebarRenderer(name:string,renderer:Laya.Handler):void\r\n        {\r\n            if(this.indexOfSidebar(name) < 0)\r\n            {\r\n                return;\r\n            }\r\n            this._rendererList[name] = renderer;\r\n        }\r\n\r\n        public showSideBar(name:string,param:any):void\r\n        {\r\n            const index = this.indexOfSidebar(name);\r\n            if(index < 0)\r\n            {\r\n                return;\r\n            }\r\n            //创建显示对象\r\n            if(!this._viewList.hasOwnProperty(name))\r\n            {\r\n                const ui:fairygui.GObject = this._sidebarList[index][name];\r\n                const cls:Function = this._sidebarList[index]['type'];\r\n                let paramList:any[] = [ui];\r\n                if(this._sidebarList[index]['params'] != null)\r\n                {\r\n                    paramList = paramList.concat(this._sidebarList[index]['params']);\r\n                }\r\n                paramList.push(param);\r\n                cls.apply(cls,paramList);\r\n                this._viewList[name] = cls.prototype;\r\n                this._uiList[name] = ui;\r\n            }\r\n            if(this._currName != '' && this._currName != name)\r\n            {\r\n                const currUi:fairygui.GObject = this._uiList[this._currName];\r\n                this._mc.removeChild(currUi.displayObject);\r\n            }\r\n            this._mc.addChild(this._uiList[name].displayObject);\r\n            this._currName = name;\r\n            if(this._rendererList[name] != null)\r\n            {\r\n                const renderer:Laya.Handler = this._rendererList[name];\r\n                renderer.runWith([this._viewList[name],param]);\r\n            }\r\n        }\r\n\r\n        /**\r\n\t\t * 获取指定侧边栏的示例对象\r\n\t\t * @param name 侧边栏名称\r\n\t\t */\r\n        public getView(name:string):any\r\n        {\r\n            return this._viewList[name];\r\n        }\r\n\r\n        public get mc():Laya.Sprite\r\n        {\r\n            return this._mc;\r\n        }\r\n\r\n        public get currName():string\r\n        {\r\n            return this._currName;\r\n        }\r\n\r\n        /**\r\n         * 根据侧边栏名称获取侧边栏在列表中的序列号，-1表示不存在\r\n         * @param name \r\n         */\r\n        private indexOfSidebar(name:string):number\r\n        {\r\n            for(let i = 0;i < this._sidebarList.length;i++)\r\n            {\r\n                if(this._sidebarList[i].hasOwnProperty(name))\r\n                {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        public clear():void\r\n        {\r\n            this._mc.removeSelf();\r\n            this._currName = '';\r\n        }\r\n\r\n        public dispose():void\r\n        {\r\n            if(this._viewList != null)\r\n            {\r\n                for(const key in this._viewList)\r\n                {\r\n                    this._viewList[key].dispose();\r\n                }\r\n            }\r\n            this._viewList = null;\r\n            if(this._uiList != null)\r\n            {\r\n                for(const key in this._uiList)\r\n                {\r\n                    this._uiList[key].dispose();\r\n                }\r\n            }\r\n            this._uiList = null;\r\n            if(this._mc != null)\r\n            {\r\n                this._mc.destroy(true);\r\n            }\r\n            this._mc = null;\r\n        }\r\n\r\n    }\r\n}","namespace zt.ctrl  {\r\n\r\n\timport EventDispatcher = Laya.EventDispatcher;\r\n\t/**\r\n\t * 游戏相关控制\r\n\t */\r\n\texport class GameCtrl extends EventDispatcher  {\r\n\t\tprivate static mInstance:GameCtrl;\t\t\r\n\t\tstatic get intance():GameCtrl{\r\n\t\t\tif(GameCtrl.mInstance) return GameCtrl.mInstance;\r\n\t\t\tGameCtrl.mInstance = new GameCtrl();\r\n\t\t\treturn GameCtrl.mInstance;\r\n\t\t}\r\n\t}\r\n}","namespace zt.data {\r\n\texport class BaseDataHash {\r\n\r\n\t\t// -- CONSTANT -- //\r\n\t\tprotected static KEY_SPACE = '_';\r\n\r\n\t\tprotected _values: Array<any> = [];\t\t\t// 值列表\r\n\t\tprotected _keys: Array<any> = [];\t\t\t// 健列表\r\n\t\tprotected _dic: object = {};\t\t\t\t// 字典详细\r\n\t\tprotected _name: string;\t\t\t\t\t// 字典名\r\n\t\tprotected _itemCls: any;\t\t\t\t\t// 单项基础结构\r\n\t\tprotected _mainKeys: Array<string>;\t\t\t// 索引key\r\n\r\n\t\t/**\r\n\t\t * @param name 数据表名\r\n\t\t * @param data 数据json结构,可以是json，也可以是数组\r\n\t\t * @param itemCls 数据对象类\r\n\t\t */\r\n\t\tconstructor(name: string, data: any = null, mainKeys: any = null, itemCls: any = null) {\r\n\t\t\tthis._name = name;\r\n\t\t\tthis._itemCls = itemCls ? itemCls : this.defaultItemCls;\r\n\t\t\tthis._mainKeys = mainKeys instanceof Array ? mainKeys : [mainKeys];\r\n\t\t\tlet list: Array<any>;\r\n\t\t\t// -- 初始化list begin -- //\r\n\t\t\tdata = data ? data : [];\r\n\t\t\tlist = typeof data == 'string' ? JSON.parse(data) : data;\r\n\t\t\t// -- 初始化数据 -- //\r\n\t\t\tfor (const listItem of list) {\r\n\t\t\t\tconst item: any = new this._itemCls(listItem);\r\n\t\t\t\tthis._values.indexOf(item) == -1 && this._values.push(item);\r\n\t\t\t\tconst key: any = this.getItemKey(this._mainKeys, item);\r\n\t\t\t\tthis._keys.indexOf(key) == -1 && this._keys.push(key);\r\n\t\t\t\tthis._dic[key] = item;\r\n\t\t\t}\r\n\t\t\tlist = null;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取字典length\r\n\t\t */\r\n\t\tpublic getlength(): number {\r\n\t\t\treturn this._keys.length;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取字典完整列表\r\n\t\t */\r\n\t\tpublic getList() {\r\n\t\t\treturn this._dic;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取数据 \r\n\t\t * @param keyId 主键\r\n\t\t */\r\n\t\tpublic getItemByMainKey(keyId: any): object {\r\n\t\t\tif (keyId instanceof Array) {\r\n\t\t\t\tkeyId = keyId.join(BaseDataHash.KEY_SPACE);\r\n\t\t\t}\r\n\t\t\treturn this._dic[keyId];\r\n\t\t}\t\t\r\n\r\n\t\t/**\r\n\t\t * 根据key名字和key的属性获取数据列表 ,全靠遍历，不会生成hash缓存\r\n\t\t * @param keyName 属性名，支持多个key的组合用法如,[\"ItemID\",\"Level\"],也可以是单个如\"ItemID\"\r\n\t\t * @param keyValue 查询属性的id值，对应keyName，如[12,2],单个的可以如12\r\n\t\t */\r\n\t\tpublic searhItems(keyName: any, keyValue: any): Array<any> {\r\n\t\t\treturn keyName instanceof Array ?\r\n\t\t\t\tthis.searchItemsByKeys(keyName, keyValue) :\r\n\t\t\t\tthis.searchItemsByKey(keyName, keyValue);\r\n\t\t}\r\n\r\n\t\tprivate searchItemsByKey(key: string, keyId: any): Array<any> {\r\n\t\t\tif ([key] == this._mainKeys) return [this.getItemByMainKey(keyId)];\r\n\t\t\tconst result: Array<any> = [];\r\n\t\t\tfor (const valueItem of this._values) {\r\n\t\t\t\tconst itemKey: any = valueItem[key];\r\n\t\t\t\tif (itemKey == keyId) {\r\n\t\t\t\t\tresult.push(valueItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tprivate searchItemsByKeys(keys: Array<any>, keyIds: Array<any>): Array<any> {\r\n\t\t\tconst key: string = keys.join(BaseDataHash.KEY_SPACE);\r\n\t\t\tconst keyValue: String = keyIds.join(BaseDataHash.KEY_SPACE);\r\n\t\t\tif (this._mainKeys instanceof Array && key == this._mainKeys.join(BaseDataHash.KEY_SPACE)) return [this.getItemByMainKey(keyValue)];\r\n\t\t\tconst result: Array<any> = [];\r\n\t\t\tfor (const valueItem of this._values) {\r\n\t\t\t\tconst itemKey: string = this.getItemKey(keys, valueItem);\r\n\t\t\t\tif (itemKey == keyValue) {\r\n\t\t\t\t\tresult.push(valueItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tprotected checkMainKey(item: object) {\r\n\t\t\tconst mainKey: Array<string> = this._mainKeys instanceof Array ? this._mainKeys : [this._mainKeys];\r\n\t\t\tfor (const key of mainKey) {\r\n\t\t\t\tconst tmp: any = item[key];\r\n\t\t\t\tif (!tmp) return null;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tprotected getItemKey(keys: Array<string>, data: object): string {\r\n\t\t\treturn keys.length == 1 ?\r\n\t\t\t\tdata[keys[0]] :\r\n\t\t\t\tkeys.reduce((p, n) => {\r\n\t\t\t\t\tconst t = p[0].toLowerCase() + p.substring(1, p.length);\r\n\t\t\t\t\tn = n[0].toLowerCase() + n.substring(1, n.length);\r\n\t\t\t\t\tif (data.hasOwnProperty(t)) {\r\n\t\t\t\t\t\treturn data[t] + BaseDataHash.KEY_SPACE + data[n];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn p + BaseDataHash.KEY_SPACE + data[n];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t// 默认的单项结构\r\n\t\tprotected get defaultItemCls(): any { return BaseDataItem; }\r\n\t\tpublic get length(): number { return this._values.length; }\r\n\t\tpublic get name(): string { return this._name; }\r\n\t\tpublic get values(): Array<any> { return this._values.concat(); }\r\n\t\tpublic get keys(): Array<any> { return this._keys.concat(); }\r\n\t}\r\n}","namespace zt.data {\r\n\r\n\t/**数据对象基类*/\r\n\texport class BaseDataItem extends Laya.EventDispatcher {\r\n\r\n\t\tconstructor(d: object) {\r\n\t\t\tsuper();\r\n\t\t\tfor (const key in d) {\r\n\t\t\t\tthis.setPropRead(key, d);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetPropRead(key: string, d: Object): void {\r\n\t\t\t/**\r\n\t\t\t * value:d[key]\r\n\t\t\t * writable:true\t\t如果为false，属性的值就不能被重写,只能为只读了\r\n\t\t\t * enumerable:false\t\t是否能在for...in循环中遍历出来或在Object.keys中列举出来。\r\n\t\t\t * configurable:true\t总开关，一旦为false，就不能再设置他的（value，writable，configurable）\r\n\t\t\t */\r\n\t\t\tObject.defineProperty(this, '_' + key, { value: d[key], writable: true, enumerable: false, configurable: true });\r\n\t\t\t/**\r\n\t\t\t * get:function() {return this['_'+key];}\r\n\t\t\t * enumerable:false\r\n\t\t\t * configurable:true\r\n\t\t\t */\r\n\t\t\tconst key1 = key[0].toLowerCase() + key.substring(1, key.length);\r\n\t\t\tObject.defineProperty(this, key1, { get: function () { return this['_' + key]; }, enumerable: false, configurable: true })\r\n\t\t}\r\n\t}\r\n}","namespace zt.data\r\n{\r\n\t/**\r\n\t * 动态数据管理基类 \r\n\t */\t\r\n\texport class DataHash extends BaseDataHash {\r\n\t\t\r\n\t\tpublic static D_UP='D_UP_';\r\n\t\tpublic static D_DEL = 'D_DEL_';\r\n\t\tpublic static D_ADD = 'D_ADD_';\r\n\r\n\t\t/**\r\n\t\t * @param name 表名\r\n\t\t * @param data 数据json\r\n\t\t * @param mainKey 主键\r\n\t\t * @param itemCls 数据对象类\r\n\t\t */\t\t\r\n\t\tconstructor (name: string, data: any = '', mainKey: any = 'ID', itemCls: any = null) {\r\n\t\t\tsuper(name, data, mainKey, itemCls);\r\n\t\t}\r\n\t\t\r\n\t\tget defaultItemCls():any { return DataItem; }\r\n\t\t\r\n\t\t/**\r\n\t\t * 移除数据 \r\n\t\t * @param item 移除的数据对象\r\n\t\t */\t\t\r\n\t\tpublic removeItem(item:object):object {\r\n\t\t\tif (!this.checkMainKey(item)) return null;\r\n\t\t\tconst key:string = this.getItemKey(this._mainKeys, item);\r\n\t\t\tconst preItem:object=this.getItemByMainKey(key);\r\n\t\t\tdelete this._dic[key];\r\n\t\t\tlet index:number=this._keys.indexOf(key);\r\n\t\t\tindex!=-1 && this._keys.splice(index,1);\r\n\t\t\tindex=this._values.indexOf(preItem);\r\n\t\t\tindex!=-1 && this._values.splice(index,1);\r\n\t\t\tzt.ctrl.GameCtrl.intance.event(DataHash.D_DEL+this.name, preItem);\r\n\t\t\treturn item;\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * 清理所有数据\r\n\t\t */\r\n\t\tpublic clearAll():void\r\n\t\t{\r\n\t\t\tfor(let key of this._keys)\r\n\t\t\t{\r\n\t\t\t\tthis._dic[key] = null ;\r\n\t\t\t\tdelete this._dic[key];\r\n\t\t\t}\r\n\t\t\tthis._keys = [];\r\n\t\t\tthis._values = [];\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 更新数据 \r\n\t\t * @param item 更新的数据内容\r\n\t\t */\t\t\r\n\t\tpublic updateItem(item: object): object {\r\n\t\t\tif (!this.checkMainKey(item)) return null;\r\n\t\t\tconst key:string = this.getItemKey(this._mainKeys, item);\r\n\t\t\tlet preItem:any=this.getItemByMainKey(key);\r\n\t\t\tif(preItem==null) {\r\n\t\t\t\tpreItem=this.addItem(item);\r\n\t\t\t} else {\r\n\t\t\t\tif(preItem.hasOwnProperty('hasUpdate')) {\r\n\t\t\t\t\tpreItem.update(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst index:number=this._values.indexOf(item);\r\n\t\t\t\t\tindex==-1 ? this._values.push(item) : this._values[index]=item;\r\n\t\t\t\t\tthis._dic[key]=item;\r\n\t\t\t\t\tpreItem=item;\r\n\t\t\t\t}\r\n\t\t\t\tzt.ctrl.GameCtrl.intance.event(DataHash.D_UP+this.name, preItem);\r\n\t\t\t}\r\n\t\t\treturn preItem;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 添加数据 \r\n\t\t * @param item 添加的数据对象\r\n\t\t * @return \r\n\t\t * \r\n\t\t */\t\t\r\n\t\tpublic addItem(item:object):object\r\n\t\t{\r\n\t\t\tif (!this.checkMainKey(item)) return null;\r\n\t\t\tconst key:string = this.getItemKey(this._mainKeys, item);\r\n\t\t\tconst preItem:object=this.getItemByMainKey(key);\r\n\t\t\tif(!preItem) {\r\n\t\t\t\tthis._itemCls!=null && (item=new this._itemCls(item));\r\n\t\t\t\tthis._dic[key]=item;\r\n\t\t\t\tthis._values.indexOf(item)==-1 && this._values.push(item);\r\n\t\t\t\tthis._keys.indexOf(key)==-1 && this._keys.push(key);\r\n\t\t\t\tzt.ctrl.GameCtrl.intance.event(DataHash.D_ADD+this.name, item);\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t\treturn preItem;\r\n\t\t}\r\n\t}\r\n}","namespace zt.data {\r\n\t\r\n\t/**\r\n\t * 动态数据对象基类 \r\n\t */\t\r\n\texport class DataItem extends BaseDataItem {\r\n\r\n\t\tconstructor(d:object) {\r\n\t\t\tsuper(d);\r\n\t\t}\r\n\r\n\t\thasUpdate:number = 1;\r\n\t\t\r\n\t\tpublic update(d:object):void {\r\n\t\t\tif(!d)return;\r\n\t\t\tfor(const key in d) {\r\n\t\t\t\tif ('_'+key in this) this['_'+key] = d[key];\r\n\t\t\t\telse this.setPropRead(key,d);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic updataByMode(d:object,p:Array<string>=[]): void {\r\n\t\t\tif(!d)return;\r\n\t\t\tfor(const key in d) {\r\n\t\t\t\tif (p.length == 0 || p.indexOf(key) == -1) continue;\r\n\t\t\t\tswitch(d['Mode']) {\r\n\t\t\t\t\tcase 'Sub':\r\n\t\t\t\t\t\tif ('_'+key in this) this['_'+key] -= d[key];\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Add':\r\n\t\t\t\t\t\tif ('_'+key in this) this['_'+key] += d[key];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","/// <reference path='./BaseDataHash.ts' />\r\nnamespace zt.manager {\r\n\timport DataHash = zt.data.DataHash;\r\n\timport BaseDataHash = zt.data.BaseDataHash;\r\n\texport class DataManager {\r\n\t\tprivate static _instance: DataManager;\r\n\t\tprivate _cache: object;\t\t//静态数据对象池\r\n\t\tprivate _waitPool: object;\t//等待安装的数据池\r\n\r\n\t\tconstructor() {\r\n\t\t\tthis._cache = {};\r\n\t\t\tthis._waitPool = {};\r\n\t\t}\r\n\r\n\t\tstatic get inst(): DataManager {\r\n\t\t\treturn this._instance || (this._instance = new DataManager());\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 注册静态数据表 \r\n\t\t * @param name 数据表名\r\n\t\t * @param data 数据\r\n\t\t * @param mainKeys 数据主键 可以是多个键值组合 如[\"ItemID\",\"Level\"]\r\n\t\t * @param itemCls 数据对象类\r\n\t\t * @param hashCls 数据表管理类\r\n\t\t * @param buildNow 是否直接构建，默认不构建\r\n\t\t */\r\n\t\tpublic registSysDataHash(name: string, data: any, mainKeys: any = null, \r\n\t\t\titemCls: any = null, hashCls: any = null, buildNow: Boolean = false): BaseDataHash {\r\n\t\t\thashCls = hashCls ? hashCls : BaseDataHash;\r\n\t\t\tif (!this._cache[name] && buildNow) {\r\n\t\t\t\tthis._cache[name] = new hashCls(name, data, mainKeys, itemCls);\r\n\t\t\t} else {\r\n\t\t\t\tthis._waitPool[name] = [name, data, itemCls, hashCls, mainKeys];\r\n\t\t\t}\r\n\t\t\treturn this._cache[name];\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取静态数据表 \r\n\t\t * @param name 表名\r\n\t\t */\r\n\t\tpublic getSysDataHash(name: string): BaseDataHash {\r\n\t\t\tif (this._waitPool[name]) {\r\n\t\t\t\tconst arr: Array<any> = this._waitPool[name];\r\n\t\t\t\t// tslint:disable-next-line:no-magic-numbers\r\n\t\t\t\tconst hashCls: any = (arr[3] ? arr[3] : BaseDataHash);\r\n\t\t\t\tconst data: string = arr[1];\r\n\t\t\t\tconst itemCls: any = arr[2];\r\n\t\t\t\t// tslint:disable-next-line:no-magic-numbers\r\n\t\t\t\tconst mainKey: any = arr[4];\r\n\t\t\t\tconst dataHash: BaseDataHash = new hashCls(name, data, mainKey, itemCls);\r\n\t\t\t\tdelete this._waitPool[name];\r\n\t\t\t\tthis._cache[name] = dataHash;\r\n\t\t\t}\r\n\t\t\treturn this._cache[name];\r\n\t\t}\r\n\r\n\t\tpublic getDataHash(name: string): DataHash {\r\n\t\t\tif (this._waitPool[name]) {\r\n\t\t\t\tconst arr: Array<any> = this._waitPool[name];\r\n\t\t\t\t// tslint:disable-next-line:no-magic-numbers\r\n\t\t\t\tconst hashCls: any = (arr[3] ? arr[3] : BaseDataHash);\r\n\t\t\t\tconst data: String = arr[1];\r\n\t\t\t\tconst itemCls: any = arr[2];\r\n\t\t\t\t// tslint:disable-next-line:no-magic-numbers\r\n\t\t\t\tconst mainKey: any = arr[4];\r\n\t\t\t\tconst dataHash: BaseDataHash = new hashCls(name, data, mainKey, itemCls);\r\n\t\t\t\tdelete this._waitPool[name];\r\n\t\t\t\tthis._cache[name] = dataHash;\r\n\t\t\t}\r\n\t\t\treturn this._cache[name];\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 注册数据表 \r\n\t\t * @param name 数据表名\r\n\t\t * @param data 数据\r\n\t\t * @param mainKey 动态表主键\r\n\t\t * @param itemCls 数据对象类\r\n\t\t * @param hashCls 数据表管理类\r\n\t\t * @param buildNow 是否直接构建，默认不构建\r\n\t\t */\r\n\t\tpublic registDataHash(name: string, data: any, mainKey: any, itemCls: any = null, hashCls: any = null, buildNow = false): DataHash {\r\n\t\t\thashCls = hashCls ? hashCls : DataHash;\r\n\t\t\tif (!this._cache[name] && buildNow) {\r\n\t\t\t\tthis._cache[name] = new hashCls(name, data, mainKey, itemCls);\r\n\t\t\t} else {\r\n\t\t\t\tthis._waitPool[name] = [name, data, itemCls, hashCls, mainKey];\r\n\t\t\t}\r\n\t\t\treturn this._cache[name];\r\n\t\t}\r\n\t}\r\n}","namespace zt {\r\n    export const reload = () => window.location.reload();\r\n}","namespace zt.effects\r\n{\r\n    import BlendMode = Laya.BlendMode ;\r\n    import Sprite = Laya.Sprite;\r\n    import LoaderManager = Laya.LoaderManager;\r\n    import Event = Laya.Event ;\r\n   /**\r\n    *特效管理 \r\n    *负责处理特效销毁 特效播放\r\n    *位置处理等\r\n    * @since 2017.11.20\r\n    * @author wangcongyan \r\n    */\r\n    export class AniFactory\r\n    {\r\n        private static _ins:AniFactory ;\r\n        private  _effectCache:object = {};\r\n        private  _moduleCache:object = {};\r\n        constructor()\r\n        {\r\n\r\n        }\r\n\r\n        static getInstance():AniFactory\r\n        {\r\n            if(!this._ins)\r\n            {\r\n                this._ins = new AniFactory();\r\n            }\r\n            return this._ins;\r\n        }\r\n\r\n        /**\r\n         * 创建特效 约定特效有效模块 当模块被关闭时 同时清理特效\r\n         * @param  \r\n         * @param  \r\n         */\r\n        createEffect($url:string,$module:string,$endToRemove:boolean = true,$once:boolean = false,$callBack:Function = null):Effect\r\n        {\r\n            let moduleEffect  = this._effectCache[$module];\r\n            if(moduleEffect == null)\r\n            {\r\n                moduleEffect = {};\r\n                this._effectCache[$module] = moduleEffect;\r\n            }\r\n            let effectList:Effect[] =  this._effectCache[$module][$url];\r\n            let effect:Effect ;\r\n            if(!effectList || effectList.length == 0)\r\n            {\r\n                effect =  new Effect($url,$once,$endToRemove,$callBack);\r\n                effect.index = 0 ;\r\n                effect.module = $module ;\r\n                effect.isSingle = false;\r\n                effect.on('play_complete',this,this.effectComplete);\r\n                if(!effectList)effectList = [];\r\n                this._effectCache[$module][$url] = effectList ;\r\n            }else\r\n            {\r\n                effect = effectList.pop();\r\n                effect.index = 0 ;\r\n                effect.callBack = $callBack ;\r\n            }\r\n            return effect;\r\n        }\r\n\r\n\r\n        /**\r\n         * 创建一个单例显示特效 该特效在一个模块只显示展示一次\r\n         */\r\n        createSingleEffect($url:string,$module:string,$endToRemove:boolean = true,$once:boolean = false,$callBack:Function = null):Effect\r\n        {\r\n            let effect : Effect = this._effectCache[$url];\r\n            if(!effect)\r\n            {\r\n                effect =  new Effect($url,$once,$endToRemove,$callBack);\r\n                effect.module = $module ;\r\n                effect.isSingle = true ;\r\n                effect.on('play_complete',this,this.effectComplete);\r\n                let moudleList:string[];\r\n                if($module != '' && $module != undefined)\r\n                {\r\n                    moudleList = this._moduleCache[$module]\r\n                    if(moudleList == null)\r\n                    {\r\n                        moudleList = [];\r\n                        this._moduleCache[$module] = moudleList;\r\n                    }\r\n                    if(moudleList.indexOf($url) == -1)\r\n                    {\r\n                        moudleList.push($url);\r\n                    }\r\n                }\r\n                this._effectCache[$url] = effect ;\r\n            }\r\n            return effect;\r\n        }\r\n\r\n\r\n        /**\r\n         * 特效播放完成\r\n         * @param \r\n         */\r\n         effectComplete($target:Effect,force:boolean = false):void\r\n        {\r\n            const target:Effect = $target  ;\r\n            if(target.callBack)\r\n            {\r\n                target.callBack(); //执行回调\r\n            }\r\n            if(target.isOnce) //\r\n            {\r\n                delete this._effectCache[$target.module];\r\n                target.off('play_complete',this,this.effectComplete);\r\n                target.destroy(true);\r\n                Laya.loader.clearRes(target.url,true);\r\n            }\r\n            if(target.loop && target.endToRemove )\r\n            {\r\n                alert('循环播放特效不需要结束时移除');\r\n                return ;\r\n            }\r\n            if(target.endToRemove || force) //播放结束后移除对象但缓存\r\n            {\r\n                target.removeSelf();\r\n                if(target.isSingle == false)\r\n                {\r\n                    this.resyleEffectGroup(target);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         *重置特效\r\n         */\r\n        clearSingleEffect($url:string):void\r\n        {\r\n            const effect:Effect  = this._effectCache[$url] ;\r\n            if(effect == null)return ;\r\n            let effectList : string[];\r\n            let index = 0 ;\r\n            effect.removeSelf();\r\n        }\r\n\r\n\r\n        /**\r\n         * 将特效组放入重用池\r\n         */\r\n        resyleEffectGroup($effect:Effect):void\r\n        {\r\n            $effect.x = 0 ;\r\n            $effect.y = 0 ;\r\n            $effect.index = 0 ;\r\n            $effect.isCenter = false;\r\n            const module:string = $effect.module ;\r\n            const url:string = $effect.url ;\r\n            let effectObj = this._effectCache[module];\r\n            if(!effectObj || effectObj && !effectObj[url])\r\n            {\r\n                this.disposeEffect($effect);  \r\n            }else\r\n            {\r\n                let effectList:Effect[] = effectObj[url];\r\n                effectList.push($effect);\r\n                $effect.removeSelf();\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * 释放模块特效\r\n         * @param  \r\n         * @param  \r\n         */\r\n        disposeByUrl($url:string):void\r\n        {\r\n            const effect:Effect  = this._effectCache[$url] ;\r\n            if(effect == null)return ;\r\n            delete this._effectCache[$url];\r\n            this.disposeEffect(effect);\r\n        }\r\n\r\n\r\n        /**\r\n         * 销毁特效\r\n         * @param  effect\r\n         */\r\n        disposeEffect(effect:Effect):void\r\n        {\r\n            if(effect.hasListener(Event.COMPLETE))\r\n            {\r\n                effect.off('play_complete',this,this.effectComplete);\r\n            }\r\n            effect.destroy(true);\r\n        }\r\n\r\n\r\n        /**\r\n         * 释放模块特效\r\n         */\r\n        disposeModule($module:string):void\r\n        {\r\n            let effectList = this._moduleCache[$module];\r\n            let effect:Effect ;\r\n            let url:string = \"\";\r\n            if(effectList)\r\n            {\r\n                for(const url of effectList)\r\n                    {\r\n                        this.disposeByUrl(url);\r\n                        Laya.loader.clearRes(url,true);\r\n                    }\r\n            }\r\n            const effectObj:Object= this._effectCache[$module] ;\r\n            if(!effectObj)return ;\r\n            for(const key in effectObj)\r\n            {\r\n                const effectList = effectObj[key];\r\n                for(const ani  of effectList)\r\n                {\r\n                    this.disposeEffect(ani)\r\n                    Laya.loader.clearRes(ani.url,true);\r\n                }\r\n            }\r\n            delete this._effectCache[$module] ;\r\n        }\r\n\r\n        /**\r\n         * 创建战斗特效（普攻和技能）\r\n         * @param  $url \r\n         * @param  $x\r\n         * @param  $y\r\n         * @param  $isContray\r\n         * @param  $length\r\n         * @param  $parent\r\n         */\r\n        public createFightEffect($url: string,$x:number,$y:number,$isContray:boolean,$length:number,$parent: Sprite,$isAttack:boolean):SkillEffect\r\n        {\r\n            const skillEffect =  new SkillEffect($url,$x,$y,$isContray,$length,$parent,$isAttack);\r\n            skillEffect.module = 'battle';\r\n            return skillEffect;\r\n        }\r\n\r\n        /**\r\n         * 清理所有缓存特效 一般拒绝使用该方法 \r\n         */\r\n        public  dispose():void\r\n        {\r\n            for(let key  in  this._moduleCache)\r\n            {\r\n                this.disposeModule(key);\r\n            }\r\n        }\r\n    }\r\n\r\n     /**\r\n     * 特效在面板中出现多次时使用该方法\r\n     * @param  url 特效路径\r\n     * @param  module 特效所在模板\r\n     * @param  endToRemove 播放完成后是否移除\r\n     * @param  once 是否只使用一次\r\n     * @param  callBack 回调函数\r\n     */\r\n    export const createEffect = ($url:string,$module:string,$endToRemove:boolean = true,$once:boolean = false,$callBack:Function = null):Effect=>\r\n    {\r\n        const effect:Effect = AniFactory.getInstance().createEffect($url,$module,$endToRemove,$once,$callBack);\r\n        \r\n        return effect;\r\n    }\r\n \r\n\r\n    /**\r\n     * 特效在面板中独立出现时使用该方法\r\n     * @param  url 特效路径\r\n     * @param  module 特效所在模板\r\n     * @param  endToRemove 播放完成后是否移除\r\n     * @param  once 是否只使用一次\r\n     * @param  callBack 回调函数\r\n     */\r\n    export const createSingleEffect =($url:string,$module:string,$endToRemove:boolean = true,$once:boolean = false,$callBack:Function = null):Effect=>\r\n    {\r\n        const effect:Effect = AniFactory.getInstance().createSingleEffect($url,$module,$endToRemove,$once,$callBack);\r\n        return effect;\r\n    }   \r\n\r\n\r\n    /**\r\n     * 销毁当前模块中所有特效\r\n    */\r\n    export const disposeModule = (module:string)=>\r\n    {\r\n        zt.effects.AniFactory.getInstance().disposeModule(module);\r\n    }\r\n\r\n    /**\r\n     * 移除对象并添加到重用池\r\n     * @param effect \r\n     */\r\n    export const resyleEffectGroup = (effect:Effect)=>\r\n    {\r\n        if(!!effect == false) return;\r\n        zt.effects.AniFactory.getInstance().effectComplete(effect,true);\r\n    }\r\n\r\n    /**\r\n     * 播放居中特效序列\r\n     */\r\n    export const playCenterQueueEffect = ($url:string,$module:string,$width:number,$height:number,$x:number = 0,$y:number=0)=>\r\n    {\r\n        EffectQueue.ins.addToCenterQunue($url,$module,$width,$height,$x,$y);\r\n    }\r\n\r\n      /**\r\n     * 播放居中特效序列\r\n     */\r\n    export const playAutoQueueEffect = ($url:string,$module:string,$width:number,$height:number,$x:number = 0,$y:number = 0)=>\r\n    {\r\n        EffectQueue.ins.addToAutoQunue($url,$module,$width,$height,$x,$y);\r\n    }\r\n\r\n    /**\r\n     * 创建技能特效\r\n     * @param  url 特效路径\r\n     * @param  module 特效所在模板\r\n     * @param  endToRemove 播放完成后是否移除\r\n     * @param  once 是否只使用一次\r\n     * @param  callBack 回调函数\r\n     */\r\n    export const createSkillEffect = ($url: string,$x:number,$y:number,$isContray:boolean,$length:number,$parent: Sprite,$isAttack:boolean):SkillEffect=>\r\n    {\r\n        const skillEffect =  zt.effects.AniFactory.getInstance().createFightEffect($url,$x,$y,$isContray,$length,$parent,$isAttack);\r\n        return skillEffect;\r\n    }\r\n}","namespace zt.effects\r\n{   \r\n    import Rectangle = Laya.Rectangle;\r\n    import Texture = Laya.Texture ;\r\n    /**\r\n     * @author wangcongyan\r\n     * @since 2017.03.01\r\n     * @description 飘字\r\n     * @class DamageFactory\r\n     */\r\n    export class DamageFactory\r\n    {\r\n        /**\r\n\t\t * 伤害文字管理类 单利 \r\n\t\t */\t\t\r\n        private static _instance:DamageFactory ;\r\n        public DAMAGE:string = 'd' ;\r\n        public HEAL:string = 'h' ;\r\n        public CRITICAL:string = 'c';\r\n        private _damageType:object = {0:'d',1:'d',2:'c',3:'h'};\r\n        constructor()\r\n        {\r\n\r\n        }\r\n\r\n        /**\r\n\t\t * 获取当前对象单例 \r\n\t\t * @return \r\n\t\t */\t\t\r\n\t\tpublic static get instance():DamageFactory\r\n\t\t{\r\n\t\t\tif(!this._instance)\r\n\t\t\t{\r\n\t\t\t\tthis._instance = new DamageFactory();\r\n\t\t\t}\r\n\t\t\treturn this._instance ;\r\n        }\r\n        \r\n        /**\r\n\t\t * 获取伤害显示容器 \r\n\t\t * @param $hurtNum\r\n\t\t * @param $type\r\n\t\t * @param $isAdd\r\n\t\t * @return DamageNum\r\n\t\t */\r\n\t\tpublic getDamageView($num:DamageNum,$hurtNum:String,$type:number,$isAdd:Boolean = false,$gap:number = 6 ):void\r\n\t\t{\r\n            var len:number = $hurtNum.length,i:number = 0  ;\r\n            const type:string = this._damageType[$type];\r\n            let url:string;\r\n            let t:Texture;\r\n            let pos:number = 0;\r\n            let urlTemp :string \r\n            for(let i  = 0 ; i < len; i ++)\r\n            {\r\n                const num = $hurtNum.charAt(i);\r\n                urlTemp = `fight/damage/damageNum/${type}${num}.png`;\r\n                url =  zt.utils.getResourceURL(urlTemp);\r\n                t =  Laya.loader.getRes(url);\r\n                if(!t)\r\n                {\r\n                    console.log('test');\r\n                    continue ;\r\n                }\r\n                $num.graphics.drawTexture(t,pos);\r\n                pos += (t.width + $gap);\r\n            }\r\n\t\t}\r\n\r\n        public init()\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n    }\r\n\r\n\r\n}","namespace zt.effects\r\n{\t\r\n\timport Tween = Laya.Tween ;\r\n\timport Ease = Laya.Ease ;\r\n\timport Handler = Laya.Handler;\r\n\timport Sprite = Laya.Sprite;\r\n\t/**\r\n\t * @class DamageNum\r\n\t * @usage 伤害数字 \r\n\t * @author congyan.wang\r\n\t * @since 2016.08.26\r\n\t */\t\r\n\texport class DamageNum extends Sprite\r\n\t{\r\n\t\tprivate  _dispose:boolean = false;\r\n\t\t\r\n\t\tpublic  type:number = 0 ;\r\n\t\t\r\n\t\tpublic  isAdd:boolean = false;\r\n\t\t\r\n\t\t/**\r\n\t\t * 伤害数字对象池 \r\n\t\t */\t\t\r\n\t\tprivate static _damagePool:DamageNum[] = [];\r\n\t\tconstructor()\r\n\t\t{\r\n            super();\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t *  获取一个伤害数字对象  \r\n\t\t * @param $hurtNum 伤害数\r\n\t\t * @param $type  伤害类型 0、普通伤害，1 暴击、2恢复\r\n\t\t * @param $isAdd\r\n\t\t * @return \r\n\t\t */\r\n\t\tpublic static getDamageNum($hurtNum:number,$type:number,$isAdd:boolean):DamageNum\r\n\t\t{\r\n\t\t\tvar damageNum:DamageNum = this._damagePool.pop() ;\r\n\t\t\tif(!damageNum)\r\n\t\t\t{\r\n\t\t\t\tdamageNum = new DamageNum();\r\n\t\t\t}\r\n\t\t\tconst hurtTxt:string = $hurtNum/1000 > 10000 ? $hurtNum%1000 + 'k':$hurtNum +'';\r\n\t\t\tdamageNum.type = $type ;\r\n\t\t\t$isAdd = damageNum.isAdd = $hurtNum > 0 ? true : false ;\r\n\t\t\tDamageFactory.instance.getDamageView(damageNum,$hurtNum.toString(),$type,$isAdd);\r\n\t\t\treturn damageNum ;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * 设置数字 \r\n\t\t * @param $hurtNum\r\n\t\t */\t\t\r\n\t\tpublic setNum($hurtNum:number):void\r\n\t\t{\r\n\t\t\tDamageFactory.instance.getDamageView(this,$hurtNum.toString(),this.type,this.isAdd);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * 设置缩放比例 \r\n\t\t * @param scale\r\n\t\t */\t\t\r\n\t\tpublic setScale(scale:number):void\r\n\t\t{\r\n\t\t\tthis.scaleX = this.scaleY = scale ;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n\t\t * 销毁对象 \r\n\t\t */\t\t\r\n\t\tpublic dispose():void\r\n\t\t{\r\n\t\t\tif(this.parent)\r\n\t\t\t{\r\n\t\t\t\tthis.parent.removeChild(this);\r\n\t\t\t}\r\n\t\t\tthis.graphics.clear();\r\n\t\t\tthis.alpha = this.scaleY = this.scaleX = 1 ;\r\n\t\t\tthis.x = this.y = 0 ;\r\n\t\t\tthis._dispose = true ;\r\n\t\t\tDamageNum._damagePool.push(this);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 飘字效果播放\r\n\t\t * @param  \r\n\t\t */\r\n\t\tpublic play($type:number):void\r\n\t\t{\r\n\t\t\tswitch($type)\r\n\t\t\t{\t\r\n\t\t\t\tcase 0:\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.playLoseBlood();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.playCrticle();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate playLoseBlood():void\r\n\t\t{\r\n\t\t\tconst radian = 100 ;\r\n\t\t\tvar posX : Number = this.x + 100 * Math.cos(radian);\r\n\t\t\tvar posY : Number = this.y + 100 * Math.sin(radian);\r\n\t\t\tthis.setScale(1.5);\r\n\t\t\tTween.to(this, {'alpha' : 1 ,'scaleX' : 1 , 'scaleY' : 1, 'x' : posX , 'y' : posY},1000,Ease.elasticOut,\r\n\t\t\tHandler.create(this,this.onPlayComplete));\r\n\t\t}\r\n\r\n\r\n\t\tprivate playCrticle():void\r\n\t\t{\r\n\t\t\tconst radian = 100 ;\r\n\t\t\tvar posX : Number = this.x + 100 * Math.cos(radian);\r\n\t\t\tvar posY : Number = this.y + 100 * Math.sin(radian);\r\n\t\t\tthis.setScale(1.5);\r\n\t\t\tTween.to(this, {'alpha' : .5 ,'scaleX' : 1 , 'scaleY' : 1, 'x' : posX , 'y' : posY},1000,Ease.elasticOut,\r\n\t\t\tHandler.create(this,this.onPlayComplete));\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 动效播放完毕\r\n\t\t */\r\n\t\tprivate onPlayComplete():void\r\n\t\t{\r\n\t\t\tthis.graphics.clear();\r\n\t\t\tthis.parent.removeChild(this);\r\n\t\t\tthis.alpha = 1;\r\n\t\t\tDamageNum._damagePool.push(this);\r\n\t\t}\r\n\t}\r\n\t\r\n}","namespace zt.effects {\r\n    import Sprite = Laya.Sprite ;\r\n    import BlendMode = Laya.BlendMode;\r\n    import Handler = Laya.Handler ;\r\n\r\n    /**\r\n     * 特效基础类\r\n     * 用来显示特效\r\n     */\r\n    export class Effect extends Laya.Animation \r\n    {\r\n        public isOnce:boolean = false;\r\n        public url:string = '';\r\n        private _callBack:Function;\r\n        public endToRemove:boolean;\r\n        private _module:string;\r\n        private _isSingle:boolean = false;\r\n        private _cacheFrame:object;\r\n        private _currentFrame:number ;\r\n        private _loadCompleteList:Handler[];\r\n        private _isCenter:boolean = false;\r\n        private _scale:number;\r\n        private _container:any;\r\n        constructor($url: string,$once:boolean,$endToRemove:boolean,$callBack:Function = null) \r\n        {\r\n            super();\r\n            this._count = 2147483648;\r\n            this.url = $url ;\r\n            this.loadAtlas($url,Handler.create(this,this.loadComplete));\r\n            this.isOnce = $once;\r\n            this.endToRemove = $endToRemove;\r\n            this._callBack = $callBack;\r\n            this.on(Laya.Event.COMPLETE,this,this.onPlayComplete);\r\n        }\r\n\r\n\r\n        private loadComplete():void\r\n        {\r\n            if(this._loadCompleteList)\r\n            {\r\n                for(let call of this._loadCompleteList)\r\n                {\r\n                    call.run();\r\n                }\r\n            }\r\n            if(this.isCenter)\r\n            {\r\n                const bounds: Laya.Rectangle = this.getGraphicBounds();\r\n                this.x = this._container['width'] / 2 -  bounds.width * this._scale / 2;\r\n                this.y = this._container['height']  / 2 -bounds.height * this._scale / 2;\r\n            }\r\n        }\r\n\r\n        private onPlayComplete():void\r\n        {\r\n            if(this.frames && this.frames.length > 0)\r\n                this.event('play_complete',this);\r\n        }\r\n\r\n\r\n        /**\r\n         * @param  parent 特效父容器\r\n         * @param  x x pos\r\n         * @param  y y pos\r\n         * @param isLoop 是否循环播放 和endToMove互斥\r\n         * @param  blendMode blendMode类型 \r\n         */\r\n        playEffect($parent: Sprite,$x:number,$y:number,$isLoop:boolean = false,$blendMode:string = BlendMode.NORMAL,$callBack:Function = null,speed:number = 30):void\r\n        {\r\n            if($callBack)\r\n                this.callBack = $callBack ;\r\n            this.x = $x ;\r\n            this.y = $y ;\r\n            this.blendMode = $blendMode||Laya.BlendMode.NORMAL ;\r\n            $parent.addChild(this);\r\n            this.interval = speed ;\r\n            this.play(1,$isLoop);\r\n        }\r\n\r\n        /**\r\n         * 将特效添加到容器并居中对其\r\n         * @param \r\n         * @param  \r\n         * @param  \r\n         * @param  \r\n         * @param speed \r\n         */\r\n        playEffectAtCenter($parent: Sprite,$isLoop:boolean = false,$blendMode:string = BlendMode.NORMAL,speed:number = 60,scale:number = 1):void\r\n        {\r\n            this._isCenter = true;\r\n            this.blendMode = $blendMode ;\r\n            this._container = $parent ;\r\n            this._scale = scale;\r\n            $parent.addChild(this);\r\n            this.play(1,$isLoop);\r\n            this.interval = speed ;\r\n            if(this.isCenter)\r\n            {\r\n                const bounds: Laya.Rectangle = this.getGraphicBounds();\r\n                this.x = this._container['width'] / 2 -bounds.width * scale/ 2;\r\n                this.y = this._container['height']  / 2 -bounds.height * scale/ 2;\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * 添加帧函数\r\n         */\r\n        protected _frameLoop(): void\r\n        {   \r\n            if(this._cacheFrame)\r\n            {\r\n                if(this._cacheFrame[this._index])\r\n                {\r\n                    (this._cacheFrame[this._index] as Handler).run();\r\n                    delete this._cacheFrame[this._index];\r\n                }\r\n            }\r\n            super._frameLoop();\r\n        }\r\n\r\n        addFrame($frame:number,$handle:Handler):void\r\n        {\r\n            if(this._cacheFrame == null)\r\n            {\r\n                this._cacheFrame = {};\r\n            }\r\n            this._cacheFrame[$frame] = $handle ;\r\n        }\r\n\r\n        /**\r\n         *注册加载完成方法\r\n         */\r\n        registerLoadComplete($func:Handler):void\r\n        {\r\n\t     if(!this._loadCompleteList)\r\n            {\r\n                this._loadCompleteList = [];\r\n            }\r\n            if(this._loadCompleteList.indexOf($func) == -1)\r\n            {\r\n                this._loadCompleteList.push($func);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 特效停止播放\r\n         */\r\n        stopEffect():Effect\r\n        {\r\n            this.stop();\r\n            return this ;\r\n        }\r\n\r\n        changeSpeed($inteval:number):void\r\n        {\r\n            this.interval = $inteval ;\r\n        }\r\n\r\n        destroy(destroyChild?: boolean): void\r\n        {\r\n            this.off(Laya.Event.COMPLETE,this,this.onPlayComplete);\r\n            if(this._cacheFrame)\r\n                this._cacheFrame = null ;\r\n            super.destroy(true);\r\n        }\r\n\r\n        set module(value:string)\r\n        {\r\n            this._module = value ;\r\n        }\r\n\r\n        get module():string\r\n        {\r\n            return this._module ;\r\n        }\r\n\r\n        set isSingle(value:boolean)\r\n        {\r\n            this._isSingle = value ;\r\n        }\r\n\r\n        get isSingle():boolean\r\n        {\r\n            return this._isSingle  ;\r\n        }\r\n\r\n        set callBack(value:Function)\r\n        {\r\n            this._callBack = value ;\r\n        }\r\n\r\n        get callBack():Function\r\n        {\r\n            return this._callBack ;\r\n        }\r\n\r\n        get isCenter():boolean{\r\n            return this._isCenter;\r\n        }\r\n\r\n        set isCenter(value:boolean){\r\n            this._isCenter = value ;\r\n        }\r\n\r\n        get name():string\r\n        {\r\n            return this.url;\r\n        }\r\n    }\r\n}","namespace zt.effects\r\n{   \r\n    /** \r\n     *@description 特效顺序播放\r\n     *@author wangcongyan\r\n     *@since 2018.02.27\r\n    */\r\n    export class EffectQueue\r\n    {   \r\n        private static _ins:EffectQueue ;\r\n        private _effectQueue:object ;\r\n        static CENTER = 'center';\r\n        static AUTO = 'auto';\r\n        private _isCenterPlaying:boolean = false ;\r\n        private _isAutoPlaying:boolean = false ;\r\n        constructor()\r\n        {\r\n            this._effectQueue = {};\r\n        }\r\n\r\n        /**\r\n         * 获取单例\r\n         */\r\n        public static get ins():EffectQueue\r\n        {\r\n            if(EffectQueue._ins == null)\r\n            {\r\n                EffectQueue._ins = new EffectQueue();\r\n            }\r\n            return EffectQueue._ins;\r\n        }\r\n\r\n        /** \r\n         * @description 添加进居中播放序列\r\n        */\r\n        public addToCenterQunue($url:string,$module:string,$width:number,$height:number,$x:number,$y:number):void\r\n        {\r\n            const effectData = this.getEffectData($url,$module,$width,$height,$x,$y,EffectQueue.CENTER);\r\n            if(!!this._effectQueue[EffectQueue.CENTER] == false)\r\n            {\r\n                this._effectQueue[EffectQueue.CENTER] = [];\r\n            }\r\n            this._effectQueue[EffectQueue.CENTER].push(effectData);\r\n            this.playEffect(EffectQueue.CENTER);\r\n        }\r\n\r\n          /** \r\n         * @description 添加进居中播放序列\r\n        */\r\n       public addToAutoQunue($url:string,$module:string,$width:number,$height:number,$x:number,$y:number):void\r\n       {\r\n           const effectData = this.getEffectData($url,$module,$width,$height,$x,$y,EffectQueue.CENTER);\r\n           if(!!this._effectQueue[EffectQueue.CENTER] == false)\r\n           {\r\n               this._effectQueue[EffectQueue.CENTER] = [];\r\n           }\r\n           this._effectQueue[EffectQueue.CENTER].push(effectData);\r\n           this.playEffect(EffectQueue.CENTER);\r\n       }\r\n\r\n        private playEffect($type:string):void\r\n        {\r\n            const effectList:any[] = this._effectQueue[$type];\r\n            if(this._isCenterPlaying)return ;\r\n            if(!effectList ||effectList.length == 0)\r\n            {\r\n                this._isCenterPlaying = false;\r\n                return ;\r\n            } \r\n            let effectData = effectList.shift();\r\n            const effect:effects.Effect = zt.effects.createEffect(effectData.url,effectData.module,true);\r\n            const container:Sprite = zt.Layers.getLayer('top') as Sprite ;\r\n            const w:number = Laya.stage.width ;\r\n            const h:number = Laya.stage.height ;\r\n            let offsetX =  effectData.x;\r\n            let offsetY =  effectData.y;\r\n            if($type == EffectQueue.CENTER)\r\n            {\r\n                offsetX = (w - effectData.width) /2 ;\r\n                offsetY = (h - effectData.height) /2 ;\r\n            }\r\n     \r\n            effect.playEffect(container,offsetX,offsetY,false,Laya.BlendMode.NORMAL,null,effectData.speed);\r\n            this._isCenterPlaying = true ;\r\n            effect.on('play_complete',this,this.playEffectComplete,[EffectQueue.CENTER]);\r\n            effectData = null;\r\n        }\r\n\r\n        \r\n\r\n        /**\r\n         * 特效播放结束\r\n         * @param  $type\r\n         */\r\n        private playEffectComplete($type:string):void\r\n        {\r\n            this._isCenterPlaying = false;\r\n            this.playEffect($type);\r\n        }\r\n\r\n        /**\r\n         * 获取特效描述信息\r\n         * @param  $url\r\n         * @param  $module\r\n         * @param  $width\r\n         * @param  $height\r\n         * @param  $type\r\n         */\r\n        private getEffectData($url:string,$module:string,$width:number,$height:number,$x:number,$y:number,$type:string):EffectData\r\n        {\r\n            const effectData:EffectData = new EffectData();\r\n            effectData.url = $url ;\r\n            effectData.module = $module ;\r\n            effectData.width = $width ;\r\n            effectData.height = $height;\r\n            effectData.x = $x ;\r\n            effectData.y = $y ;\r\n            effectData.type = $type;\r\n            return effectData;\r\n        }\r\n    }\r\n\r\n    export class EffectData\r\n    {\r\n        public url:string ;\r\n        public module:string;\r\n        public width:number;\r\n        public height:number;\r\n        public type:string ;\r\n        public speed:number = 60;\r\n        public x:number;\r\n        public y:number;\r\n    }\r\n}","namespace zt.effects {\r\n    import Sprite = Laya.Sprite ;\r\n    import BlendMode = Laya.BlendMode;\r\n    import Handler = Laya.Handler ;\r\n    import Loader = Laya.Loader ;\r\n    import Texture = Laya.Texture ;\r\n    import Rectangle = Laya.Rectangle;\r\n    import GraphicAnimation = Laya.GraphicAnimation;\r\n    /**\r\n     * 技能攻击特效\r\n     * 用来显示特效\r\n     * @since 2018.03.05\r\n     */\r\n    export class SkillEffect extends Sprite \r\n    {\r\n        public url:string = '';\r\n        private _module:string;\r\n        private _cacheFrame:object;\r\n        private _currentFrame:number ;\r\n        private _loadCompleteList:Handler[];\r\n        private interval:number;\r\n        private frames:any[];\r\n        private _totalFrame:number;\r\n        private _speed:number ;\r\n        private _isContray:boolean;\r\n        private _length:number;\r\n        private _isLoadComplete:boolean;\r\n        private _rectangle:Rectangle ;\r\n        private _isPlaying:boolean = false;\r\n        private _isStart:boolean = false;\r\n        private _sourceWidth:number;\r\n        private _sourceHeight:number ;\r\n        private _isAttack:Boolean;\r\n        private _startFrame:number ;\r\n        private _isLoop:boolean = false;\r\n        constructor($url: string,$x:number,$y:number,$isContray:boolean,$length:number,$parent: Sprite,$isAttack:boolean) \r\n        {\r\n            super();\r\n            this.url = $url ;\r\n            this.x = $x ;\r\n            this.y = $y ;\r\n            this._isAttack = $isAttack ;\r\n            this._isContray = $isContray ; \r\n            this._length = $length ;\r\n            $parent.addChildAt(this,0);\r\n            this.rotation = this._isContray ? 154:-26;\r\n            // this.rotation = this._isContray ? 140:-40;\r\n            Laya.loader.load($url, Handler.create(this, this.loadComplete), null, Laya.Loader.ATLAS);\r\n        }\r\n\r\n        /**\r\n         * 动画资源加载完毕\r\n         */\r\n        private loadComplete():void\r\n        {\r\n           this.parseAni();\r\n            if(this._loadCompleteList)\r\n            {\r\n                for(let call of this._loadCompleteList)\r\n                {\r\n                    call.run();\r\n                }\r\n            }\r\n            if(this._isStart && this._isPlaying == false)\r\n            {\r\n                this.play(this._startFrame);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 解析动画获取当前动画总帧数\r\n         */\r\n        private parseAni():void\r\n        {\r\n            var atlas = Loader.getAtlas(this.url);\r\n            if (!atlas)  return ;\r\n            //缓存动画数据\r\n            this._currentFrame = 0 ;\r\n            this.frames = atlas ;\r\n            this._totalFrame = atlas.length ;\r\n            this._isLoadComplete = true ;\r\n        }\r\n\r\n        /**\r\n         * 技能特效加载完成\r\n         */\r\n        private checkPlayComplete():boolean\r\n        {\r\n            if(this._currentFrame >= this._totalFrame )\r\n            {\r\n                if(this._isLoop)\r\n                {\r\n                    this._currentFrame = 0 ;\r\n                    return false;\r\n                }\r\n                this.event('play_complete',this);\r\n                this.dispose();\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n\r\n        /**\r\n         * 技能特效默认只播放一次然后特效播放完成后清除注册的帧方法和加载完成事件 \r\n         * @private\r\n         * @memberof SkillEffect\r\n         */\r\n        private dispose():void\r\n        {\r\n            this._loadCompleteList = [];\r\n            this.graphics.clear();\r\n            this.removeSelf();\r\n        }\r\n\r\n        public playEffect(speed:number = 30,isLoop:boolean = false,$blendMode:string = BlendMode.NORMAL,frame:number = 0):void\r\n        {\r\n            this.blendMode = $blendMode||Laya.BlendMode.NORMAL ;\r\n            this.interval = speed ;\r\n            this._isStart = true ;\r\n            this._startFrame = frame ;\r\n            this._isLoop = isLoop ;\r\n            this.play(frame);\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param frame \r\n         * @param \r\n         */\r\n        private play(frame:number = -1):void\r\n        {\r\n            if(!this._isLoadComplete)return;\r\n            this._currentFrame = frame == -1 ? frame:this._startFrame;\r\n            this._isPlaying = true ;\r\n            Laya.timer.loop(this.interval,this,this.loop);\r\n        }\r\n\r\n        public get isPlaying():boolean\r\n        {\r\n            return this._isPlaying;\r\n        }\r\n\r\n\r\n        /**\r\n         * 添加帧函数\r\n         */\r\n        protected loop(): void\r\n        {   \r\n            const playComplete = this.checkPlayComplete();\r\n            const frame:number = this._currentFrame ;\r\n            if(playComplete)\r\n            {\r\n                Laya.timer.clear(this,this.loop);\r\n                return ;\r\n            } ;\r\n            this._isPlaying = true ;\r\n            const isAttack = this._isAttack ;\r\n            const length:number = this._length ;\r\n            const aniUrl:string = this.frames[frame];\r\n            const t:Texture =  Laya.loader.getRes(aniUrl);\r\n            const tw = t.sourceWidth ;\r\n            let x:number = isAttack ? 0 :  tw - length;\r\n            let w:number = length;\r\n            const source:Texture =  Texture.createFromTexture2(t,x + t.offsetX,t.offsetY,w,t.height,t.sourceWidth,t.sourceHeight);\r\n            source.offsetX = t.offsetX;\r\n            source.offsetY = t.offsetY;\r\n            this.graphics.cleanByTexture(source,0,0);\r\n            if(this._cacheFrame)\r\n            {\r\n                if(this._cacheFrame[frame])\r\n                {\r\n                    (this._cacheFrame[frame] as Handler).run();\r\n                    delete this._cacheFrame[frame];\r\n                }\r\n            }\r\n            this._currentFrame ++ ;\r\n        }\r\n\r\n        public addFrame($frame:number,$handle:Handler):void\r\n        {\r\n            if(this._cacheFrame == null)\r\n            {\r\n                this._cacheFrame = {};\r\n            }\r\n            this._cacheFrame[$frame] = $handle ;\r\n        }\r\n\r\n        /**\r\n         *注册加载完成方法\r\n         */\r\n        public registerLoadComplete($func:Handler):void\r\n        {\r\n            if(!this._loadCompleteList)\r\n            {\r\n                this._loadCompleteList = [];\r\n            }\r\n            if(this._loadCompleteList.indexOf($func) == -1)\r\n            {\r\n                this._loadCompleteList.push($func);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 特效停止播放\r\n         */\r\n        public stopEffect():SkillEffect\r\n        {\r\n            Laya.timer.clear(this,this.loop);\r\n            this._isPlaying = false;\r\n            return this ;\r\n        }\r\n\r\n        public changeSpeed($inteval:number):void\r\n        {\r\n            this.interval = $inteval ;\r\n            Laya.timer.clear(this,this.loop);\r\n            Laya.timer.loop(this.interval,this,this.loop);\r\n        }\r\n\r\n        public destroy(destroyChild?: boolean): void\r\n        {\r\n            if(this._cacheFrame)\r\n                this._cacheFrame = null ;\r\n            this.graphics.clear();\r\n            super.destroy(true);\r\n        }\r\n\r\n        public get module():string\r\n        {\r\n            return this._module ;\r\n        }\r\n\r\n        public set module(value:string)\r\n        {\r\n            this._module = value ;\r\n        }\r\n\r\n        public get name():string\r\n        {\r\n            return this.url;\r\n        }\r\n    }\r\n}","namespace zt.loader\r\n{\r\n\texport class ModuleItem\r\n\t{\r\n\t\tprivate _url:string;\r\n\t\tprivate _name:string;\r\n\t\tprivate _projPrefix:string;\r\n\t\tprivate _onComplete:Laya.Handler;\r\n\t\t\r\n\t\tpublic load(moduleName:string,fileName:string, onComplete:Laya.Handler):void\r\n\t\t{\r\n\t\t\tthis._name = moduleName;\r\n\t\t\tthis._onComplete = onComplete;\r\n\t\t\tthis._url = utils.getJSURL(fileName ? fileName:this._name);\r\n\t\t\tLaya.loader.load(this._url, Laya.Handler.create(this, this.onload), null, Laya.Loader.TEXT);\r\n\t\t}\r\n\t\t\r\n\t\tprivate onload(data:any):void {\r\n\t\t\tdata += ' \\n//# sourceURL=' + this._url;\r\n\t\t\tLaya.Browser.window.\r\n\t\t\teval(data);\r\n\t\t\tLaya.Loader.clearRes(this._url);\r\n\t\t\tconst obj:Object = utils.ModuleUtils.getInstance(this._name);\r\n\t\t\tif(this._onComplete) this._onComplete.runWith(obj);\r\n\t\t}\r\n\t}\r\n}","namespace zt.net {\r\n\timport Handler = Laya.Handler;\r\n\timport Byte = Laya.Byte;\r\n\t/**\r\n\t * call一般协议，即最常见的游戏业务协议 \r\n\t */\r\n\texport const call = (cmd: string, params: Object, callback: Handler = null, errorHandler: Handler = null, noMask = false) => {\r\n\t\t!noMask && showMask();\r\n\t\tconst msgHead: MessageHeadOut = new MessageHeadOut(\r\n\t\t\tMessageType.ENTITY,\r\n\t\t\tComponentType.CLIENT,\r\n\t\t\tWebParams.userId,\r\n\t\t\tComponentType.GATEWAYAPP, GetwayAppMgr.list[0].id);\r\n\t\tGameSocket.instance.send(msgHead, { Cmd: cmd, Content: params },\r\n\t\t\tHandler.create(null, (data) => {\r\n\t\t\t\t!noMask && hideMask();\r\n\t\t\t\tcallback && callback.runWith(data);\r\n\t\t\t}),\r\n\t\t\tHandler.create(null, (data) => {\r\n\t\t\t\t!noMask && hideMask();\r\n\t\t\t\terrorHandler && errorHandler.runWith(data);\r\n\t\t\t}))\r\n\t}\r\n\r\n\texport const on = (cmd: string, caller, method) => {\r\n\t\tGameSocket.instance.on(cmd, caller, method);\r\n\t}\r\n\texport const off = (cmd: string, caller, method) => {\r\n\t\tGameSocket.instance.off(cmd, caller, method);\r\n\t}\r\n\r\n\texport const onSeq = (cmd: string, cb: Handler, onerror?: Handler): Function => {\r\n\t\tconst onevent = (data) => {\r\n\t\t\tif (data.Code > 0 && onerror)\r\n\t\t\t\tonerror.runWith(data.Code);\r\n\t\t\tif (data.Code <= 0 && cb)\r\n\t\t\t\tcb.runWith(data.Content)\r\n\t\t};\r\n\t\tconst eventname: string = EventUtils.getSeqEventName(cmd);\r\n\t\tGameSocket.instance.on(eventname, null, onevent);\r\n\t\treturn onevent;\r\n\t}\r\n\texport const onSeqOff = (cmd: string, onevent) => {\r\n\t\tconst eventname: string = EventUtils.getSeqEventName(cmd);\r\n\t\tGameSocket.instance.off(eventname, null, onevent);\r\n\t}\r\n\r\n\texport const callCompMsg = (toCompType: number, toCompID: number, toCompCMD: number, data: any,\r\n\t\tcallback: Handler, errorHandler: Handler) => {\r\n\t\tconst msgHead: MessageHeadOut = new MessageHeadOut(MessageType.COMPONENT,\r\n\t\t\tComponentType.CLIENT, WebParams.userId, toCompType, toCompID);\r\n\t\tGameSocket.instance.sendComponentMsg(msgHead, toCompCMD, data, callback, errorHandler);\r\n\t}\r\n\r\n\texport const getByteObj = (data: any = null): Byte => {\r\n\t\tconst result: Byte = new Byte(data);\r\n\t\tresult.endian = Byte.BIG_ENDIAN;\r\n\t\treturn result;\r\n\t}\r\n\r\n\texport class EventUtils {\r\n\t\tpublic static getSeqEventName(cmd: string): string {\r\n\t\t\treturn `_SEQ_${cmd}`;\r\n\t\t}\r\n\t\tpublic static getSeqEventNames(cmds: string[]): string[] {\r\n\t\t\tconst result: string[] = [];\r\n\t\t\tfor (const i of cmds) {\r\n\t\t\t\tresult.push(EventUtils.getSeqEventName(i));\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n}","namespace zt {\r\n    import Handler = Laya.Handler;\r\n    import call = zt.net.call;\r\n    export class Calls extends Laya.EventDispatcher {\r\n        private _list: { cmd: string, params, data?}[];\r\n        private _counter = 0;\r\n        constructor() {\r\n            super();\r\n            this._list = [];\r\n        }\r\n\r\n        add(cmd: string, params) {\r\n            this._list.push({ cmd: cmd, params: params });\r\n        }\r\n\r\n        addCmds(list: { cmd: string, params, data?}[]) {\r\n            this._list = this._list.concat(list);\r\n        }\r\n\r\n        start() {\r\n            if (!this._list || this._list.length === 0) {\r\n                this.event(Laya.Event.COMPLETE);\r\n                return;\r\n            }\r\n            this._list.forEach(i => {\r\n                call(i.cmd, i.params, Handler.create(this, (data) => {\r\n                    this.check();\r\n                    i.data = data;\r\n                }), Handler.create(this, () => {\r\n                    this.check();\r\n                }));\r\n            })\r\n        }\r\n\r\n        private check() {\r\n            this._counter++;\r\n            if (this._counter == this._list.length) {\r\n                this.event(Laya.Event.COMPLETE);\r\n            }\r\n        }\r\n\r\n        get list() { return this._list }\r\n    }\r\n}","// tslint:disable:no-console\r\nnamespace zt.net {\r\n\timport EventDispatcher = Laya.EventDispatcher;\r\n\timport Handler = Laya.Handler;\r\n\timport Event = Laya.Event;\r\n\timport Byte = Laya.Byte;\r\n\texport class GameSocket extends EventDispatcher {\r\n\r\n\t\tprivate static _instance: GameSocket;\r\n\t\tprivate _socket: ISocketProxy;\r\n\t\tprivate _onConnected: Handler;\r\n\t\tprivate _url: string;\r\n\t\tprivate _counter: number;\r\n\t\tprivate _callbacks: object;\r\n\t\tprivate _errorHandlers: object;\r\n\t\tprivate _componentMsgCb: Handler;\r\n\t\tprivate _componentErrorCb: Handler;\r\n\t\tprivate _inited: boolean;\r\n\t\tprivate protocols: Array<any>;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tstatic get instance(): GameSocket {\r\n\t\t\treturn GameSocket._instance || (GameSocket._instance = new GameSocket());\r\n\t\t}\r\n\r\n\t\tinit(socket: ISocketProxy): void {\r\n\t\t\tif (this._inited) return;\r\n\t\t\tthis._inited = true;\r\n\t\t\tthis._socket = socket;\r\n\t\t\tthis._counter = 0;\r\n\t\t\tthis._callbacks = {};\r\n\t\t\tthis._errorHandlers = {};\r\n\t\t\tthis.initEvent();\r\n\t\t}\r\n\r\n\t\tconnect(url: string, onConnected: Handler): void {\r\n\t\t\tthis._url = url.indexOf('ws://') == -1 ? 'ws://' + url : url;\r\n\t\t\tthis._onConnected = onConnected;\r\n\t\t\tthis._socket.connectByUrl(this._url);\r\n\t\t}\r\n\r\n\t\tsetProtocol(protocol: string): GameSocket {\r\n\t\t\tthis._socket.protocols.push(protocol);\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tsendHeart(): void {\r\n\t\t\tconst msgHead: MessageHeadOut = new MessageHeadOut(MessageType.NULL);\r\n\t\t\tconst out: PackageOut = new PackageOut();\r\n\t\t\tout.writeData(msgHead);\r\n\t\t\tthis._socket.send(out.buffer);\r\n\t\t\tconsole.log(`[${this.getTime()}][sending heart]`, 'head', msgHead.toString());\r\n\t\t}\r\n\r\n\t\tsendComponentMsg(msgHead: MessageHeadOut, componentCMD: number, data: any, callback: Handler, errorHandler: Handler): void {\r\n\t\t\tthis._componentMsgCb = callback;\r\n\t\t\tthis._componentErrorCb = errorHandler;\r\n\t\t\tconst out: PackageOut = new PackageOut();\r\n\t\t\tout.writeData(msgHead, componentCMD, data);\r\n\t\t\tthis._socket.send(out.buffer);\r\n\t\t\tconst compression: String = out.flag == FlagType.COMPRESS ? 'compressed' : 'uncompressed';\r\n\t\t\tconst compresslen: String = out.flag == FlagType.COMPRESS ? ',compresslen=' + out.msgBodyLen : '';\r\n\t\t\t__getDebugEnabled('bufferlen') && console.log(`[buffer len =  ${out.buffer.byteLength}]`)\r\n\t\t\tconsole.log(`[${this.getTime()}][sending component message][` + compression + ',msglen=' + out.msgbody.length + '' + compresslen + ']',\r\n\t\t\t\tmsgHead.toString(), 'component cmd:', componentCMD, 'data:', data);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * send业务协议 \r\n\t\t * @param msgHead\r\n\t\t * @param data\r\n\t\t * @param callback\r\n\t\t * @param errorHandler\r\n\t\t * \r\n\t\t */\r\n\t\tsend(msgHead: MessageHeadOut, data: any, callback: Handler, errorHandler: Handler): void {\r\n\t\t\tif (!zt.__getEnabled('net')) return;\r\n\t\t\tif (!this._callbacks)\r\n\t\t\t\tthrow new Error('game socket没有初始化.');\r\n\t\t\tthis._counter++;\r\n\t\t\tthis._callbacks[this._counter] = callback;\r\n\t\t\tthis._errorHandlers[this._counter] = errorHandler;\r\n\t\t\tdata['Seq'] = this._counter;\r\n\t\t\tdata = JSON.stringify(data);\r\n\t\t\tconst out: PackageOut = new PackageOut();\r\n\t\t\tout.writeData(msgHead, 0, data);\r\n\t\t\tthis._socket.send(out.buffer);\r\n\t\t\t__getDebugEnabled('bufferlen') && console.log(`[buffer len =  ${out.buffer.byteLength}]`)\r\n\t\t\tconsole.log(`[${this.getTime()}][sending][Seq=${this._counter}]`, data);\r\n\r\n\t\t}\r\n\r\n\t\tprivate initEvent(): void {\r\n\t\t\tthis._socket.onSocketOpen = Handler.create(this, this.onSocketOpen, null, false);\r\n\t\t\tthis._socket.onMessageReceived = Handler.create(this, this.onMessageReceived, null, false);\r\n\t\t\t//\t\t\t_socket.on(Event.OPEN, this, onSocketOpen);\r\n\t\t\t//\t\t\t_socket.on(Event.MESSAGE, this, onMessageReceived);\r\n\t\t\tthis._socket.on(Event.CLOSE, this, this.onSocketClose, null);\r\n\t\t\tthis._socket.on(Event.ERROR, this, this.onConnectError, null);\r\n\t\t}\r\n\r\n\t\tremoveEvents(): void {\r\n\t\t\tthis._socket.on(Event.OPEN, this, this.onSocketOpen, null);\r\n\t\t\tthis._socket.on(Event.CLOSE, this, this.onSocketClose, null);\r\n\t\t\tthis._socket.on(Event.MESSAGE, this, this.onMessageReceived, null);\r\n\t\t\tthis._socket.on(Event.ERROR, this, this.onConnectError, null);\r\n\t\t}\r\n\r\n\t\tonSocketOpen(e: any): void {\r\n\t\t\tconsole.log(`[${this.getTime()}][socket]`, this._url + ' connected.');\r\n\t\t\tthis._onConnected && this._onConnected.run();\r\n\t\t\tthis._onConnected = null;\r\n\t\t}\r\n\r\n\t\tonSocketClose(e: any): void {\r\n\t\t\tconsole.log(`[${this.getTime()}][socket]`, e.target.url + ' socket closed.');\r\n\t\t\tthis._socket && this._socket.close();\r\n\t\t\t// for (const handler of this._callbacks) {\r\n\t\t\t// \thandler.once && handler.recover();\r\n\t\t\t// }\r\n\t\t\tthis._callbacks = this._errorHandlers = null;\r\n\t\t\tthis.offAll();\r\n\t\t}\r\n\r\n\t\tonMessageReceived(buffer: ArrayBuffer): void {\r\n\t\t\tconst inpkg: PackageIn = new PackageIn(buffer);\r\n\t\t\tinpkg.endian = Byte.BIG_ENDIAN;\r\n\t\t\tinpkg.parse();\r\n\r\n\t\t\tlet data: any;\r\n\t\t\tif (inpkg.msgHead.type == MessageType.COMPONENT) {\r\n\t\t\t\tdata = inpkg.content;\r\n\t\t\t\tconsole.log(`[${this.getTime()}][component message received]`, inpkg.msgHead.toString());\r\n\t\t\t\tthis.handleComponentMsgBack(inpkg.content);\r\n\t\t\t} else if (inpkg.msgHead.type == MessageType.ENTITY) {\r\n\t\t\t\tif (inpkg.content === '') {\r\n\t\t\t\t\tconsole.log(`[${this.getTime()}][ENTITY message received]`, inpkg.msgHead.toString());\r\n\t\t\t\t\tthrow new Error('entity content cannot be empty string');\r\n\t\t\t\t}\r\n\t\t\t\tdata = JSON.parse(inpkg.content);\r\n\t\t\t\tconst Seq: number = data.Seq;\r\n\t\t\t\tif (Seq != 0) {\r\n\t\t\t\t\tconsole.log(`[${this.getTime()}][received][Seq=${Seq}] ${inpkg.content}`);\r\n\t\t\t\t\t__getEnabled('json') && console.log(data.Content);\r\n\t\t\t\t\t__getEnabled('json') && console.log('')\r\n\t\t\t\t\tthis.event(EventUtils.getSeqEventName('*'), data);\r\n\t\t\t\t\tconst callBack: Handler = this._callbacks[Seq];\r\n\t\t\t\t\tconst errorHandler: Handler = this._errorHandlers[Seq];\r\n\t\t\t\t\tdelete this._callbacks[Seq];\r\n\t\t\t\t\tdelete this._errorHandlers[Seq];\r\n\t\t\t\t\tdata.Code > 0 && errorHandler && errorHandler.runWith(data);\r\n\t\t\t\t\tdata.Code === 0 && callBack && callBack.runWith(data.Content);\r\n\t\t\t\t\tdata.Code === 0 && this.event(EventUtils.getSeqEventName(data.Cmd), data.Content);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(`[${this.getTime()}][Notify] ${inpkg.content}`);\r\n\t\t\t\t\tthis.event(data.Cmd, {Content:data.Content});\r\n\t\t\t\t\tthis.event('*', {Content:data.Content});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleComponentMsgBack(data: any): void {\r\n\t\t\tthis._componentMsgCb && this._componentMsgCb.runWith(data);\r\n\t\t}\r\n\r\n\t\tonConnectError(e: any): void {\r\n\t\t\tconsole.log('error', e);\r\n\t\t}\r\n\r\n\t\tprivate getTime(): String {\r\n\t\t\tconst date: Date = new Date();\r\n\t\t\treturn `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}:${date.getMilliseconds()}`;\r\n\t\t}\r\n\r\n\t\tclose(): void {\r\n\t\t\tthis._socket && this._socket.close();\r\n\t\t}\r\n\t}\r\n}","namespace zt.net {\r\n    export class GetwayAppMgr {\r\n        static list: any[] = [];\r\n    }\r\n}","namespace zt.net {\r\n\r\n\texport class SocketProxy implements net.ISocketProxy {\r\n\t\t\r\n\t\tprivate _socket:Laya.Socket;\r\n\t\tprivate _onMessageReceived:Laya.Handler;\r\n\t\tprivate _onSocketOpen:Laya.Handler;\r\n\t\tconstructor () {\r\n\t\t\tthis._socket = new Laya.Socket();\r\n\t\t\tthis._socket.on(Laya.Event.OPEN, this, this.$onSocketOpen);\r\n\t\t\tthis._socket.on(Laya.Event.MESSAGE, this, this.$onMessageReceived);\r\n\t\t}\r\n\t\t\r\n\t\tprivate $onSocketOpen(e:any):void {\r\n\t\t\tthis._onSocketOpen.runWith(e);\r\n\t\t}\r\n\t\tprivate $onMessageReceived(e:any):void {\r\n\t\t\tthis._onMessageReceived.runWith(e);\r\n\t\t}\r\n\t\t\r\n\t\tset onMessageReceived(val:Laya.Handler) {\r\n\t\t\tthis._onMessageReceived= val;\r\n\t\t}\r\n\t\t\r\n\t\tset onSocketOpen(val:Laya.Handler) {\r\n\t\t\tthis._onSocketOpen = val;\r\n\t\t}\r\n\t\t\r\n\t\tconnectByUrl(url:string):void {\r\n\t\t\tthis._socket.connectByUrl(url);\r\n\t\t}\r\n\t\t\r\n\t\ton(type:string, caller:any, listener:Function, args:Array<any>=null):Laya.EventDispatcher\r\n\t\t{\r\n\t\t\treturn this._socket.on(type, caller, listener, args);\r\n\t\t}\r\n\t\t\r\n\t\tclose():void {\r\n\t\t\tthis._socket.close();\r\n\t\t}\r\n\t\t\r\n\t\tget protocols():Array<any>\r\n\t\t{\r\n\t\t\treturn this._socket.protocols;\r\n\t\t}\r\n\t\t\r\n\t\tsend(data:any):void\r\n\t\t{\r\n\t\t\tthis._socket.send(data);\r\n\t\t}\r\n\t}\r\n}","namespace zt.net {\r\n\t// \r\n\texport enum CELLAPPType {};\r\n\r\n\t//\r\n\texport enum ComponentCMDType {REQUEST_GATEWAYAPP=1,LOGIN,LOGOUT,INTERRUPT,ERROR};\r\n\r\n\t//\r\n\texport enum ComponentIDType {GATEWAYAPPMGR=1};\r\n\r\n\t//\r\n\texport enum ComponentType {CLIENT=1,GATEWAYAPPMGR,GATEWAYAPP,CELLAPP};\r\n\r\n\t//\r\n\texport enum FlagType {UNCOMPRESS,COMPRESS};\r\n\r\n\t//\r\n\texport enum MessageType {NULL,COMPONENT,ENTITY};\r\n}","namespace zt.scene {\r\n\timport Sprite = Laya.Sprite;\r\n\timport ILayer = zt.universe.view.ILayer ;\r\n\timport Tween = Laya.Tween;\r\n\texport class SceneBase extends Sprite {\r\n\t\tprivate _moveTween:Tween;\r\n\t\tprivate static DURATION = 400;\r\n\r\n\t\t/**\r\n\t\t * @param pos 包含了指定点和偏移的信息\r\n\t\t * @param layerName \r\n\t\t */\r\n\t\tmove(pos: ScenePos, layerName: string, params) {\r\n\t\t\tconst x = pos.x;\r\n\t\t\tconst y = pos.y;\r\n\t\t\tconst offsetX = pos.offsetX;\r\n\t\t\tconst offsetY = pos.offsetY;\r\n\t\t\tconst layer = this.layer ;\r\n\t\t\tconst bgX = x ;\r\n\t\t\tconst bgY = y ;\r\n\t\t\tlet bgToX = Math.min(0, bgX + offsetX);\r\n\t\t\tlet bgToY = Math.min(0, bgY + offsetY);\r\n\t\t\tbgToX = Math.max(bgToX, -  layer['width'] + Laya.stage.width);\r\n\t\t\tbgToY = Math.max(bgToY, - layer['height'] + Laya.stage.height);\r\n\t\t\tthis._moveTween = Laya.Tween.to(layer, {\r\n\t\t\t\tx: bgToX,\r\n\t\t\t\ty: bgToY\r\n\t\t\t}, params.duration || SceneBase.DURATION, null, Laya.Handler.create(this, this.moveComplete));\r\n\t\t}\r\n\r\n\t\tprivate find(layerName: string): ILayer {\r\n\t\t\treturn this.layers.filter((layer) => {\r\n\t\t\t\treturn layer.name === layerName;\r\n\t\t\t})[0];\r\n\t\t}\r\n\r\n\t\tpublic update(val: any) {\r\n\t\t\tthis.params = val;\r\n\t\t\tthis.reBuild();\r\n\t\t}\r\n\r\n\t\tpublic preproccess(): void \r\n\t\t{\r\n\t\t\t throw Error('must be overrided') \r\n\t\t}\r\n\t\tpublic build(): void \r\n\t\t{\r\n\t\t\t throw Error('must be overrided') \r\n\t\t}\r\n\t\tpublic dispose() \r\n\t\t{\r\n\t\t\tif(this._moveTween)\r\n\t\t\t{\r\n\t\t\t\tthis._moveTween.clear();\r\n\t\t\t\tthis._moveTween = null; \r\n\t\t\t}\r\n\t\t\tthis.disposeTexture();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 面板关闭后清理纹理资源\r\n\t\t */\r\n\t\tprivate disposeTexture():void\r\n\t\t{\r\n\t\t\tconst res:any = this.res;\r\n\t\t\tlet url:string = ''\r\n\t\t\tfor(let urlObj of res)\r\n\t\t\t{\t\r\n\t\t\t\tif(!!urlObj.ignore)continue ;\r\n\t\t\t\turl = urlObj.url ;\r\n\t\t\t\tLaya.loader.clearRes(url,true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprotected moveComplete() { throw Error('must be overrided') }\r\n\r\n\t\tget cmds(): { cmd: string, params, data?}[] { return [] }\r\n\t\tget res(): Array<any> { return null }\r\n\t\tprotected _params: SceneParams;\r\n\t\tset params(val: any) { this._params = val; }\r\n\t\tget params() { return this._params }\r\n\t\tprotected reBuild() { throw Error('must be overrided') }\r\n\t\tprotected get layer(): ILayer { return null; }\r\n\t\tprotected get layers(): ILayer[] { return null; }\r\n\t}\r\n}","namespace zt.scene {\r\n\t\r\n\texport class SceneData\r\n\t{\r\n\t\tprivate _name:string;\r\n\t\tprivate _gui:Array<any>;\r\n\t\tprivate _backgroundID:string;\r\n\r\n\t\tconstructor(obj:object) {\r\n\t\t\tthis._name = obj['name'];\r\n\t\t\tthis._gui = obj['gui'];\r\n\t\t\tthis._backgroundID = obj['backgroundID'];\r\n\t\t}\r\n\r\n\t\tget background():string {\r\n\t\t\treturn this._backgroundID;\r\n\t\t}\r\n\r\n\t\tset background(value:string) {\r\n\t\t\tthis._backgroundID = value;\r\n\t\t}\r\n\r\n\t\tget gui():Array<any> {\r\n\t\t\treturn this._gui;\r\n\t\t}\r\n\r\n\t\tset gui(value:Array<any>) {\r\n\t\t\tthis._gui = value;\r\n\t\t}\r\n\r\n\t\tget name():string {\r\n\t\t\treturn this._name;\r\n\t\t}\r\n\r\n\t\tset name(value:string) {\r\n\t\t\tthis._name = value;\r\n\t\t}\r\n\t}\r\n}","namespace zt.scene {\r\n\texport class SceneEvent {\r\n\t\t\r\n\t\tpublic static RES_LOAD = 'resload';\r\n\t\tpublic static PRELOAD_COMPLETE = 'PRELOAD_COMPLETE';\r\n\t\tpublic static START_DISPOSE = 'start_dispose';\r\n\t\tpublic static DISPOSE = 'dispose';\r\n\t\t\r\n\t}\r\n}","namespace zt.scene {\r\n\timport Handler = Laya.Handler;\r\n\texport class SceneItem extends Laya.EventDispatcher \r\n\t{\r\n\t\tprivate _name: string;\r\n\t\tprivate _scene: SceneBase;\r\n\t\tprivate _params: SceneParams;\r\n\t\tprivate _resLoaded = false;\r\n\t\tprivate _dataLoaded = false;\r\n\t\tprivate _isReBuild:boolean = false;\r\n\t\tpublic constructor(name: string, scene: SceneBase, params: SceneParams) \r\n\t\t{\r\n\t\t\tsuper();\r\n\t\t\tthis._scene = scene;\r\n\t\t\tthis._name = name;\r\n\t\t\tthis._params = params;\r\n\t\t\tif(this._params)\r\n\t\t\t{\r\n\t\t\t\tthis._params.sceneName = name ;\r\n\t\t\t}else\r\n\t\t\t{\r\n\t\t\t\tthis._params = {sceneName:name};\r\n\t\t\t}\r\n\t\t\tctrl.GameCtrl.intance.event(Scene.CHANGESCENE);//切换场景\r\n\t\t}\r\n\r\n\t\tpublic preload() \r\n\t\t{\r\n\t\t\tshowAppLoading();\r\n\t\t\tthis.loadRes();\r\n\t\t\tthis.loadData();\r\n\t\t}\r\n\r\n\t\tpublic update(params:SceneParams):void\r\n\t\t{\r\n\t\t\tthis._isReBuild = true ;\r\n\t\t\tthis._params = params ;\r\n\t\t\tthis.scene.update(params);\r\n\t\t\tthis.loadData();\r\n\t\t}\r\n\r\n\t\tprivate loadRes(): void \r\n\t\t{\r\n\t\t\tif (this._scene.res.length === 0) {\r\n\t\t\t\tthis.onResLoad();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tLaya.loader.load(this._scene.res, Handler.create(this, this.onResLoad), Handler.create(this, this.onResProgress, null, false));\r\n\t\t}\r\n\r\n\t\tprivate onResProgress(val: number) \r\n\t\t{\r\n\t\t\tupdateAppLoading(val);\r\n\t\t}\r\n\r\n\t\tprivate loadData() \r\n\t\t{\r\n\t\t\tconst calls = new Calls();\r\n\t\t\tcalls.addCmds(this._scene.cmds);\r\n\t\t\tcalls.once(Laya.Event.COMPLETE, this, () => {\r\n\t\t\t\tthis._dataLoaded = true;\r\n\t\t\t\tthis.checkComplete()\r\n\t\t\t});\r\n\t\t\tcalls.start();\r\n\t\t}\r\n\r\n\t\tprivate onResLoad(): void \r\n\t\t{\r\n\t\t\tthis.event(app.AppEvent.RES_LOAD);\r\n\t\t\tthis._resLoaded = true;\r\n\t\t\tthis.checkComplete();\r\n\t\t}\r\n\r\n\t\tprivate checkComplete() \r\n\t\t{\r\n\t\t\tif (this._resLoaded && this._dataLoaded) \r\n\t\t\t{\r\n\t\t\t\thideAppLoading();\r\n\t\t\t\tthis.event(scene.SceneEvent.PRELOAD_COMPLETE);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tget scene(): SceneBase \r\n\t\t{\r\n\t\t\treturn this._scene;\r\n\t\t}\r\n\r\n\t\tget name(): string \r\n\t\t{\r\n\t\t\treturn this._name;\r\n\t\t}\r\n\r\n\t\tget params(): SceneParams \r\n\t\t{\r\n\t\t\treturn this._params\r\n\t\t}\r\n\r\n\t\tdispose() \r\n\t\t{\r\n\t\t\tthis._scene.dispose();\r\n\t\t}\r\n\r\n\t}\r\n}","// tslint:disable:no-magic-numbers\r\nnamespace zt {\r\n    /**\r\n     * 系统启动之后(framework加载)经过的时间，单位毫秒.\r\n     */\r\n    export const getTimer = (): number => {\r\n        return Date.now() - window['zt']['__sysStartTime'];\r\n    }\r\n\r\n    export const getServerTime = (): number => {\r\n        const now: number = Date.now();\r\n        return Math.ceil(System._systemTime + (now - System._systemTimeTag) / 1000);\r\n    }\r\n\r\n    /**\r\n    * \r\n    * @param time 单位秒\r\n    * @param type 枚举类型CountDownType\r\n    * @param dibit 是否双位\r\n    */\r\n    export const formatTime = (time: number, type: string = CountDownType.HMS, dibit = false, suffixs = ['h', 'm', 's']): string => {\r\n        let countdown = getCountDown(time, type, dibit);\r\n        countdown = countdown.map((val, index) => `${val}${suffixs[index]}`);\r\n        return countdown.join('');\r\n    }\r\n\r\n    export const formatTimeHMS = (time:number): string => {\r\n        let date: Date = new Date(time * 1000);\r\n        let hours:number = date.getHours();\r\n        let minutes:number = date.getMinutes();\r\n        let seconds:number = date.getSeconds();\r\n        let str = (hours < 10 ? \"0\" + hours.toString() : hours.toString());\r\n        str += \":\";\r\n        str = str + (minutes < 10 ? \"0\" + minutes.toString() : minutes.toString());\r\n        str += \":\";\r\n        str = str + (seconds < 10 ? \"0\" + seconds.toString() : seconds.toString());\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param time 单位秒\r\n     * @param type 枚举类型CountDownType\r\n     * @param dibit 是否双位\r\n     */\r\n    export const getCountDown = (time: number, type: string = CountDownType.HMS, dibit = false): any[] => {\r\n        let result: any[] = [];\r\n        if (type.indexOf('s') !== -1) {\r\n            result.push(time % 60);\r\n        }\r\n\r\n        if (type.indexOf('m') !== -1) {\r\n            result.unshift(Math.floor((time % 3600) / 60));\r\n        }\r\n\r\n        if (type.indexOf('h') >= 0) {\r\n            if (type == CountDownType.HMS) {\r\n                result.unshift(Math.floor(time / 3600));\r\n            }\r\n            else {\r\n                result.unshift(Math.floor((time % 86400) / 3600));\r\n            }\r\n        }\r\n\r\n        if (type.indexOf('d') >= 0) {\r\n            result.unshift(Math.floor(time / 86400));\r\n        }\r\n\r\n        if (dibit)\r\n            result = result.map((ele) => {\r\n                return ele < 10 ? `0${ele}` : ele;\r\n            })\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 根据小时分钟配置获取当天时间的时间戳\r\n     * @param hourTime '1200'\r\n     */\r\n    export const getSysTimeByTime = (hourTime: string): number => {\r\n        const currDate = getDateByTime(getServerTime());\r\n        const hour = parseInt(hourTime.substr(0, 2));\r\n        const minute = parseInt(hourTime.substr(2, 2));\r\n        return currDate.setHours(hour, minute, 0) / 1000;\r\n    }\r\n\r\n    /**\r\n     * 时间偏移，返回偏移后的时间戳\r\n     * @param time 时间戳\r\n     * @param offset 偏移值 {'d':天,'h':小时,'m':分钟,'s':秒}\r\n     */\r\n    export const offsetTime = (time: number, offset: any): number => {\r\n        const date = getDateByTime(time);\r\n        let h = date.getHours();\r\n        let m = date.getMinutes();\r\n        let s = date.getSeconds();\r\n        if (offset.d != null) {\r\n            date.setDate(date.getDate() + offset.d);\r\n        }\r\n        if (offset.h != null) {\r\n            h += offset.h;\r\n        }\r\n        if (offset.m != null) {\r\n            m += offset.m;\r\n        }\r\n        if (offset.s != null) {\r\n            s += offset.s;\r\n        }\r\n        return date.setHours(h, m, s) / 1000;\r\n    }\r\n\r\n    /**\r\n     * 根据时间戳获取时间数据\r\n     * @param time 时间戳\r\n     */\r\n    export const getDateByTime = (time: number): Date => {\r\n        return new Date(time * 1000);\r\n    }\r\n\r\n    export class CountDownType {\r\n        static HMS = 'hms'\r\n        static DHMS = 'dhms'\r\n    }\r\n}","namespace zt.tips {\r\n\texport const getTipBg = (): Laya.Sprite => {\r\n\t\treturn (fairygui.UIPackage.createObject('lib', 'tips') as fairygui.GImage).displayObject;\r\n\t}\r\n}","namespace zt.tips {\r\n    import Sprite = Laya.Sprite;\r\n    import Tween = Laya.Tween;\r\n    import Handler = Laya.Handler;\r\n    import Loader = Laya.Loader;\r\n    import Texture = Laya.Texture ;\r\n    import RaiseParams = zt.RaiseParams;\r\n    export class RaisingImageManager \r\n    {\r\n        private _layer: Sprite;\r\n\r\n        /**\r\n         * 需要顺序播放的存在这个数组 其他的直接播放\r\n         */\r\n        private _waitsQuene: string[];\r\n        private _waitParamsQuene: any[];\r\n        private _busy: boolean;\r\n        private static _instance: RaisingImageManager;\r\n        \r\n        /**\r\n         * @param url 纹理地址\r\n         * @param param 飞行参数\r\n         */\r\n        add(url:string,raiseParam:RaiseParams) \r\n        {        \r\n            if(raiseParam.isQuene)\r\n            {\r\n                this._waitsQuene = this._waitsQuene || [];\r\n                this._waitParamsQuene = this._waitParamsQuene || [];\r\n                this._waitsQuene.push(url);\r\n                this._waitParamsQuene.push(raiseParam);\r\n                this.checkNext();\r\n            }else\r\n            {\r\n                this.playRaise(url,raiseParam);\r\n            }\r\n        }\r\n\r\n        private checkNext(): void \r\n        {\r\n            this._waitsQuene.length > 0 && this.next();\r\n        }\r\n\r\n        private next(): void \r\n        {\r\n            this._busy = true;\r\n            const url: string = this._waitsQuene.shift();\r\n            const param: RaiseParams = this._waitParamsQuene.shift();\r\n            Laya.timer.once(param.detalTime,this,this.checkNext);\r\n            this.playRaise(url,param);\r\n        }\r\n\r\n        public playRaise(url:string,param:RaiseParams):void\r\n        {\r\n            const raiseItem:RaiseItem = this.getRaiseItem(url,param.isQuene);\r\n            raiseItem.x = param.start.x ;\r\n            raiseItem.y = param.start.y ;\r\n            this._layer.addChild(raiseItem);\r\n            const toX:number = param.end.x;\r\n            const toY:number = param.end.y;\r\n            const duration = param.duration;\r\n            raiseItem.alpha = 1 ;\r\n            Tween.to(raiseItem, {x:toX,y:toY,alpha:0.6}, duration, null, Handler.create(this, this.oncomplete, [raiseItem]));\r\n        }\r\n\r\n        /**\r\n         * 获取飘字item\r\n         * @param url \r\n         */\r\n        private getRaiseItem( url: string,isQuene:boolean = true): RaiseItem \r\n        {\r\n            let raiseItem : RaiseItem = Laya.Pool.getItemByClass('raiseItem',RaiseItem);\r\n            raiseItem.url = url ;\r\n            raiseItem.isQuene = isQuene ;\r\n            return raiseItem;\r\n        }\r\n\r\n        private oncomplete(raiseItem: RaiseItem): void \r\n        {\r\n            raiseItem.clear();\r\n            Laya.Pool.recover('raiseItem',raiseItem);\r\n            console.log(`${raiseItem.url} on completed.`)\r\n        }\r\n\r\n        static get instance(): RaisingImageManager \r\n        {\r\n            return RaisingImageManager._instance || (RaisingImageManager._instance = new RaisingImageManager());\r\n        }\r\n\r\n        public init(layer: Sprite): void {\r\n            this._layer = layer;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 飘字\r\n    */\r\n    export class RaiseItem extends Sprite\r\n    {\r\n        private _url:string ;\r\n        private _isQuene:boolean = false;\r\n        constructor($url:string)\r\n        {\r\n            super();\r\n        }\r\n\r\n        public set url(value:string)\r\n        {\r\n            this._url = value ;\r\n            const t: Texture =  Laya.loader.getRes(value);\r\n            if(t)\r\n            {\r\n                this.graphics.drawTexture(t);\r\n            }else\r\n            {\r\n                Laya.loader.load(this._url,Handler.create(this,this.loadComplete));\r\n            }\r\n        }\r\n\r\n        private loadComplete():void\r\n        {\r\n            const t: Texture =  Laya.loader.getRes(this.url);\r\n            if(t)\r\n            {\r\n                this.graphics.drawTexture(t);\r\n            }\r\n        }\r\n\r\n        public get url():string\r\n        {\r\n            return this._url;\r\n        }\r\n\r\n        public set isQuene(value:boolean)\r\n        {\r\n            this._isQuene = value ;\r\n        }\r\n\r\n        public get isQuene():boolean\r\n        {\r\n            return this._isQuene;\r\n        }\r\n\r\n        public clear():void\r\n        {\r\n            this.graphics.clear();\r\n            this.removeSelf();\r\n        }\r\n\r\n    }\r\n}","namespace zt.tips \r\n{\r\n    import Sprite = Laya.Sprite;\r\n    import Tween = Laya.Tween;\r\n    import Handler = Laya.Handler;\r\n    import Loader = Laya.Loader;\r\n    import Texture = Laya.Texture ;\r\n    import RaiseParams = zt.RaiseParams;\r\n    import GObject = fairygui.GObject ;\r\n    import Point = Laya.Point ;\r\n    import Effect = zt.effects.Effect;\r\n    export class RaisingItemManager \r\n    {\r\n        private _layer: Sprite;\r\n        /**\r\n         * 需要顺序播放的存在这个数组 其他的直接播放\r\n         */\r\n        private _waitsQuene: IRaseData[];\r\n        private _busy: boolean;\r\n        private static _instance: RaisingItemManager;\r\n        private _registerDic:object = {};\r\n        private _displayItems:any[];\r\n        private _flyItems:any[];\r\n        private _isFlying:boolean = false;\r\n        /**\r\n         * @param item 飞行参数\r\n         */\r\n        public add(item:IRaseData) \r\n        {        \r\n            this._waitsQuene.push(item);\r\n        }\r\n\r\n        constructor()\r\n        {\r\n            this._displayItems = [];\r\n            this._waitsQuene = [];\r\n            this._flyItems = [];\r\n        }\r\n\r\n        public play():void\r\n        {\r\n            if(this._busy)\r\n            {\r\n                return ;\r\n            }\r\n            this.playRaiseItem();\r\n        }\r\n\r\n        private arrange():void\r\n        {\r\n            const len = this._displayItems.length ;\r\n            const raiseWidth = 88 * (len + 1) +  50 * len;\r\n            const width:number = Laya.stage.width ;\r\n            const height:number = Laya.stage.height ;\r\n            const startX:number = width/2 -raiseWidth/2 ;\r\n            const startY:number = height/2 - 200;\r\n            let raiseItem:any;\r\n            for(let i = 0 ; i < len ; i ++)\r\n            {\r\n                raiseItem = this._displayItems[i];\r\n                raiseItem.x = startX + i * 138;\r\n                raiseItem.y = startY;\r\n            }\r\n            this.playSingle();\r\n        }\r\n\r\n        private playSingle():void\r\n        {\r\n            if(this._displayItems.length > 0)\r\n            {\r\n                const raiseItem = this._displayItems.shift();\r\n                raiseItem.playEffect(Handler.create(this,()=>\r\n                {\r\n                    const toPoint = raiseItem.dragItem.raisePoint;\r\n                    this._flyItems.push(raiseItem);\r\n                    this.playSingle();\r\n                    // Tween.to(raiseItem, {x:toPoint.x,y:toPoint.y}, 600, null, Handler.create(this, this.oncomplete, [raiseItem]));\r\n                }))\r\n            }else\r\n            {\r\n                if(this._isFlying == false)\r\n                {\r\n                    this.flyItem();\r\n                } \r\n            }\r\n        }\r\n\r\n        private flyItem():void\r\n        {\r\n            if(this._flyItems.length > 0)\r\n            {\r\n                this._isFlying = true ;\r\n                const raiseItem = this._flyItems.shift();\r\n                const toPoint = raiseItem.dragItem.raisePoint;\r\n                Tween.to(raiseItem, {x:toPoint.x,y:toPoint.y}, 300, null, Handler.create(this, this.oncomplete, [raiseItem]));\r\n            }else\r\n            {\r\n                this._busy = false;\r\n                this.playRaiseItem();\r\n            }\r\n        }\r\n\r\n        private addToStage():void\r\n        {\r\n            let len = Math.min(this._waitsQuene.length,5) ;\r\n            if(len <= 0) return ;\r\n            let raiseData:IRaseData;\r\n            let raiseItem:any;\r\n            let url:string ;\r\n            let index = 0 ;\r\n            for(let i = 0 ; i < len ; i ++)\r\n            {\r\n                raiseData = this._waitsQuene.pop();\r\n                url = this._registerDic[raiseData.key];\r\n                raiseItem = zt.Pool.ins.getComFormPool(url);\r\n                this._layer.addChild(raiseItem.displayObject);\r\n                raiseItem.setData(raiseData);\r\n                this._displayItems.push(raiseItem);\r\n            }\r\n           this._busy = true;\r\n           this.arrange();\r\n        }\r\n\r\n        /**\r\n         * 注册对象\r\n         */\r\n        public registerRaiseItem($key:string,url:string):void\r\n        {\r\n            this._registerDic[$key] = url;\r\n        }\r\n\r\n\r\n        private playRaiseItem():void\r\n        {\r\n            this.addToStage();\r\n        }\r\n\r\n        /**\r\n         * 获取飘字item\r\n         * @param url \r\n         */\r\n        private getRaiseItem( url: string,isQuene:boolean = true): RaiseItem \r\n        {\r\n            let raiseItem : RaiseItem = Laya.Pool.getItemByClass('raiseItem',RaiseItem);\r\n            raiseItem.url = url ;\r\n            raiseItem.isQuene = isQuene ;\r\n            return raiseItem;\r\n        }\r\n\r\n        private oncomplete(raiseItem:any): void \r\n        {\r\n            this._isFlying = false;\r\n            let url = this._registerDic[raiseItem.dragItem.key];\r\n            if(raiseItem.displayObject.parent&&raiseItem)\r\n            {\r\n                raiseItem.displayObject.parent.removeChild(raiseItem.displayObject);\r\n            }\r\n            zt.Pool.ins.returnToPool(raiseItem,url);\r\n            const point = raiseItem.dragItem.raisePoint;\r\n            const effectUrl:string = zt.utils.getResourceURL('effects/itemDrop/explode.json');\r\n            const effect:Effect = zt.effects.createEffect(effectUrl,'gui',true);\r\n            effect.playEffect(this._layer,point.x-35,point.y-35,false,Laya.BlendMode.ADD);\r\n            this.flyItem();\r\n          \r\n        }\r\n\r\n        static get instance(): RaisingItemManager \r\n        {\r\n            return RaisingItemManager._instance || (RaisingItemManager._instance = new RaisingItemManager());\r\n        }\r\n\r\n        public init(layer: Sprite): void {\r\n            this._layer = layer;\r\n        }\r\n\r\n    }\r\n\r\n    export interface IRaseData\r\n    {\r\n        key:string;\r\n        raisePoint:Point;\r\n    }\r\n}","namespace zt.tips {\r\n    import Sprite = Laya.Sprite;\r\n    import Tween = Laya.Tween;\r\n    import Handler = Laya.Handler;\r\n    import Text = Laya.Text;\r\n    export class RaisingTipManager {\r\n        private _last = 0;\r\n        private _layer: Sprite;\r\n        private _waits: string[];\r\n        private _waitParams: any[];\r\n        private _busy: boolean;\r\n        private static DURATION = 1000;\r\n        /**\r\n         * 单位：像素\r\n         */\r\n        private static RAISING_Y = 50;\r\n        private static OFFSET_X: number = -10;\r\n        private static OFFSET_Y = -5;\r\n\r\n        add(tips: string, param?: {}) {\r\n\r\n            if (Date.now() - this._last < RaisingTipManager.DURATION) return;\r\n            this._last = Date.now();\r\n            this._waits = this._waits || [];\r\n            this._waitParams = this._waitParams || [];\r\n            this._waits.push(tips);\r\n            this._waitParams.push(param);\r\n            this.checkNext();\r\n        }\r\n\r\n        private checkNext(): void {\r\n            this._waits.length > 0 && !this._busy && this.next();\r\n        }\r\n\r\n        private next(): void {\r\n            this._busy = true;\r\n            const tips: string = this._waits.shift();\r\n            const param: any = this._waitParams.shift();\r\n            const text: Text = this.getText(tips,param);\r\n            this._layer.addChild(text);\r\n            const toY: number = text.y - RaisingTipManager.RAISING_Y;\r\n            Tween.to(text, { y: toY }, RaisingTipManager.DURATION, null, Handler.create(this, this.oncomplete, [text]));\r\n        }\r\n\r\n        private getText(tips: string,param:any): Text {\r\n            const text: Text = new Text();\r\n            text.color = param.color != null ? param.color : '#E8B723';\r\n            text.text = tips;\r\n            // tslint:disable-next-line:no-magic-numbers\r\n            text.fontSize = param.fontSize != null ? param.fontSize : 14;\r\n            text.bold = param.bold != null ? param.bold : true;\r\n            text.stroke = param.stroke != null ? param.stroke : 1;\r\n            this.showToStage(text);\r\n            return text;\r\n        }\r\n\r\n        private showToStage(tip: Text) {\r\n            tip.x = Laya.stage.mouseX - tip.textWidth / 2;\r\n            tip.y = Laya.stage.mouseY - tip.textHeight + RaisingTipManager.OFFSET_Y;\r\n            if (tip.x + tip.textWidth > Laya.stage.width) {\r\n                tip.x = Laya.stage.width - tip.textWidth - RaisingTipManager.OFFSET_X\r\n            }\r\n            else if(tip.x-tip.textWidth<0){\r\n                tip.x = tip.textWidth + RaisingTipManager.OFFSET_X\r\n            }\r\n        }\r\n\r\n        private oncomplete(text: Text): void {\r\n            text.removeSelf();\r\n            console.log(`${text.text} on completed.`)\r\n            this._busy = false;\r\n            this.checkNext();\r\n        }\r\n\r\n        private static _instance: RaisingTipManager;\r\n        static get instance(): RaisingTipManager {\r\n            return RaisingTipManager._instance || (RaisingTipManager._instance = new RaisingTipManager());\r\n        }\r\n\r\n        public init(layer: Sprite): void {\r\n            this._layer = layer;\r\n        }\r\n\r\n    }\r\n}","namespace zt.tips {\r\n\texport class TipCaches {\r\n\t\tprivate static _instance: TipCaches;\r\n\t\tprivate static _cls: object = {};\r\n\t\tprivate static DELAY = 5000;\r\n\t\tprivate _hash: object;\r\n\r\n\t\t/**\r\n\t\t * 用户触发tip隐藏之后，tip的资源可以延缓释放。\r\n\t\t */\r\n\t\tconstructor() {\r\n\t\t\tthis._hash = {};\r\n\t\t}\r\n\r\n\t\tstatic getInstance(): TipCaches {\r\n\t\t\treturn this._instance || (this._instance = new TipCaches);\r\n\t\t}\r\n\r\n\t\tstatic register(type: string, cls: any): void {\r\n\t\t\tTipCaches._cls[type] = cls;\r\n\t\t}\r\n\r\n\t\tgetTip(type: string): BaseTip {\r\n\t\t\tLaya.timer.clear(this, this.clear);\r\n\t\t\tif (this._hash[type] == null) {\r\n\t\t\t\tthis._hash[type] = this.getTipByType(type);\r\n\t\t\t}\r\n\t\t\treturn this._hash[type];\r\n\t\t}\r\n\r\n\t\tprivate getTipByType(type: string): BaseTip {\r\n\t\t\tif (TipCaches._cls[type] == null) throw new Error(`tip class[${type}] not found.`);\r\n\t\t\treturn new TipCaches._cls[type];\r\n\t\t}\r\n\r\n\t\tclearCache(): void {\r\n\t\t\tthis.clear();\r\n\t\t\t// Laya.timer.once(TipCaches.DELAY, this, this.clear);\r\n\t\t}\r\n\r\n\t\tprivate clear(): void {\r\n\t\t\tthis._hash = {};\r\n\t\t}\r\n\t}\r\n}","namespace zt.tips {\r\n\texport class TipManager {\r\n\t\tprivate static OFFSETX = 10;\r\n\t\tprivate static OFFSETY = 15;\r\n\t\tprivate static DELAY = 200;\r\n\t\tprivate static _instance: TipManager;\r\n\t\tprivate _currentTip: BaseTip;\r\n\r\n\t\tshow(type: String, data: UIBase | string | string[]): void {\r\n\t\t\tLaya.timer.once(TipManager.DELAY, this, this.showTip, [type, data], true);\r\n\t\t}\r\n\r\n\t\tprivate showTip(type: string, data: UIBase | string): void {\r\n\t\t\tconst tip: BaseTip = TipCaches.getInstance().getTip(type);\r\n\t\t\ttip.setData(data);\r\n\t\t\ttip.draw();\r\n\r\n\t\t\tthis._currentTip = tip;\r\n\r\n\t\t\tthis._layer.addChild(tip.ui);\r\n\t\t\tthis.showToStage(tip)\r\n\t\t\tLaya.stage.on(Laya.Event.MOUSE_MOVE, this, this.onStageMouseMove);\r\n\t\t\tthis.onStageMouseMove(null);\r\n\t\t}\r\n\r\n\t\tprivate onStageMouseMove(param0: Object): void {\r\n\t\t\tthis.showToStage(this._currentTip, TipManager.OFFSETX, TipManager.OFFSETY);\r\n\t\t}\r\n\r\n\t\tprivate showToStage(tip: BaseTip, offX = 0, offY = 0): void {\r\n\t\t\t tip.ui.x = Laya.stage.mouseX + offX;\r\n\t\t\t tip.ui.y = Laya.stage.mouseY + offY;\r\n\t\t\t const num = 30;\r\n\r\n\t\t\tif (tip.ui.x + tip.bgWidth +offX> Laya.stage.width) {\r\n\t\t\t\ttip.ui.x = Laya.stage.width - tip.bgWidth - num;\r\n\t\t\t}\r\n\t\t\telse if(tip.ui.x+offX<0)\r\n\t\t\t{\r\n\t\t\t\ttip.ui.x = 0;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (tip.ui.y + tip.bgHeight+offY > Laya.stage.height) {\r\n\t\t\t\ttip.ui.y = Laya.stage.height - tip.bgHeight - num;\r\n\t\t\t}\r\n\t\t\telse if(tip.ui.y+offY<0)\r\n\t\t\t{\r\n\t\t\t\ttip.ui.y = 0;\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 销毁，清除bg\r\n\t\t */\r\n\t\tdispose(): void {\r\n\t\t\tTipManager._instance = null;\r\n\t\t}\r\n\r\n\t\tpublic static get instance(): TipManager {\r\n\t\t\treturn TipManager._instance || (TipManager._instance = new TipManager());\r\n\t\t}\r\n\r\n\t\thide(): void {\r\n\t\t\tLaya.stage.off(Laya.Event.MOUSE_MOVE, this, this.onStageMouseMove);\r\n\t\t\tLaya.timer.clear(this, this.showTip);\r\n\t\t\tthis._currentTip && this._currentTip.dispose();\r\n\t\t\tthis._currentTip = null;\r\n\t\t}\r\n\r\n\t\tprivate _layer: Sprite;\r\n\t\tpublic init(layer: Sprite): void {\r\n\t\t\tthis._layer = layer;\r\n\t\t}\r\n\t}\r\n}","namespace zt.tips {\r\n\timport Sprite = Laya.Sprite;\r\n\texport class BaseTip {\r\n\t\tprotected _data: any;\r\n\t\tprotected _bgWidth: number;\r\n\t\tprotected _bgHeight: number;\r\n\t\tprotected _ui: Sprite;\r\n\r\n\t\tsetData(data: any): void {\r\n\t\t\tthis._data = data;\r\n\t\t}\r\n\r\n\t\tget bgWidth(): number { return this._bgWidth }\r\n\t\tget bgHeight(): number { return this._bgHeight }\r\n\t\tdraw(): void { throw Error('must be overrided') }\r\n\r\n\t\tdispose(): void {\r\n\t\t\tthis._ui.removeSelf();\r\n\t\t}\r\n\r\n\t\tget ui(): Sprite { return this._ui }\r\n\t}\r\n}","namespace zt.tips {\r\n\texport class CommonTip extends BaseTip {\r\n\t\tdraw() {\r\n\t\t\tconst ui = (this._data as UIBase).ui;\r\n\t\t\tthis._bgWidth = ui.getChild('bg').displayObject.width;\r\n\t\t\tthis._bgHeight = ui.getChild('bg').displayObject.height;\r\n\t\t\tthis._ui = ui.displayObject;\r\n\t\t}\r\n\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t\t(<UIBase>this._data).dispose();\r\n\t\t}\r\n\t}\r\n}","namespace zt.tips {\r\n\timport Sprite = Laya.Sprite;\r\n\texport class NormalTip extends BaseTip {\r\n\t\tprivate static MAX_TEXT_WIDTH = 300;\r\n\t\tprivate static GAP = 10;\r\n\t\tprivate static LINE_GAP = 5;\r\n\t\tprivate _bg: Sprite;\r\n\t\tprivate _list: Laya.Text[];\r\n\t\tprivate _h: number;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t\tthis._list = [];\r\n\t\t\tthis._ui = new Sprite;\r\n\t\t}\r\n\r\n\t\tdraw(): void {\r\n\t\t\tif (this._bg)\r\n\t\t\t\tthis._bg.removeSelf();\r\n\t\t\tthis._bg = getTipBg();\r\n\t\t\tthis._ui.addChildren(this._bg);\r\n\t\t\tthis._list = [];\r\n\t\t\tthis._bgWidth = 0;\r\n\t\t\tthis._h = 0;\r\n\t\t\tthis._h += NormalTip.GAP;\r\n\r\n\t\t\tfor (const item of this._data) {\r\n\t\t\t\tthis._list.push(this.createText(item));\r\n\t\t\t}\r\n\r\n\t\t\tthis._bgHeight = (this._h + NormalTip.GAP - NormalTip.LINE_GAP);\r\n\r\n\t\t\tthis._bg.width = this._bgWidth;\r\n\t\t\tthis._bg.height = this._bgHeight;\r\n\t\t}\r\n\r\n\t\tprivate createText(text: string): Laya.Text {\r\n\t\t\tconst item: Laya.Text = new Laya.Text();\r\n\t\t\titem.wordWrap = true;\r\n\t\t\titem.text = text;\r\n\t\t\titem.color = '#FFFFFF';\r\n\t\t\titem.overflow = Laya.Text.VISIBLE;\r\n\t\t\t// tslint:disable-next-line:no-magic-numbers\r\n\t\t\titem.fontSize = 14;\r\n\t\t\titem.width = NormalTip.MAX_TEXT_WIDTH;\r\n\t\t\titem.x = NormalTip.GAP;\r\n\t\t\titem.y = this._h;\r\n\t\t\tlet bgWidth: number = NormalTip.MAX_TEXT_WIDTH + NormalTip.GAP * 2;\r\n\t\t\tif (item.textWidth < NormalTip.MAX_TEXT_WIDTH)\r\n\t\t\t\tbgWidth = item.textWidth + NormalTip.GAP * 2;\r\n\t\t\tif (bgWidth > this._bgWidth)\r\n\t\t\t\tthis._bgWidth = bgWidth;\r\n\t\t\tthis._h += item.textHeight + NormalTip.LINE_GAP;\r\n\t\t\tthis._ui.addChildren(item);\r\n\t\t\treturn item;\r\n\t\t}\r\n\r\n\t\tdispose() {\r\n\t\t\tsuper.dispose();\r\n\t\t\tthis._list.forEach(i => i.removeSelf());\r\n\t\t}\r\n\t}\r\n}","namespace zt.tips {\r\n\texport class SimpleTip extends BaseTip {\r\n\t\tprivate static MAX_TEXT_WIDTH = 300;\r\n\t\tprivate static GAP = 10;\r\n\t\tprivate _bg: Laya.Sprite;\r\n\t\tprivate _text: Laya.Text;\r\n\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t\tthis._ui = new Sprite;\r\n\t\t}\r\n\r\n\t\tdraw(): void {\r\n\t\t\tif (this._bg)\r\n\t\t\t\tthis._bg.removeSelf();\r\n\t\t\tthis._bg = getTipBg();\r\n\t\t\tthis._text = new Laya.Text();\r\n\t\t\tthis._text.wordWrap = true;\r\n\t\t\tthis._text.text = this._data;\r\n\t\t\tthis._text.color = '#FFFFFF';\r\n\t\t\tthis._text.overflow = Laya.Text.VISIBLE;\r\n\t\t\t// tslint:disable-next-line:no-magic-numbers\r\n\t\t\tthis._text.fontSize = 14;\r\n\t\t\tthis._text.width = SimpleTip.MAX_TEXT_WIDTH;\r\n\t\t\tthis._text.x = SimpleTip.GAP;\r\n\t\t\tthis._text.y = SimpleTip.GAP;\r\n\t\t\tthis._bgWidth = SimpleTip.MAX_TEXT_WIDTH + SimpleTip.GAP * 2;\r\n\t\t\tif (this._text.textWidth < SimpleTip.MAX_TEXT_WIDTH)\r\n\t\t\t\tthis._bgWidth = this._text.textWidth + SimpleTip.GAP * 2;\r\n\t\t\tthis._bgHeight = this._text.height + SimpleTip.GAP * 2;\r\n\t\t\tthis._bg.width = this._bgWidth;\r\n\t\t\tthis._bg.height = this._bgHeight;\r\n\t\t\tthis._ui.addChildren(this._bg, this._text);\r\n\t\t}\r\n\r\n\t}\r\n}","/// <reference path='TipManager.ts' /> \r\n/// <reference path='RaisingTipManager.ts' /> \r\n/// <reference path='RaisingItemManager.ts' /> \r\n/// <reference path='RaisingImageManager.ts' /> \r\n/// <reference path='TipCaches.ts' />\r\n/// <reference path='items/BaseTip.ts' />\r\n/// <reference path='items/CommonTip.ts' />\r\n/// <reference path='items/NormalTip.ts' />\r\n/// <reference path='items/SimpleTip.ts' />\r\nimport Sprite = Laya.Sprite;\r\nimport TipManager = zt.tips.TipManager;\r\nimport RaisingTipManager = zt.tips.RaisingTipManager;\r\nimport RaisingImageManager = zt.tips.RaisingImageManager;\r\nimport RaisingItemManager = zt.tips.RaisingItemManager ;\r\nimport TipCaches = zt.tips.TipCaches;\r\n\r\nimport CommonTip = zt.tips.CommonTip;\r\nimport NormalTip = zt.tips.NormalTip;\r\nimport SimpleTip = zt.tips.SimpleTip;\r\nimport RaiseParams = zt.RaiseParams;\r\n\r\nnamespace zt {\r\n\t/**\r\n\t * 工具类\r\n\t */\r\n\texport class Tips {\r\n\t\t/**\r\n\t\t * 显示一般的tip \r\n\t\t * @param tip 支持string、JSON Object、显示对象等多种类型的显示\r\n\t\t */\r\n\t\tstatic show(tip: string | UIBase | string[]): void {\r\n\t\t\tif (typeof tip === 'string') {\r\n\t\t\t\tTips.showSimpleTip(tip);\r\n\t\t\t} else if (Array.isArray(tip)) {\r\n\t\t\t\tTips.showTipNormal(tip);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tTips.showCommonTip(tip);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static isJSON(str: string): boolean {\r\n\t\t\tif (str.indexOf('{') === -1 && str.indexOf('[') === -1) return false;\r\n\t\t\ttry {\r\n\t\t\t\tJSON.parse(str);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tcatch (e) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 显示漂浮的tips\r\n\t\t * @param tips 文本内容\r\n\t\t * @param type 飘字类型 0错误提醒提示（黄色），1收益文字（绿色），2消耗不足时提示\r\n\t\t * @param param 扩展参数 {\r\n\t\t * \t\t\t\t\t\t\t'color':string 色号\r\n\t\t * \t\t\t\t\t\t\t'fontSize':number 字体大小\r\n\t\t * \t\t\t\t\t\t\t'bold':boolean 是否为粗体字\r\n\t\t * \t\t\t\t\t\t\t'stroke':number 描边宽度\r\n\t\t * \t\t\t\t\t\t}\r\n\t\t */\r\n\t\tstatic showRaisingTips(tips: string, type = 0, param?: {}): void {\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tparam = {};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tparam = { 'color': '#5cff92' };\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tparam = { 'color': '#e03645' };\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tparam = param || {};\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tRaisingTipManager.instance.add(tips, param);\r\n\t\t}\r\n\r\n\r\n\t\tstatic showRaiseItem(data:any): void \r\n\t\t{\t\r\n\t\t\tRaisingItemManager.instance.add(data);\r\n\t\t}\r\n\r\n\t\tstatic registerRaiseItem(key:string,url:string): void \r\n\t\t{\t\r\n\t\t\tRaisingItemManager.instance.registerRaiseItem(key,url);\r\n\t\t}\r\n\r\n\t\tstatic playRaiseItem(): void \r\n\t\t{\t\r\n\t\t\tRaisingItemManager.instance.play();\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 显示漂浮的tips\r\n\t\t * @param url 飘字资源\r\n\t\t * @param param 扩展参数 \r\n\t\t */\r\n\t\tstatic showRaisingImages(url: string,param:RaiseParams): void \r\n\t\t{\t\r\n\t\t\tRaisingImageManager.instance.add(url, param);\r\n\t\t}\r\n\r\n\t\tprivate static showTipNormal(tip: string[]): void {\r\n\t\t\tTips.showTipByType(TipType.NORMAL, tip);\r\n\t\t}\r\n\r\n\t\tprivate static showSimpleTip(tip: string): void {\r\n\t\t\tTips.showTipByType(TipType.SIMPLE, tip);\r\n\t\t}\r\n\r\n\t\tprivate static showCommonTip(ui: UIBase): void {\r\n\t\t\tTips.showTipByType(TipType.COMMON, ui);\r\n\t\t}\r\n\r\n\t\tstatic hide(): void {\r\n\t\t\tTipCaches.getInstance().clearCache();\r\n\t\t\tTipManager.instance.hide();\r\n\t\t}\r\n\r\n\t\tstatic showTipByType(type: String, data: UIBase | string | string[]): void {\r\n\t\t\tTipManager.instance.show(type, data);\r\n\t\t}\r\n\r\n\t\tstatic register(type: string, cls: any): void {\r\n\t\t\tTipCaches.register(type, cls);\r\n\t\t}\r\n\r\n\t\tstatic init(): void {\r\n\t\t\tTipManager.instance.init(Tips.tipLayer);\r\n\t\t\tRaisingTipManager.instance.init(Tips.tipLayer);\r\n\t\t\tRaisingImageManager.instance.init(Tips.tipLayer);\r\n\t\t\tRaisingItemManager.instance.init(Tips.tipLayer);\r\n\t\t\tTips.register(TipType.SIMPLE, SimpleTip)\r\n\t\t\tTips.register(TipType.NORMAL, NormalTip)\r\n\t\t\tTips.register(TipType.COMMON, CommonTip)\r\n\t\t}\r\n\r\n\t\tprivate static get tipLayer(): Sprite {\r\n\t\t\treturn zt.Layers.getLayer('tip') as Sprite;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 获取飘字属性\r\n\t * @param $start 开始位置  \r\n\t * @param $end 结束位置\r\n\t * @param $duration 持续时间\r\n\t * @param $isQuene 是否顺序播放\r\n\t */\r\n\texport const getRaiseParam =($start:IPoint,$end:IPoint,$isQuene:boolean = false,$duration:number = 800,$delta:number = 30):RaiseParams=>\r\n\t{\r\n\t\tconst param = {\"start\":$start,\"end\":$end,\"duration\":$duration,'isQuene':$isQuene,detalTime:$delta};\r\n\t\treturn param ;\r\n\t}\r\n}\r\n\r\nclass TipType {\r\n\tstatic SIMPLE = 'simple';\r\n\tstatic NORMAL = 'normal';\r\n\tstatic COMMON = 'comomn';\r\n}\r\n","namespace zt\r\n{\r\n    import GComponent = fairygui.GComponent ;\r\n    import Sprite = laya.display.Sprite ;\r\n    import Event = Laya.Event;\r\n    import AppBase = zt.app.AppBase;\r\n    import Handler = Laya.Handler ;\r\n    /**\r\n     * @author wangcongyan\r\n     * @usage 自适应\r\n     * @since 2017.12.22\r\n     */\r\n    export class Adaptation\r\n    {   \r\n        private static _ins:Adaptation;\r\n        public static MAX_SCREEN_W:number = 1920 ;\r\n        public static MAX_SCREEN_H:number = 1080 ;\r\n        public static MIN_SCEEN_W:number = 1280 ;\r\n        public static MIN_SCEEN_H:number = 768 ;\r\n\r\n        private static _centerTarget:object ;\r\n        private static _fullTarget:object ;\r\n        private static _borderTarget:object ;\r\n        private static _posTarget:object ;\r\n        private static _allTarget:object ;\r\n        private static _funcTarget:object;\r\n        private static _handleParam:object;\r\n        constructor()\r\n        {\r\n        \r\n        }\r\n\r\n\r\n        /**\r\n         * 初始化对象\r\n         */\r\n        public static init():void\r\n        {\r\n            Adaptation._centerTarget = {};\r\n            Adaptation._fullTarget = {};\r\n            Adaptation._borderTarget = {};\r\n            Adaptation._posTarget = {};\r\n            Adaptation._funcTarget = {};\r\n            Adaptation._handleParam = {};\r\n            Adaptation._allTarget = {1:Adaptation._centerTarget,4:Adaptation._fullTarget,8:Adaptation._borderTarget,16:Adaptation._posTarget};\r\n            Adaptation.addEvent();\r\n        }\r\n\r\n        /**\r\n         * 添加舞台缩放监听\r\n         */\r\n        public static addEvent():void\r\n        {\r\n            Laya.stage.on(Event.RESIZE,this,this.resizeView);\r\n            // ctrl.GameCtrl.intance.on()\r\n        }\r\n\r\n        /**\r\n         * 缩放面板\r\n         */\r\n        public static resizeView():void\r\n        {\r\n            const centerTarget:object = Adaptation._centerTarget ;\r\n            const fullTarget :object = Adaptation._fullTarget ;\r\n            const borderTarget :object= Adaptation._borderTarget;\r\n            const funcTarget:object = Adaptation._funcTarget ;\r\n     \r\n            let ui:GComponent|Sprite;\r\n            for(let key in centerTarget)\r\n            {\r\n                ui = centerTarget[key] ;\r\n                Adaptation.centerUIAdaptaion(ui as AppBase);\r\n            }\r\n            for(let key in  fullTarget)\r\n            {\r\n                ui = fullTarget[key] ;\r\n                Adaptation.fullUIAdaptaion(ui as AppBase);\r\n            }\r\n            for(let key in borderTarget)\r\n            {\r\n                ui = fullTarget[key] ;\r\n                Adaptation.fullUIAdaptaion(ui as AppBase);\r\n            }\r\n            for(let key in funcTarget)\r\n            {\r\n                const apply = funcTarget[key];\r\n                apply instanceof Handler ? apply.run():apply();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 全屏面板缩放策略\r\n         * @param $ui\r\n         */\r\n        private static fullUIAdaptaion($ui:GComponent|AppBase):void\r\n        {\r\n            const minW = Adaptation.MIN_SCEEN_W ;\r\n            const minH = Adaptation.MIN_SCEEN_H ;\r\n            const maxH = Adaptation.MAX_SCREEN_H;\r\n            const maxW = Adaptation.MAX_SCREEN_W ;\r\n            $ui.scaleX = $ui.scaleY  = 1 ;\r\n            const uiW:number = $ui.width ;\r\n            const uiH:number = $ui.height ;\r\n            const stageW:number = Laya.stage.width ;\r\n            const stageH:number = Laya.stage.height ;        \r\n            if(uiW<stageW)\r\n            {\r\n                $ui.width = stageW ;\r\n            }\r\n            if(uiH >stageH)\r\n            {\r\n                $ui.height = stageH ;\r\n            }\r\n            if(uiW > stageW)\r\n            {\r\n                $ui.width = minW ;\r\n            }\r\n            if(uiH >stageH)\r\n            {\r\n                $ui.height = minH ;\r\n            }\r\n            $ui.x = 0 ;\r\n            $ui.y = 0 ;\r\n            const funcParam:object = Adaptation._handleParam;\r\n            const key = $ui instanceof GComponent ? $ui.resourceURL:$ui.moduleName;\r\n            (funcParam[key] as Handler).run();\r\n        }\r\n\r\n        /**\r\n         * 居中面板缩放策略\r\n         * @param $ui\r\n         */\r\n        private static centerUIAdaptaion($ui:AppBase):void\r\n        {\r\n            const minW = Adaptation.MIN_SCEEN_W ;\r\n            const minH = Adaptation.MIN_SCEEN_H ;\r\n            const maxH = Adaptation.MAX_SCREEN_H;\r\n            const maxW = Adaptation.MAX_SCREEN_W;\r\n            $ui.scaleX = $ui.scaleY = 1;\r\n            const rect:Laya.Rectangle = $ui.getAppBounds();\r\n            const uiW:number = rect.width ;\r\n            const uiH:number = rect.height ;\r\n            const stageW:number = Laya.stage.width ;\r\n            const stageH:number = Laya.stage.height ; \r\n            $ui.x = stageW - uiW >> 1 ;\r\n            $ui.y = stageH - uiH >> 1 ;\r\n            const scaleX:number = stageW > maxW ?  stageW/maxW : 1 ;\r\n            const scaleY:number = stageH > maxH ?  stageH/maxH : 1 ;\r\n            if(uiW > stageW && uiH > stageH)\r\n            {\r\n                $ui.width = stageW ;\r\n                $ui.height = stageH;\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * 移除舞台缩放监听\r\n         */\r\n        public static removeEvent():void\r\n        {\r\n            Laya.stage.on(Event.RESIZE,this,this.resizeView);\r\n        }\r\n\r\n        /**\r\n         * 面板打开时注册自适应管理\r\n         * @param $target 自适应对象\r\n         * @param $adaptType 自适应策略p\r\n         */\r\n        public static register($ui:GComponent|AppBase,$adaptType:number = AdaptationType.ADAPT_CENTER,handler?:Handler):void\r\n        {   \r\n            const target = Adaptation._allTarget[$adaptType];\r\n            const key = $ui instanceof GComponent ? $ui.resourceURL:$ui.moduleName;\r\n            target[key] = $ui;\r\n            if(handler)\r\n            Adaptation._handleParam[key] = handler;\r\n        }\r\n\r\n\r\n        /**\r\n         * 注册缩放函数\r\n         * @param key\r\n         * @param target \r\n         */\r\n        public static registerFunc($key:string,target:Function|Handler):void\r\n        {   \r\n            Adaptation._funcTarget[$key] = target ;\r\n        }\r\n\r\n        public static unregisterFunc($key:string):void\r\n        {   \r\n            const funcTarget = Adaptation._funcTarget ;\r\n            const apply = funcTarget[$key];\r\n            apply instanceof Handler ? apply.recover():console.log('adaptation');\r\n            delete Adaptation._funcTarget[$key];\r\n        }\r\n\r\n        /**\r\n         * 面板关闭注销自适应管理\r\n         */\r\n        public static unregister($target:GComponent|AppBase,$adaptType:number = AdaptationType.ADAPT_CENTER):void\r\n        {\r\n            const target  = Adaptation._allTarget[$adaptType];\r\n            if(!!target == false)\r\n            {\r\n               Tips.showRaisingTips('正在注销未注册的自适应策略！');\r\n               return ;\r\n            }\r\n            const key = $target instanceof GComponent ? $target.resourceURL:$target.moduleName;\r\n            delete target[key];\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 自适应类型\r\n     */\r\n    export class AdaptationType \r\n    {\r\n        /**\r\n         * 居中显示\r\n         */\r\n        static ADAPT_CENTER:number = 1;\r\n\r\n        /**\r\n         * 全屏显示\r\n         */\r\n        static ADAPT_FULL_SCREEN:number = 4;\r\n\r\n        /**\r\n         * 贴边\r\n         */\r\n        static ADAPT_CLOSE_BORDER:number =  8 ;\r\n\r\n        /**\r\n         * 贴边\r\n         */\r\n        static ADAPT_OPEN_POS:number =  16 ;\r\n\r\n    }\r\n    \r\n}","/**\r\n * 数组共用函数封装\r\n */\r\nnamespace zt.utils {\r\n\texport class ArrayUtil {\r\n\r\n\t\t/** 升序 */\r\n\t\tstatic NUMERIC  = 16;\r\n\t\t/** 降序 */\r\n\t\tstatic DESCENDING = 2;\r\n\r\n\t\t/**\r\n\t\t * 数组list中是否含有item值\r\n\t\t */\r\n\t\tstatic contains(item:any,list:Array<any>):Boolean {\r\n\t\t\treturn list.indexOf(item) != -1;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 移除数组的指定项\r\n\t\t * @param item 指定项\r\n\t\t * @param list 数组\r\n\t\t */\r\n\t\tstatic remove(item:any,list:Array<any>):any {\r\n\t\t\tconst index:number = list.indexOf(item);\r\n\t\t\tif(index != -1)\r\n\t\t\t\treturn list.splice(index,1)[0];\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取数组内所有key组成的列表\r\n\t\t * @param object \r\n\t\t */\r\n\t\tstatic keys(object) {\r\n\t\t\tvar keys = [];\r\n\t\t\tfor (var property in object)\r\n\t\t\t\tkeys.push(property);\r\n\t\t\treturn keys;\r\n\t\t}\r\n\r\n\t\t /** 对数组进行排序 最多3个参数*/\r\n\t\t static sortOnArr(arr,keyArr:string[], order:number[])\r\n\t\t {\r\n\t\t\t if(keyArr == undefined || order == undefined )\r\n\t\t\t {\r\n\t\t\t\t return ;\r\n\t\t\t }\r\n\t\t\t if(keyArr.length != order.length || keyArr.length == 0)\r\n\t\t\t {\r\n\t\t\t\t return ;\r\n\t\t\t }\r\n\t\t\t arr.sort((a:any,b:any):number=>{\r\n\t\t\t\t if(a[keyArr[0]] >b[keyArr[0]])\r\n\t\t\t\t\t return order[0]==ArrayUtil.NUMERIC?1:-1;\r\n\t\t\t\t if(a[keyArr[0]] <b[keyArr[0]])\r\n\t\t\t\t\t return order[0]==ArrayUtil.NUMERIC?-1:1;\r\n\t\t\t\t if(keyArr.length>1)\r\n\t\t\t\t {\r\n\t\t\t\t\t if(a[keyArr[1]] >b[keyArr[1]])\r\n\t\t\t\t\t\t return order[1]==ArrayUtil.NUMERIC?1:-1;\r\n\t\t\t\t\t if(a[keyArr[1]] <b[keyArr[1]])\r\n\t\t\t\t\t\t return order[1]==ArrayUtil.NUMERIC?-1:1;\r\n\t\t\t\t\t if(keyArr.length>2)\r\n\t\t\t\t\t {\r\n\t\t\t\t\t\t if(a[keyArr[2]] >b[keyArr[2]])\r\n\t\t\t\t\t\t\t return order[2]==ArrayUtil.NUMERIC?1:-1;\r\n\t\t\t\t\t\t if(a[keyArr[2]] <b[keyArr[2]])\r\n\t\t\t\t\t\t\treturn order[2]==ArrayUtil.NUMERIC?-1:1;\r\n\t\t\t\t\t }\r\n\t\t\t\t }                \r\n\t\t\t\t return 0;\r\n\t\t\t })\r\n\t\t}\r\n\t}\r\n}","// tslint:disable:no-console\r\nnamespace zt {\r\n    import LocalStorage = laya.net.LocalStorage;\r\n\r\n    export const __app = (data: string): void => {\r\n        LocalStorage.setItem('default_app', data);\r\n        zt.reload();\r\n    }\r\n    export const __getapp = () => LocalStorage.getItem('default_app');\r\n    export const __scene = (name: string): void => {\r\n        LocalStorage.setItem('default_scene', name);\r\n        zt.reload();\r\n    }\r\n    export const __getscene = () => LocalStorage.getItem('default_scene');\r\n\r\n    /**\r\n     * 禁用一个功能\r\n     * @param name 功能名称\r\n     */\r\n    export const __disable = (names: string | string[]): void => {\r\n        if (typeof names === 'string')\r\n            names = [names];\r\n        for (const name of names)\r\n            LocalStorage.setItem(name, '0');\r\n        zt.reload();\r\n    }\r\n\r\n    export const __enable = (key: string): void => {\r\n        LocalStorage.setItem(key, '1');\r\n        zt.reload();\r\n    }\r\n    export const __enablePlayGround = (key: string): void => {\r\n        __enable('playground');\r\n    }\r\n\r\n    export const __enableDebugPanel = (): void => {\r\n        LocalStorage.setItem('debugLibs', 'laya.ani,laya.ui,laya.debugtool');\r\n        __enable('debugPanel');\r\n    }\r\n\r\n    export const __disableDebugPanel = (): void => {\r\n        LocalStorage.setItem('debugLibs', '');\r\n        __disable('debugPanel');\r\n    }\r\n\r\n    /**\r\n     * 用于获取默认关闭的功能的开启状态\r\n     * @param key \r\n     */\r\n    export const __getDebugEnabled = (key: string): boolean =>\r\n        LocalStorage.getItem(key) === '1';\r\n\r\n        export const __getEnabled = (key: string): boolean =>\r\n        LocalStorage.getItem(key) === '1' || LocalStorage.getItem(key) === null;\r\n\r\n    export const __clear = () => {\r\n        LocalStorage.clear();\r\n        zt.reload();\r\n    }\r\n\r\n    export const __clearAndDisable = (names?: string | string[]) => {\r\n        names = names || ['amf', 'gm'];\r\n        LocalStorage.clear();\r\n        __disable(names);\r\n        zt.reload();\r\n    }\r\n\r\n    export const __cb = (cmd: string, params: any) => {\r\n        __cbEntity(cmd, params);\r\n    }\r\n\r\n    const __cbEntity = (cmd: string, params: any) => {\r\n        const eventname: string = zt.net.EventUtils.getSeqEventName(cmd);\r\n        zt.net.GameSocket.instance.event(eventname, params);\r\n    }\r\n    export const __notify = (cmd: string, params: any) => {\r\n        __notifyEntity(cmd, params);\r\n        console.log(`[DEBUG Notify] ${data}`);\r\n    }\r\n\r\n    const __notifyEntity = (cmd: string, params: any) => {\r\n        zt.net.GameSocket.instance.event(cmd, params);\r\n    }\r\n}\r\n","namespace zt {\r\n    export class FloatTool {\r\n        private _ships: Sprite[];\r\n        private _offsets: Laya.Dictionary;\r\n        private static SPEED = 0.1;\r\n        private static RANGE = 5;\r\n\r\n        constructor() {\r\n            this._ships = [];\r\n            this._offsets = new Laya.Dictionary();\r\n        }\r\n\r\n        static add(ship: Sprite) {\r\n            FloatTool.instance._ships.push(ship);\r\n            FloatTool.instance._offsets.set(ship, [FloatTool.SPEED * (Math.random() > 0.5 ? 1 : -1), 0]);\r\n        }\r\n\r\n        static remove(ship: Sprite) {\r\n            utils.ArrayUtil.remove(ship, FloatTool.instance._ships);\r\n        }\r\n\r\n        static dispose() {\r\n            Laya.timer.clear(FloatTool.instance, FloatTool.instance.onframe);\r\n        }\r\n\r\n        private onframe() {\r\n            for (const ship of FloatTool.instance._ships) {\r\n                this.onframeItem(ship);\r\n            }\r\n        }\r\n\r\n        private onframeItem(ship: Sprite) {\r\n            const offset = this._offsets.get(ship);\r\n            if(offset == null)\r\n                return;\r\n            if (offset[1] >= FloatTool.RANGE) {\r\n                offset[0] = -FloatTool.SPEED;\r\n            }\r\n            else if (offset[1] <= -FloatTool.RANGE) {\r\n                offset[0] = FloatTool.SPEED;\r\n            }\r\n\r\n            offset[1] += offset[0];\r\n            ship.y += offset[0];\r\n            this._offsets.set(ship, offset);\r\n        }\r\n        private static _instance: FloatTool;\r\n        static get instance():FloatTool\r\n        {\r\n            if(!FloatTool._instance)\r\n                FloatTool.init();\r\n            return FloatTool._instance;\r\n        }\r\n        static set instance(f:FloatTool){ FloatTool._instance = f;}\r\n        static init() {\r\n            FloatTool.instance = new FloatTool();\r\n            Laya.timer.frameLoop(1, FloatTool.instance, FloatTool.instance.onframe);\r\n        }\r\n    }\r\n}","namespace zt {\r\n    export const getDefinition = (classpath: string): Function => {\r\n        const paths: string[] = classpath.split('.');\r\n        let definition: Object = window;\r\n        for (const path of paths) {\r\n            definition = definition[path];\r\n            if (!definition) {\r\n                return null;\r\n            }\r\n        }\r\n        return definition as Function;\r\n    }\r\n}","namespace zt.utils\r\n{\r\n    import Point = Laya.Point ;\r\n        /**\r\n         * 计算一个点相对于另一点的角度\r\n         */\r\n        export const getAngle = (form: any, to: any): number =>\r\n        {\r\n            const lx = to.x - form.x;\r\n            const ly = to.y - form.y;\r\n            return Math.atan2(ly, lx) * 180 / Math.PI;\r\n        }\r\n\r\n        /**\r\n         * 计算两点之间的距离\r\n         */\r\n        export const getDistance=(form: any, to: any): number=> {\r\n            const p1 = new Laya.Point(form.x, form.y);\r\n            return p1.distance(to.x, to.y);\r\n        }\r\n\r\n        /**\r\n         * 保留几位小数点 整型不能返回1.00\r\n         * @param value \r\n         * @param fixnum 保留小数点后几位\r\n         */\r\n        export const fix = (value : number,fixnum = 0):number=>\r\n        {\r\n            const fixNum = fixnum + 1; \r\n            const power = Math.pow(10,fixNum);\r\n            const num = Math.round( value * power)/power;\r\n            return num;\r\n        }\r\n\r\n        export const sum = (nums: number[]) => {\r\n            if (nums.length == 0) return 0;\r\n            if (nums.length == 1) return Number(nums[0]);\r\n            return Number(nums.reduce((a, b) => a + b));\r\n        }\r\n\r\n        /**\r\n         * 获取点到直线垂直点的位置\r\n         * @param  \r\n         */\r\n        export const getTargetToCenter = (x:number,y:number,p1?:Point,p2?:Point)=>\r\n        {   \r\n            // const p1 = new Point(475,65);\r\n            // const p2 = new Point(1437,1015);\r\n            const A = 950;\r\n            const B = -962\r\n            const C = -388720 ;\r\n            const length =  Math.abs(A * x + B * y + C)/ Math.sqrt(A*A + B*B);\r\n            return length ;\r\n        }\r\n\r\n        /**\r\n         * 获取点到直线垂直点的位置\r\n         * @param  \r\n         */\r\n        export const getLineVerticalPoint = (x:number,y:number,p1?:Point,p2?:Point):Point=>\r\n        {   \r\n            p1 = new Point(475,65);\r\n            p2 = new Point(1437,1015);\r\n            const A = (p1.y-p2.y)/(p1.x- p2.x);  \r\n            const B = p1.y-A*p1.x;\r\n            const m =  x + A*y;  \r\n            const px = (m-A*B)/(A*A + 1);  \r\n            const py = px+B;  \r\n            return new Point(px,py) ;\r\n        }\r\n\r\n        \r\n}","namespace zt.utils {\r\n\r\n    export class ModuleUtils {\r\n        /**\r\n         * 获取模块主类的完全限定名\r\n         * @param name module name\r\n         */\r\n        static getModulePath(name: string): string {\r\n            return 'zt.' + name + '.' + name;\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param name \r\n         */\r\n        static hasDefinition(name: string): Boolean {\r\n            return !!ModuleUtils.getModuleDefinition(name);\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param name \r\n         */\r\n        static getModuleDefinition(name: string): Function {\r\n            const classpath: string = ModuleUtils.getModulePath(name);\r\n            return getDefinition(classpath);\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param name \r\n         */\r\n        static getInstance(name: string): Object {\r\n            const cls: any = ModuleUtils.getModuleDefinition(name);\r\n            return new cls();\r\n        }\r\n        \r\n    }\r\n}","namespace zt {\r\n\r\n    export class MyArray\r\n    {\r\n        public static DESCENDING = 2;//降序(默认升序)\r\n        public static NUMERIC = 16;//数值（默认是字符串）排序\r\n\r\n        /**\r\n         * 对原数组直接排序\r\n         * @param arr 原数组\r\n         * @param fieldName 依据的字段或字段列表\r\n         * @param options 排序规则，DESCENDING、NUMERIC\r\n         */\r\n        public static sortOn(arr: any[],fieldName:any,options:any = null):void\r\n        {\r\n            if(fieldName instanceof Array)\r\n            {\r\n                if(options == null)\r\n                {\r\n                    options = [];\r\n                }\r\n                this.listSortFunc(arr,fieldName,options);\r\n            }\r\n            else\r\n            {\r\n                if(options == null)\r\n                {\r\n                    options = 0;\r\n                }\r\n                this.oneSortFunc(arr,fieldName,options);\r\n            }\r\n        }\r\n\r\n        /**单个字段排序 */\r\n        private static oneSortFunc(arr: any[],fieldName:string,options:number):void\r\n        {\r\n            arr.sort((a:any,b:any) => {\r\n                return this.sortFunc(a[fieldName],b[fieldName],options);\r\n            });\r\n        }\r\n\r\n        /**多个字段排序 */\r\n        private static listSortFunc(arr: any[],fieldNameList:string[],optionsList:number[]):void\r\n        {\r\n            arr.sort((a:any,b:any) => {\r\n                for(let i = 0;i < fieldNameList.length;i++)\r\n                {\r\n                    const fieldName = fieldNameList[i];\r\n                    const options = optionsList[i] != null ? optionsList[i] : 0;\r\n                    const sortValue = this.sortFunc(a[fieldName],b[fieldName],options);\r\n                    if(sortValue != 0)\r\n                    {\r\n                        return sortValue;\r\n                    }\r\n                }\r\n                return 0;\r\n            });\r\n        }\r\n\r\n        /**排序方法 */\r\n        private static sortFunc(a:any,b:any,options:number):number\r\n        {\r\n            if(this.isNumeric(options))\r\n            {\r\n                const tempA:number = a instanceof String ? parseFloat(<string>a) : a;\r\n                const tempB:number = b instanceof String ? parseFloat(<string>b) : b;\r\n                return this.numberCompare(tempA,tempB,options);\r\n            }\r\n            return this.stringCompare(a,b,options);\r\n        }\r\n\r\n        /**数值比较 */\r\n        private static numberCompare(a:number,b:number,options:number):number\r\n        {\r\n            if(this.isDescending(options))\r\n            {\r\n                return b - a;\r\n            }\r\n            return a - b;\r\n        }\r\n\r\n        /**字符串比较 */\r\n        private static stringCompare(a:string,b:string,options:number):number\r\n        {\r\n            if(a > b)\r\n            {\r\n                return this.isDescending(options) ? -1 : 1;\r\n            }\r\n            else if(a < b)\r\n            {\r\n                return this.isDescending(options) ? 1 : -1;\r\n            }\r\n            else\r\n            {\r\n                return 0;\r\n            }\r\n        }\r\n\r\n        /**是否降序 */\r\n        private static isDescending(options:number):boolean\r\n        {\r\n            return (options & MyArray.DESCENDING) != 0;\r\n        }\r\n\r\n        /**是否是数值排序 */\r\n        private static isNumeric(options:number):boolean\r\n        {\r\n            return (options & MyArray.NUMERIC) != 0;\r\n        }\r\n    }\r\n\r\n}","namespace zt {\r\n\texport class ObjectUtils {\r\n\t\t\r\n\t\tstatic hasKey(obj:object):boolean {\r\n\t\t\tif(!obj)return false;\r\n\t\t\tlet bol = false;\r\n\t\t\tif(obj == null || typeof obj.constructor == 'string')\r\n\t\t\t\treturn bol;\r\n\t\t\tfor(const key in obj) {\r\n\t\t\t\tbol = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\treturn bol;\r\n\t\t}\r\n\t}\r\n\r\n\texport const getKey = (object) => Object.keys(object)[0];\r\n\texport const getValue = (object) => object[getKey(object)];\r\n}","namespace zt\r\n{\r\n    import GObjectPool = fairygui.GObjectPool;\r\n    import GObject =  fairygui.GObject ;\r\n\r\n    /**\r\n     * fairy 对象池\r\n     */\r\n    export class Pool\r\n    {\r\n        private static _gobjectPool:object ;\r\n        private static _pool:Pool;\r\n        constructor()\r\n        {\r\n            if(!!Pool._gobjectPool == false)\r\n            {\r\n                Pool._gobjectPool = {};\r\n            }\r\n        }\r\n\r\n        public static get ins():Pool\r\n        {\r\n            if(!!Pool._pool == false)\r\n            {\r\n                Pool._pool = new Pool();\r\n            }\r\n            return Pool._pool ;\r\n        }\r\n\r\n        public getComFormPool($url:string):GObject\r\n        {\r\n            let comPool = Pool._gobjectPool[$url];\r\n            if(!comPool)\r\n            {\r\n                comPool = new GObjectPool();\r\n                Pool._gobjectPool[$url] = comPool ;\r\n            }\r\n            const obj:GObject = comPool.getObject($url);\r\n            obj.visible = true ;\r\n            return obj;\r\n        }\r\n\r\n    \r\n\t\tpublic returnToPool(obj: GObject,$url:string): void {\r\n            let comPool:GObjectPool = Pool._gobjectPool[$url];\r\n            if(comPool)\r\n            {\r\n                comPool.returnObject(obj);\r\n            }\r\n\t\t}\r\n\r\n        public clear($url:string):void\r\n        {\r\n            let comPool = Pool._gobjectPool[$url];\r\n            if(comPool)\r\n            {\r\n                comPool.clear();\r\n                comPool = null ;\r\n                delete  Pool._gobjectPool[$url];\r\n            }\r\n        }     \r\n    }\r\n\r\n\r\n}","/**\r\n * 字符串公共函数分装\r\n */\r\nnamespace zt.utils {\r\n\texport class stringUtil {\r\n\t\t/**\r\n\t\t * {number}变量替换\r\n\t\t * a{0}c...b -> abc\r\n\t\t */\r\n\t\tstatic paramFormat(str: any, ...paramList): any {\r\n\t\t\tif(!!str == false)\treturn '文本错误';\r\n\t\t\tif (typeof str === 'string')\r\n\t\t\t\treturn stringUtil.paramFormatItem(str, paramList);\r\n\t\t\treturn (<string[]>str).map(i =>\r\n\t\t\t\tstringUtil.paramFormatItem(i, paramList)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tprivate static paramFormatItem(str: string, paramList): string {\r\n\t\t\tlet g: RegExp;\r\n\t\t\tfor (let i = 0; i < paramList.length; i++) {\r\n\t\t\t\tg = new RegExp('\\\\{' + i + '\\\\}', 'g');\r\n\t\t\t\tstr = str.replace(g, paramList[i])\r\n\t\t\t}\r\n\t\t\treturn str;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 检查是否全是数字\r\n\t\t */\r\n\t\tstatic isNumeric(p_string: any): boolean {\r\n\t\t\tif (p_string == null) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst regx: RegExp = /^[-+]?\\d*\\.?\\d+(?:[eE][-+]?\\d+)?$/;\r\n\t\t\treturn regx.test(p_string);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 前后去空\r\n\t\t */\r\n\t\tstatic trim(p_string: string): string {\r\n\t\t\tif (p_string == null) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\treturn p_string.replace(/^\\s+|\\s+$/g, '');\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 首字母大写 \r\n\t\t */\r\n\t\tstatic replaceFirstUper(str: string): string {\r\n\t\t\tconst reg = /\\b(\\w)|\\s(\\w)/g; //  \\b判断边界\\s判断空格\r\n\t\t\treturn str.replace(reg, (m) => m.toUpperCase());\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 首字母小写 \r\n\t\t */\r\n\t\tstatic replaceFirstLower(str: string): string {\r\n\t\t\tconst reg = /\\b(\\w)|\\s(\\w)/g; //  \\b判断边界\\s判断空格\r\n\t\t\treturn str.replace(reg, (m) => m.toLowerCase());\r\n\t\t}\r\n\t}\r\n}\r\n","// tslint:disable:no-magic-numbers\r\nnamespace zt {\r\n    export class System {\r\n        public static _systemTime: number;\r\n        public static _systemTimeTag: number;\r\n\r\n        static setSystemTime(val: any) {\r\n            System._systemTime = val;\r\n            System._systemTimeTag = Date.now();\r\n        }\r\n    }\r\n}","namespace zt.utils {\r\n    /**\r\n     * 获取data目录下的文件\r\n     * @param path 文件路径，可以是任意层级\r\n     */\r\n    export const getDataURL = (path: string): string => getURL('data/' + path);\r\n\r\n    /**\r\n     * 获取js目录下的文件\r\n     * @param name 文件路径，可以是任意层级\r\n     */\r\n    export const getJSURL = (name: string): string => getURL('js/' + name + '.js');\r\n\r\n    /**\r\n     * 获取res目录下的文件\r\n     * @param path 文件路径，可以是任意层级\r\n     */\r\n    export const getResourceURL = (path: string): string => getURL('res/' + path);\r\n\r\n    /**\r\n     * 获取ui目录下的文件\r\n     * @param path 文件路径，可以是任意层级\r\n     */\r\n    export const getUIURL = (path: string): string => getURL('ui/' + path);\r\n\r\n    /**\r\n     * 获取.\\Client\\h5目录下的文件\r\n     * @param path 文件路径，可以是任意层级\r\n     */\r\n    export const getURL = (path: string): string =>\r\n     {\r\n        // return zt.WebParams.domain + '/' + path;\r\n        return \"http://h5.wcy.cc:8080/\" + '/' + path;\r\n     }\r\n}","namespace zt\r\n{\r\n    import Sprite = Laya.Sprite ;\r\n    import Stage = Laya.Stage;\r\n\timport Texture = Laya.Texture;\r\n\timport Handler = Laya.Handler;\r\n    import Point = Laya.Point ;\r\n    import Loader = Laya.Loader;\r\n    import Rectangle = Laya.Rectangle;\r\n    /**\r\n     * @usage 引导线 独立的逻辑 只负责渲染\r\n     * @author wangcongyan\r\n     * @since 2017.11.27\r\n     */\r\n    export class GuideLine extends Sprite\r\n    {\r\n        /*** 间隔 */\r\n        public  pathLength:number = 87;\r\n        protected _mapRect:Rectangle = null;\r\n        protected _offsetX:number = 0;\r\n        protected _offsetY:number = 0;\r\n        protected _url:string ;\r\n        protected _start:Point ;\r\n        protected _end:Point ;\r\n        protected _pathList:PathData[];\r\n        protected _type:string;\r\n        protected _isLoad:boolean = false;  \r\n        protected _angle:number;\r\n        private _frame:number = 0;\r\n        private lightUrl0:string ;\r\n        private lightUrl1:string ;\r\n        private lightUrl2:string ;\r\n        private _data:GuideLineData;\r\n        constructor()\r\n        {\r\n            super();\r\n            this.lightUrl0 =   zt.utils.getResourceURL('universe/line/0.png');\r\n            this.lightUrl1 =   zt.utils.getResourceURL('universe/line/1.png');\r\n            this.lightUrl2 =   zt.utils.getResourceURL('universe/line/2.png');\r\n            this.blendMode = Laya.BlendMode.ADD ;\r\n        }\r\n\r\n        /**\r\n         * 初始化引导线\r\n         */\r\n        public init():void\r\n        {\r\n            Laya.timer.clear(this,this.reRender);\r\n            Laya.timer.loop(200,this,this.reRender);\r\n        }\r\n\r\n         /**\r\n         * 初始化引导线\r\n         */\r\n        public clear():void\r\n        {\r\n            Laya.timer.clear(this,this.reRender);\r\n        }\r\n\r\n        get data():GuideLineData\r\n        {\r\n            return this._data ;\r\n        }\r\n\r\n        set data(value:GuideLineData)\r\n        {\r\n            this._data = value ;\r\n        }\r\n\r\n        /**\r\n         *绘制引导线\r\n         * */\r\n        private reRender():void\r\n        {\r\n            this._frame ++ ;\r\n            this.graphics.clear();\r\n            let x : number,y : number;\r\n            const frame = this._frame % 3 ;\r\n            const urlConst : string  =   this['lightUrl' + frame]   ;\r\n            const t : Texture =  Laya.loader.getRes(urlConst);\r\n            const w = t.width ;\r\n            const h = t.height ;\r\n            const matrix:Laya.Matrix = new Laya.Matrix();   \r\n            matrix.rotate(this._angle);    \r\n            for(const pathData of this._pathList)\r\n            {\r\n                x =  pathData.x ;\r\n                y =  pathData.y;\r\n                this.graphics.drawTexture(t,x,y);\r\n            }\r\n            // this.tempAngle += 10 ;\r\n            // this.rotation = this.tempAngle ;\r\n        }\r\n\r\n          /**\r\n         * 加载资源\r\n         */\r\n        protected loadTex():void\r\n        {\r\n            this._mapRect = new Rectangle();\r\n            this._mapRect.x = this._offsetX - 100;\r\n            this._mapRect.y = this._offsetY - 100;\r\n            this._mapRect.width = Laya.stage.width + 100;\r\n            this._mapRect.height = Laya.stage.height + 100; \r\n            const url:string = this.url;\r\n            Laya.loader.load(url, Handler.create(this, this.clipViewPort), null, Loader.ATLAS);\r\n        }\r\n\r\n\r\n        /**\r\n         * 获取路径资源\r\n         */\r\n        protected get url():string\r\n        {\r\n            if(this._url == undefined || this._url == null)\r\n            {\r\n                this._url = zt.utils.getResourceURL('universe/line.json');\r\n            }\r\n            return this._url;\r\n        }\r\n\r\n        /**\r\n         *剪裁窗口显示内容\r\n         */\r\n        protected clipViewPort():void\r\n        {\r\n            this._isLoad = true ;\r\n            this._pathList = [];\r\n            const distance = this.getDistance(this._start,this._end);   \r\n            const len:number = Math.ceil( distance / this.pathLength);\r\n            const pathTotal:Point = new Point();\r\n            let pathData:PathData ;\r\n            let t:Texture ;\r\n            // PathData.reset();\r\n            for(let i:number = 0 ; i < len ; i ++)\r\n            {\r\n                pathTotal.x = this.pathLength * i ;\r\n                pathData =  new PathData(pathTotal.x,0);\r\n                // PathData.getPath(pathTotal.x,pathTotal.y);\r\n                this._pathList.push(pathData);\r\n            }\t\r\n            if(this._pathList.length > 0)\r\n            {\r\n                this.init();\r\n            }else\r\n            {\r\n                this.clear();\r\n            }\r\n            this.pivotX = 0.5 ;\r\n            this.pivotY = 0.5 ;\r\n            this.x = this._start.x;\r\n            this.y = this._start.y;\r\n            this.rotation = this._angle ;\r\n        }\r\n\r\n\r\n        /**\r\n         * 获取两个点之间的的角度和\r\n         * @param  \r\n         * @param  \r\n         */\r\n        protected getDistance($start:Point,$end:Point):number\r\n        {\r\n            let distance:number = 0;\r\n            distance = $start.distance($end.x,$end.y);\r\n            const lx = $end.x - $start.x;\r\n            const ly = $end.y - $start.y;\r\n            this._angle  = Math.atan2(ly, lx) * 180 / Math.PI ;\r\n            return  distance;\r\n        }\r\n\r\n        \r\n\r\n        /**\r\n         * 更新路径线\r\n         */\r\n        public updatePath($start:Point,$end:Point):void\r\n        {   \r\n            this._start = $start ;\r\n            this._end = $end ;\r\n            if(this._isLoad)\r\n            {\r\n                this.clipViewPort();\r\n            }else\r\n            {\r\n                this.loadTex();\r\n            }\r\n        }   \r\n\r\n        /**\r\n         * 更新引导线 \r\n         */\r\n        public update(offsetx:number = 0,offsety:number = 0):void\r\n        {\r\n            this._offsetX = -offsetx ;\r\n            this._offsetY = -offsety ;\r\n            this._mapRect.x = this._offsetX - 100;\r\n            this._mapRect.y = this._offsetY - 100;\r\n            this._mapRect.width = Laya.stage.width + 100;\r\n            this._mapRect.height = Laya.stage.height + 100;\r\n            this.clipViewPort();\r\n        }\r\n\r\n        /**\r\n         * 销毁显示对象\r\n         */\r\n        public dispose():void\r\n        {\r\n            this.clear();\r\n            PathData.clear();\r\n            this.graphics.clear();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 指引数据\r\n     */\r\n    export class GuideLineData\r\n    {\r\n        /**\r\n        * 标识当前的引导线\r\n        */\r\n        public guideID:number ;\r\n        public to:number ;\r\n        public from:number;\r\n        public minLevel:number ;\r\n        public maxLevel:number ;\r\n\r\n    }\r\n\r\n     /**\r\n     * 路径数据\r\n     */\r\n    export class PathData\r\n    {\r\n        private _x:number  ;\r\n        private _y:number  ;\r\n        static pathDatas:Array<PathData> = [];\r\n        static index:number = 0 ;\r\n        constructor(x:number,y:number)\r\n        {\r\n            this._x = x ;\r\n            this._y = y ;\r\n        }\r\n\r\n        /**\r\n         * 获取当前网格数据\r\n         * @param index \r\n         * @param u \r\n         * @param v \r\n         */\r\n        static getPath(x:number,y:number):PathData\r\n        {\r\n            let pathData:PathData = PathData.pathDatas[HexData.index];\r\n            if(pathData == null)\r\n            {\r\n                pathData = new PathData(x,y);\r\n                PathData.pathDatas[HexData.index] = pathData ;\r\n            }else\r\n            {\r\n                pathData.x = x ;\r\n                pathData.x = y ;\r\n            }\r\n            PathData.index ++ ;\r\n            return pathData ;\r\n        }\r\n\r\n        set x(value:number)\r\n        {\r\n            this._x = value ;\r\n        }\r\n\r\n        get x():number\r\n        {\r\n            return this._x ;\r\n        }\r\n\r\n        set y(value:number)\r\n        {\r\n            this._y = value ;\r\n        }\r\n\r\n        get y():number\r\n        {\r\n            return this._y ;\r\n        }\r\n\r\n        static reset():void\r\n        {\r\n            PathData.index = 0 ;\r\n        }\r\n\r\n        static clear():void\r\n        {\r\n            PathData.pathDatas = null ;  \r\n        }\r\n    }\r\n}","namespace zt\r\n{\r\n    import Sprite = Laya.Sprite ;\r\n    import Stage = Laya.Stage;\r\n\timport Texture = Laya.Texture;\r\n\timport Handler = Laya.Handler;\r\n    import Point = Laya.Point ;\r\n    import Loader = Laya.Loader;\r\n    import Rectangle = Laya.Rectangle;\r\n\r\n    /**\r\n     * @usage 地图区域\r\n     * @since 2017.11.29\r\n     * @author wangcongyan \r\n     */\r\n    export class Hexagonal extends Sprite \r\n    {\r\n        public edgeRange = 10;\r\n        protected cacheGrid:object ;\r\n        protected _mapRect:Rectangle = null;\r\n        protected viewPorts:Array<HexData>;\r\n        protected hasGenerate:object;\r\n        protected _offsetX:number = 0;\r\n        protected _offsetY:number = 0;\r\n        protected _isLoad:boolean = false;\r\n        protected _hexRangeList:HexRangeData[];\r\n        constructor()\r\n        {\r\n            super();\r\n            this.blendMode = Laya.BlendMode.ADD ;\r\n            this._mapRect = new Rectangle();\r\n        }\r\n\r\n\r\n        /**\r\n         *  初始化地图格子\r\n         */\r\n        public init($list:HexRangeData[]):void\r\n        {\r\n            this.dispose();\r\n            this.initilization();\r\n            this._hexRangeList = $list ;\r\n            if(this._isLoad == false)\r\n            {\r\n                this.loadTex()\r\n            }else\r\n            {\r\n               this.clipViewPort();\r\n            }\r\n        }\r\n\r\n         /**\r\n         * 根据索引获取位置\r\n         * @param u \r\n         * @param v \r\n         */\r\n        protected getPointByIndex(u:number,v:number):Laya.Point\r\n        {\r\n            let point:Laya.Point = new Laya.Point();\r\n            point.x = 71.75 * u + 18.75 * v;\r\n            point.y = 11.75 * u + 41.5 * v ;\r\n            return point ;\r\n        }\r\n\r\n        /**\r\n         * 加载六边形渲染资源\r\n         */\r\n        protected loadTex():void\r\n        {\r\n            this.resizeMapRect();\r\n            const url:string = zt.utils.getResourceURL('grid.json');\r\n            Laya.loader.load(url, Handler.create(this, this.clipViewPort), null, Loader.ATLAS);\r\n        }\r\n\r\n\r\n        protected resizeMapRect():void\r\n        {\r\n            this._mapRect.x = (this._offsetX - 100);\r\n            this._mapRect.y = (this._offsetY - 100);\r\n            this._mapRect.width = (Laya.stage.width + 100)/this.scaleY;\r\n            this._mapRect.height = (Laya.stage.height + 100)/this.scaleY; \r\n        }\r\n\r\n        /**\r\n         * 通过索引获取坐标\r\n         */\r\n        protected getIndexByPoint(p:Point):Point\r\n        {\r\n            let point:Point = new Point();\r\n            let u:number ;\r\n            let v:number ;\r\n            u = (p.x * 41.5 - p.y *18.75)/(71.75*41.50-11.75*18.75);\r\n            v = (p.y * 71.75 - p.x *11.75)/(71.75*41.50-11.75*18.75);\r\n            u = Math.floor(u);\r\n            v = Math.floor(v);\r\n            point.setTo(u,v)\r\n            return point;\r\n        }\r\n\r\n        /**\r\n         * 大地图拖动时更新六边形显示\r\n         */\r\n        public update(offsetx:number = 0,offsety:number = 0):void\r\n        {\r\n            const ox = -offsetx ;\r\n            const oy = -offsety ;\r\n            this._offsetX = ox == undefined ? 0 : ox;\r\n            this._offsetY = oy == undefined ? 0 : oy;\r\n            this.resizeMapRect();\r\n            this.dispose();\r\n            this.initilization();\r\n            this.clipViewPort();\r\n        }\r\n\r\n\r\n        /**\r\n         * 显示星系范围区域\r\n         */\r\n        protected showHoldRange($data:any = null):void\r\n        {\r\n            let center : Point ;\r\n            let uvPoint : Point ;\r\n            let hexData:HexData ;\r\n            let range = 0 ;\r\n            if(!this._hexRangeList)return ;\r\n            for(const hexRange of this._hexRangeList)\r\n            {\r\n                center = new Point(hexRange['X'],hexRange['Y']);\r\n                uvPoint =  this.getIndexByPoint(center);\r\n                hexData =  HexData.getHex(uvPoint.x,uvPoint.y);\r\n                range = hexRange['Range'];\r\n                this.generateByRange(hexData,range)\r\n                this.viewPorts.push(hexData);\r\n                if(this.cacheGrid[hexData.u] == null)\r\n                {\r\n                    this.cacheGrid[hexData.u] = new Object();\r\n                }\r\n                this.cacheGrid[uvPoint.x][uvPoint.y] = hexData;\r\n                this.calcHexEdge(hexData,range);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 创建该中心点半径为Range的网格区域\r\n         */\r\n        protected generateByRange(hexData:HexData,range:number):void\r\n        {\r\n            let uvPos : Point = new Point();\r\n            let u : number ;\r\n            let v : number ;\r\n            let tempHexData:HexData ;\r\n            const maxOrigin = hexData.u + hexData.v + range ;\r\n            const minOrigin = hexData.u + hexData.v - range ;\r\n            for(let i = -range; i <= range; i ++)\r\n            {\r\n                for(let j = -range; j <= range; j ++)\r\n                {              \r\n                    u = hexData.u + i ;\r\n                    v = hexData.v + j ;\r\n                    if(i == j || u + v > maxOrigin ||u + v < minOrigin)continue ;\r\n                    uvPos = this.getPointByIndex(u,v);\r\n                    if(this._mapRect.contains(uvPos.x,uvPos.y))\r\n                    {\r\n                        if(this.cacheGrid[u] == null)\r\n                        {\r\n                            this.cacheGrid[u] = new Object();\r\n                        }\r\n                        if(this.cacheGrid[u][v] == null)\r\n                        {\r\n                            tempHexData =  HexData.getHex(u,v);\r\n                            tempHexData.x = uvPos.x ;\r\n                            tempHexData.y = uvPos.y ;\r\n                            this.cacheGrid[u][v] =  tempHexData ;\r\n                            this.viewPorts.push(tempHexData);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * 剪裁视角内显示的六边形\r\n         */\r\n        protected clipViewPort():void\r\n        {\r\n            this._isLoad = true ;\r\n            HexData.reset();\r\n            this.showHoldRange();\r\n            let url:string;\r\n            let hexData:HexData ;\r\n            const grids:Array<HexData> = this.viewPorts ;\r\n            const len = grids.length ;\r\n            this.graphics.clear();\r\n            const urlConst:string  =  zt.utils.getResourceURL('grid/0.png');\r\n            let t: Texture =  Laya.loader.getRes(urlConst);\r\n            let gt:Texture ;\r\n            for(let i = 0 ; i < len ; i ++ )\r\n            {\r\n                hexData = grids[i];\r\n                this.graphics.drawTexture(t,hexData.x,hexData.y) ;\r\n                if(hexData.isEdge == true )\r\n                {\r\n                    url = this.getEdgeSide(hexData);\r\n                    gt =  Laya.loader.getRes(url);\r\n                    this.graphics.drawTexture(gt,hexData.x,hexData.y) ;\r\n                }\r\n            }   \r\n            // this.graphics.drawRect(this._mapRect.x,this._mapRect.y,this._mapRect.width,this._mapRect.height,0xff);\r\n        }\r\n\r\n        /**\r\n         * 获取当前六边形对应的资源\r\n         * @param hexData \r\n         */\r\n        protected getEdgeSide(hexData:HexData):string\r\n        {\r\n            const urlNum:number = this.edgeTotalScore(hexData) ;\r\n            const url:string =  zt.utils.getResourceURL('grid/'+urlNum+'.png') ;\r\n            return url ;\r\n        }\r\n\r\n\r\n        /**\r\n         * 获取边界分数总和\r\n         */\r\n        protected edgeTotalScore(hexData:HexData):number\r\n        {\r\n            let result:number = 0 ;\r\n            for(let i = -1; i <= 1; i ++)\r\n            {\r\n                for(let j = -1; j <= 1; j ++)\r\n                {\r\n                    result += this.sideScore(i,j,hexData);\r\n                }\r\n            }\r\n            result += hexData.needAdd ;\r\n            return result ;\r\n        }\r\n\r\n\r\n        /**\r\n         * 获取该边为边缘区域时积分\r\n         * @param u \r\n         * @param v \r\n         * @param hexData \r\n         */\r\n        protected sideScore(u:number,v:number,hexData:HexData):number\r\n        {\r\n            let result = 0 ;\r\n            if(this.cacheGrid[hexData.u + u] == null || \r\n               this.cacheGrid[hexData.u + u][hexData.v + v] == null || \r\n               this.cacheGrid[hexData.u + u][hexData.v + v].isEdge == false)\r\n            {\r\n                return  0 ;\r\n            }\r\n            if(u == 1 && v == -1)\r\n            {\r\n                return 2;\r\n            }\r\n            if(u == 1 && v == 0)\r\n            {\r\n                return 4;\r\n            }\r\n            if(u == 0 && v == 1)\r\n            {\r\n                return 8;\r\n            }\r\n            if(u == -1 && v == 1)\r\n            {\r\n                return 16;\r\n            }\r\n            if(u == -1 && v == 0)\r\n            {\r\n                return 32;\r\n            }if(u == 0 && v == -1)\r\n            {\r\n                return 64;\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        /**\r\n         * 销毁对象\r\n         */\r\n        public dispose():void\r\n        {\r\n            this.graphics.clear();\r\n            this.cacheGrid = null ;\r\n            this.viewPorts = null ;\r\n            this.hasGenerate = null ;\r\n        }\r\n\r\n\r\n        protected initilization():void\r\n        {\r\n            this.cacheGrid = new Object();\r\n            this.viewPorts = [];\r\n            this.hasGenerate = new Object();\r\n        }\r\n\r\n\r\n        /**\r\n         * 计算出六边形边缘区域\r\n         * @param hexData \r\n         */\r\n        protected calcHexEdge(hexData:HexData,depth:number):void\r\n        {   \r\n            let  u:number = 0 ;\r\n            let  v:number =  0 ;\r\n            let uvPos:Point ;\r\n           for(let i = 0 ; i < depth ; i ++)\r\n           {\r\n               u =  hexData.u  - depth + i  ;\r\n               v =  hexData.v - i ;\r\n            \r\n               this.edge(u,v,1);\r\n\r\n               u =  hexData.u  - depth  ;\r\n               v =  hexData.v + i ;\r\n            \r\n              this.edge(u,v,1);\r\n\r\n               u =  hexData.u  - depth + i;\r\n               v =  hexData.v + depth ;\r\n            \r\n               this.edge(u,v,1);\r\n\r\n               u =  hexData.u  + i;\r\n               v =  hexData.v + depth - i;\r\n            \r\n               this.edge(u,v,i == 0 ? 1:0);\r\n\r\n               u =  hexData.u  + depth;\r\n               v =  hexData.v - i;\r\n            \r\n               this.edge(u,v,i == 0 ? 1:0);\r\n\r\n               u =  hexData.u  + depth -i;\r\n               v =  hexData.v - depth;\r\n               this.edge(u,v,i == 0 ? 1:0);\r\n\r\n               u =  hexData.u  - i;\r\n               v =  hexData.v - depth + i ;\r\n               this.edge(u,v,1);\r\n           }\r\n        }\r\n\r\n        /**\r\n         * 设置当前六边形为边缘\r\n         * @param u\r\n         * @param v \r\n         */\r\n        protected edge(u:number,v:number,add:number = 0 ):void\r\n        {\r\n            if(this.cacheGrid[u] == null)\r\n            {\r\n                this.cacheGrid[u] = new Object();\r\n            }\r\n            const uvPos = this.getPointByIndex(u,v);\r\n            if(this._mapRect.contains(uvPos.x,uvPos.y))\r\n            {\r\n                if(this.cacheGrid[u][v] == null)\r\n                {\r\n                    const hexData =  HexData.getHex(u,v);\r\n                    hexData.x = uvPos.x ;\r\n                    hexData.y = uvPos.y ;\r\n                    this.cacheGrid[u][v] = hexData ;\r\n                    this.viewPorts.push(hexData);\r\n                }\r\n                if(this.cacheGrid[u][v].isEdge == true)return;\r\n                this.cacheGrid[u][v].isEdge = true ;\r\n                this.cacheGrid[u][v].needAdd = add ;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 六边形数据\r\n     */\r\n    export class HexData\r\n    {\r\n        public u:number  ;\r\n        public v:number  ;\r\n        public x:number  ;\r\n        public y:number  ;\r\n        public isEdge:boolean ;\r\n        public inEdge:boolean ; //是否在区域内\r\n        public needAdd:number = 0 ; // 是否需要加1\r\n        static hexDatas:Array<HexData> = [];\r\n        static index:number = 0 ;\r\n        constructor(ou:number,ov:number)\r\n        {\r\n            this.u = ou ;\r\n            this.v = ov ;\r\n        }\r\n        get key(){return this.u.toString() + this.v.toString()}\r\n\r\n        /**\r\n         * 获取当前网格数据\r\n         * @param index \r\n         * @param u \r\n         * @param v \r\n         */\r\n        static getHex(u:number,v:number):HexData\r\n        {\r\n            let hexData:HexData = HexData.hexDatas[HexData.index];\r\n            if(hexData == null)\r\n            {\r\n                hexData = new HexData(u,v);\r\n                HexData.hexDatas[HexData.index] = hexData ;\r\n            }else\r\n            {\r\n                hexData.u = u ;\r\n                hexData.v = v ;\r\n            }\r\n            hexData.isEdge = false;\r\n            HexData.index ++ ;\r\n            return hexData ;\r\n        }\r\n\r\n        static reset():void\r\n        {\r\n            HexData.index = 0 ;\r\n        }\r\n\r\n        static clear():void\r\n        {\r\n            HexData.hexDatas = null ;  \r\n\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 地图区域范围\r\n     */\r\n    export interface HexRangeData\r\n    {\r\n        X:number,\r\n        Y:number,\r\n        Range:number\r\n    }\r\n\r\n}","namespace zt {\r\n    export class Mask extends Laya.Sprite {\r\n        private _free: boolean;\r\n        constructor() {\r\n            super();\r\n            this.mouseThrough = true;\r\n            this.initEvent();\r\n        }\r\n\r\n        private initEvent() {\r\n            this.on(Laya.Event.MOUSE_DOWN, this, (e: Laya.Event) => {\r\n                e.stopPropagation();\r\n            })\r\n        }\r\n\r\n        draw(alpha:number) {\r\n            this.graphics.clear();\r\n            this.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, '#000000');\r\n            this.size(Laya.stage.width, Laya.stage.height);\r\n            this.alpha = alpha;\r\n        }\r\n\r\n        set free(val: boolean) {\r\n            this._free = val;\r\n        }\r\n\r\n        dispose() {\r\n            this.free = true\r\n        }\r\n\r\n        private static _instance: Mask;\r\n        show(alpha:number) {\r\n            this.draw(alpha);\r\n            zt.Layers.getLayer('top').addChild(this);\r\n        }\r\n\r\n        hide() {\r\n            this.removeSelf();\r\n        }\r\n        static get instance(): Mask {\r\n            return Mask._instance || (Mask._instance = new Mask());\r\n        }\r\n\r\n    }\r\n\r\n    export const DEFAULT_MASK_ALPHA = 0.4;\r\n\r\n    export const showMask = (alpha = 0) => {\r\n        Mask.instance.show(alpha);\r\n    }\r\n\r\n    export const hideMask = () => {\r\n        Mask.instance.hide();\r\n    }\r\n}","namespace zt\r\n{\r\n    import Sprite = Laya.Sprite ;\r\n    import Stage = Laya.Stage;\r\n\timport Texture = Laya.Texture;\r\n\timport Handler = Laya.Handler;\r\n    import Point = Laya.Point ;\r\n    import Rectangle = Laya.Rectangle;\r\n\r\n    /**\r\n     * @usage 飞行线\r\n     * @since 2017.11.28\r\n     * @author wangcongyan\r\n     */\r\n    export class PathLine extends  Sprite \r\n    {  \r\n        /*** 间隔 */\r\n        public  pathLength:number = 10;\r\n        protected _url:string ;\r\n        protected _start:Point ;\r\n        protected _end:Point ;\r\n        protected _type:string;\r\n        protected _isLoad:boolean = false;  \r\n        protected _angle:number;\r\n        private pathUrl:string ;\r\n        private pathPointUrl:string ;\r\n        constructor()\r\n        {\r\n            super();\r\n            this.pathUrl =   zt.utils.getResourceURL('universe/line/path.png');\r\n            this.blendMode = Laya.BlendMode.ADD ; \r\n        }\r\n\r\n\r\n        /**\r\n         * 获取路径资源\r\n         */\r\n        protected get url():string\r\n        {\r\n            if(this._url == undefined || this._url == null)\r\n            {\r\n                this._url = zt.utils.getResourceURL('universe/line.json');\r\n            }\r\n            return this._url;\r\n        }\r\n\r\n        /**\r\n         *剪裁窗口显示内容\r\n         */\r\n        protected clipViewPort():void\r\n        {\r\n            this._isLoad = true ;\r\n            const urlConst : string  =   this.pathUrl;\r\n            const t : Texture =  Laya.loader.getRes(urlConst);\r\n            let x : number,y : number;\r\n            this.graphics.clear();\r\n            const distance = this.getDistance(this._start,this._end);   \r\n            const len:number = Math.ceil( distance / this.pathLength);\r\n            for(let i:number = 2 ; i < len ; i ++)\r\n            {\r\n                x = this.pathLength * i ;\r\n                this.graphics.drawTexture(t,x,0);\r\n            }\r\n            this.pivotX = 0.5 ;\r\n            this.pivotY = 0.5 ;\r\n            this.x = this._start.x;\r\n            this.y = this._start.y;\r\n            this.rotation = this._angle ;\r\n        }\r\n\r\n        /**\r\n         * 获取两个点之间的的角度和\r\n         * @param  \r\n         * @param  \r\n         */\r\n        protected getDistance($start:Point,$end:Point):number\r\n        {\r\n            let distance:number = 0;\r\n            distance = $start.distance($end.x,$end.y);\r\n            const lx = $end.x - $start.x;\r\n            const ly = $end.y - $start.y;\r\n            this._angle  = Math.atan2(ly, lx) * 180 / Math.PI ;\r\n            return  distance;\r\n        }\r\n\r\n        /**\r\n         * 更新路径线\r\n         */\r\n        public updatePath($start:Point,$end:Point):void\r\n        {   \r\n            this._start = $start ;\r\n            this._end = $end ;\r\n            this.clipViewPort();\r\n        }   \r\n\r\n\r\n        public clear():void\r\n        {\r\n            this.graphics.clear();    \r\n        }\r\n\r\n        public dispose():void\r\n        {\r\n            this.removeSelf();\r\n            this.clear();\r\n            this.destroy();\r\n        }\r\n    }\r\n}","namespace zt\r\n{\r\n    import Sprite = Laya.Sprite ;\r\n    import Texture = Laya.Texture;\r\n    \r\n    /**\r\n     * @usage 飞行目标点\r\n     * @since 2018.01.10\r\n     * @author wangcongyan\r\n     */\r\n    export class PathTarget extends Sprite\r\n    {\r\n        private pathPointUrl:string;\r\n        constructor()\r\n        {\r\n            super();\r\n            this.pathPointUrl  = zt.utils.getResourceURL('universe/line/point.png');\r\n            this.loadTex();\r\n        }\r\n\r\n        private loadTex():void\r\n        {\r\n            const pt:Texture =  Laya.loader.getRes(this.pathPointUrl);\r\n            this.graphics.drawTexture(pt,-32,-24);\r\n        }\r\n\r\n        public show():void\r\n        {\r\n            this.visible = true;\r\n        }\r\n\r\n        public hide():void\r\n        {\r\n            this.visible = false;\r\n        }\r\n\r\n        public dispose():void\r\n        {\r\n            this.graphics.clear();\r\n        }\r\n    }\r\n}\r\n","namespace zt.app \r\n{\r\n    import Handler = Laya.Handler ;\r\n    import GComponent = fairygui.GComponent ;\r\n    import GButton = fairygui.GButton ;\r\n    /**\r\n     * @usage 侧边栏基类\r\n     * @since 2018.01.25\r\n     * @author wangcongyan\r\n     */\r\n    export class BaseSilder\r\n    {\r\n        protected _callBack:Handler ;\r\n        protected _ui:GComponent ;\r\n        protected _closeBtn:GButton ;\r\n        protected _closeHandler:Handler ;\r\n        constructor($ui:GComponent)\r\n        {   \r\n            this._ui = $ui ;\r\n        }\r\n\r\n        public init():void\r\n        {\r\n            \r\n        }\r\n\r\n\r\n        public addEvent():void\r\n        {\r\n            \r\n\r\n        }\r\n\r\n        public removeEvent():void\r\n        {\r\n\r\n        }\r\n\r\n        public get width():number\r\n        {\r\n            return this._ui.getChild('bg').width;\r\n        }\r\n\r\n        /**\r\n         * 显示侧边栏\r\n         * @param $handler 回调函数  \r\n         */\r\n        public showSilder($handler:Handler):void\r\n        {\r\n            this._callBack = $handler ;\r\n        }\r\n\r\n        public hideSilder():void\r\n        {\r\n            this._closeHandler.run();\r\n        }\r\n\r\n        public dispose():void\r\n        {\r\n            throw new Error('this function must be override!~');\r\n        }\r\n    }\r\n}","namespace zt {\r\n    import GComponent = fairygui.GComponent;\r\n    export class UIBase implements AppUIBase{\r\n        protected _ui: GComponent;\r\n        constructor(ui: GComponent) \r\n        {\r\n            this._ui = ui;\r\n        }\r\n\r\n        set visible(val: boolean) {\r\n            this._ui.displayObject.visible = val\r\n        }\r\n\r\n\r\n        get ui(): GComponent { return this._ui }\r\n\r\n        start() \r\n        {\r\n            throw Error('must be overrided') \r\n        }\r\n\r\n        update() {\r\n            //\r\n        }\r\n\r\n        dispose()\r\n        {\r\n            throw Error('must be overrided')\r\n        }\r\n    }\r\n\r\n    export interface AppUIBase {\r\n        start();\r\n        dispose()\r\n    }\r\n}","namespace zt.app\r\n{\r\n    import Handler = Laya.Handler ;\r\n    export class UIController implements IController\r\n    {   \r\n        protected _app:AppBase ;\r\n        private _controllerName:string = 'moduleName';\r\n        private _uiModel:IModel;\r\n        protected _moduleName:string;\r\n        private _prefix:string ;\r\n        constructor(app:AppBase)\r\n        {\r\n            this._app = app ;\r\n        }\r\n\r\n    \r\n\r\n        public init():void\r\n        {\r\n           \r\n        }    \r\n \r\n        public setModuleName(moduleName:string,$prefix:string):void\r\n        {\r\n            this._moduleName = moduleName ;\r\n            this._prefix  = $prefix ? $prefix : '';\r\n            this._controllerName = getNameByModuleAndprefix(this._moduleName,'controller',this._prefix);\r\n        }\r\n\r\n        public start():void\r\n        {\r\n         \r\n        }\r\n\r\n        public close() { this._app.startDispose(); }\r\n\r\n        public dispose():void\r\n        {\r\n            throw new Error('dispose function must be override!');\r\n        }\r\n\r\n        public get model():IModel\r\n        {\r\n            if(!this._uiModel)\r\n            {\r\n                const moduleName = getNameByModuleAndprefix(this._moduleName,'model');\r\n                this._uiModel =  Facade.getIns().retrieveModel(moduleName)\r\n            }\r\n            return this._uiModel ;\r\n        }  \r\n\r\n        public get prefix():string\r\n        {\r\n           return this._prefix;\r\n        }\r\n\r\n        public get moduleName():string\r\n        {\r\n            return this._moduleName ;\r\n        }\r\n\r\n        public get controllerlName():string \r\n\t\t{\t\r\n           return this._controllerName;\r\n        }\r\n\r\n        public showSilder(silderName:string,handler:Handler):void\r\n        {\r\n            this._app.showSideBar(silderName,handler);\r\n        }\r\n\r\n\r\n        public hideSilder(silderName):void\r\n        {\r\n            this._app.closeSidebar();\r\n        }\r\n    }\r\n}\r\n","namespace zt.app\r\n{\r\n\r\n    /**\r\n     * 界面数据层\r\n     * @author wangcongyan \r\n     * @since 2017.12.30\r\n     */\r\n    export class UIModel implements IModel\r\n    {   \r\n        private _modelName:string = 'UIView';\r\n        private _prefix:string;\r\n        protected _params:any;\r\n        private _moduleName:string ;\r\n        constructor($param:any)\r\n        {\r\n            this._params = $param;\r\n        }\r\n\r\n        public init():void\r\n        {\r\n            \r\n        } \r\n\r\n        public dispose():void\r\n        {\r\n            throw new Error('dispose function must be override!');\r\n        } \r\n\r\n        public getData():object\r\n        {\r\n            throw new Error('getData function must be override!');\r\n        }\r\n\r\n        public start():void\r\n        {\r\n            \r\n        }\r\n        \r\n        public setModuleName(moduleName:string,$prefix:string):void\r\n        {\r\n            this._prefix = $prefix ? $prefix : '';\r\n            this._moduleName = moduleName ;\r\n            this._modelName = getNameByModuleAndprefix(moduleName,'model',this._prefix);\r\n        }\r\n\r\n        public get moduleName():string\r\n        {\r\n            return this._moduleName; \r\n        }\r\n\r\n        public get modelName():string\r\n        {\r\n            return this._modelName ;\r\n        }\r\n\r\n        public get prefix():string\r\n        {\r\n            return this._prefix;\r\n        }\r\n    }\r\n}","namespace zt.app\r\n{\r\n    import GComponent = fairygui.GComponent;\r\n    import Event = Laya.Event;\r\n    /**\r\n     * @usage 面板基类\r\n     * @since 2017.12.28\r\n     * @author wangcongyan\r\n     */\r\n    export class UIView implements IView\r\n    {   \r\n        private _uiViewName:string = 'UIView';\r\n        private _model:IModel ;\r\n        private _controller:IController ;\r\n        protected _moduleName:string;\r\n        protected _ui:GComponent ;\r\n        private _prefix:string;\r\n        constructor($root?:GComponent)\r\n        {\r\n            this._ui = $root ;\r\n        }\r\n\r\n        public getUI($d:object,$isGuide:boolean):GuideNode\r\n        {\r\n            throw new Error('this function must be override!');\r\n        }\r\n\r\n        public startGuild($d:object):void\r\n        {\r\n\r\n        }\r\n\r\n        public start():void\r\n        {\r\n            throw new Error('this function must be override!');\r\n        }\r\n\r\n        public setModuleName(moduleName:string,$prefix:string):void\r\n        {\r\n            this._moduleName = moduleName ;\r\n            this._prefix = $prefix ? $prefix : '';\r\n            this._uiViewName = getNameByModuleAndprefix(this._moduleName,'view',this._prefix);\r\n        }\r\n\r\n        public init():void\r\n        {\r\n            throw new Error('this function must be override!');\r\n        }\r\n        \r\n        public addEvent():void\r\n        {\r\n            throw new Error('this function must be override!');\r\n        }   \r\n\r\n        protected removeEvent():void\r\n        {\r\n            throw new Error('this function must be override!');\r\n        }\r\n\r\n        protected closeApp(event:Event = null):void\r\n        {\r\n            this.controller.close();\r\n        }\r\n\r\n        public get model():IModel\r\n        {\r\n            if(!this._model)\r\n            {\r\n                this._model =  getModelByModuleName(this._moduleName);\r\n            }\r\n            return this._model ;\r\n        }\r\n\r\n        public get controller():IController\r\n        {\r\n            if(this._controller == null)\r\n            {\r\n                this._controller = getControllerByModuleName(this._moduleName);\r\n            }\r\n            return this._controller ;\r\n        }\r\n\r\n        public get prefix():string\r\n        {\r\n            return this._prefix;\r\n        }\r\n        \r\n        public get moduleName():string\r\n        {\r\n            return this._moduleName ;\r\n        }\r\n\r\n        public get uIName():string\r\n        {\r\n            return this._uiViewName;\r\n        }\r\n\r\n        public get ui():GComponent\r\n        {\r\n            return this._ui ;\r\n        }\r\n\r\n        public dispose():void\r\n        {\r\n            this.removeEvent();\r\n            throw new Error('this function must be override!');\r\n        }\r\n\r\n    }\r\n\r\n}","namespace zt.net {\r\n\r\n\texport class MessageHeadIn {\r\n\t\t\r\n\t\tprivate _type:number;\r\n\t\tprivate _from_component_type:number;\r\n\t\tprivate _from_component_id:number;\r\n\t\tprivate _to_component_type:number;\r\n\t\tprivate _to_component_id:number;\r\n\r\n\t\tconstructor(source:Laya.Byte) {\r\n\t\t\tthis._type =  source.getUint8();\r\n\t\t\tthis._from_component_type = source.getUint8();\r\n\t\t\tthis._from_component_id = source.getUint32();\r\n\t\t\tthis._to_component_type = source.getUint8();\r\n\t\t\tthis._to_component_id = source.getUint32();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * uint32 \r\n\t\t */\r\n\t\tget from_component_id():number {\r\n\t\t\treturn this._from_component_id;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * uint32 \r\n\t\t */\r\n\t\tget to_component_id():number {\r\n\t\t\treturn this._to_component_id;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * uint 8\r\n\t\t */\r\n\t\tget to_component_type():number {\r\n\t\t\treturn this._to_component_type;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * uint 8\r\n\t\t */\r\n\t\tget from_component_type():number {\r\n\t\t\treturn this._from_component_type;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * uint8 \r\n\t\t */\r\n\t\tget type():number {\r\n\t\t\treturn this._type;\r\n\t\t}\r\n\t\t\r\n\t\ttoString():string {\r\n\t\t\tlet result = '';\r\n\t\t\t\tresult += 'type:'+this._type+',';\r\n\t\t\t\tresult += 'from_type:'+this._from_component_type+',';\r\n\t\t\t\tresult += 'from_id:'+this._from_component_id+',';\r\n\t\t\t\tresult += 'to_type:'+this._to_component_type+',';\r\n\t\t\t\tresult += 'to_id:'+this._to_component_id+',';\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t}\r\n}","namespace zt.net {\r\n\r\n\texport class MessageHeadOut {\r\n\r\n\t\tprivate _type:number;\r\n\t\tprivate _from_component_type:number;\r\n\t\tprivate _from_component_id:number;\r\n\t\tprivate _to_component_type:number;\r\n\t\tprivate _to_component_id:number;\r\n\r\n\t\tconstructor(type:number,from_component_type:number=-1,from_component_id:number=-1,to_component_type:number=-1,to_component_id:number=-1) {\r\n\t\t\tthis._to_component_id = to_component_id;\r\n\t\t\tthis._to_component_type = to_component_type;\r\n\t\t\tthis._from_component_id = from_component_id;\r\n\t\t\tthis._from_component_type = from_component_type;\r\n\t\t\tthis._type = type;\r\n\t\t}\r\n\t\t\r\n\t\twrite(byte:Laya.Byte):void {\r\n\t\t\tbyte.writeUint8(this.type);\r\n\t\t\tthis._from_component_type != -1 && byte.writeUint8(this._from_component_type);\r\n\t\t\tthis._from_component_type != -1 && byte.writeUint32(this._from_component_id);\r\n\t\t\tthis._from_component_type != -1 && byte.writeUint8(this._to_component_type);\r\n\t\t\tthis._from_component_type != -1 && byte.writeUint32(this._to_component_id);\r\n\t\t}\r\n\t\t\r\n\t\ttoString():String {\r\n\t\t\tlet result:String = '';\r\n\t\t\t\tresult += 'type:'+this._type+',';\r\n\t\t\t\tresult += 'from_type:'+this._from_component_type+',';\r\n\t\t\t\tresult += 'from_id:'+this._from_component_id+',';\r\n\t\t\t\tresult += 'to_type:'+this._to_component_type+',';\r\n\t\t\t\tresult += 'to_id:'+this._to_component_id+',';\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tget type():number {\r\n\t\t\treturn this._type;\r\n\t\t}\r\n\t}\r\n}","namespace zt.net {\r\n\texport class PackageIn extends Laya.Byte {\r\n\t\t/**\r\n\t\t * 数据包长度 uint32 \r\n\t\t */\r\n\t\tprivate _msgsize: number;\r\n\t\t/**\r\n\t\t * 标记字段(压缩) uint8 \r\n\t\t */\r\n\t\tprivate _flag: number;\r\n\t\t/**\r\n\t\t * 数据压缩加密前大小  uint32\r\n\t\t */\r\n\t\tprivate _sourcesize: number;\r\n\t\tprivate _msgHead: MessageHeadIn;\r\n\t\tprivate _content: any;\r\n\r\n\t\tprivate _source: Laya.Byte;\r\n\t\tprivate _componentCMD: number;\r\n\t\tconstructor(source: ArrayBuffer) {\r\n\t\t\tsuper(source);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 数据实体 \r\n\t\t */\r\n\t\tget msgHead(): MessageHeadIn {\r\n\t\t\treturn this._msgHead;\r\n\t\t}\r\n\r\n\t\tget content(): any {\r\n\t\t\treturn this._content;\r\n\t\t}\r\n\r\n\t\tparse(): void {\r\n\t\t\tthis._msgsize = this.getUint32();\r\n\t\t\tthis._flag = this.getUint8();\r\n\t\t\tthis._sourcesize = this.getUint32();\r\n\r\n\t\t\tlet msgbodyByte: Laya.Byte = this;\r\n\t\t\tif (this._flag == 1) {\r\n\t\t\t\tlet uncompressData: Uint8Array;\r\n\t\t\t\tconst input: Uint8Array = msgbodyByte.getUint8Array(msgbodyByte.pos, msgbodyByte.bytesAvailable);\r\n\t\t\t\tconst opt: Object = { level: 9 };\r\n\t\t\t\tuncompressData = Laya.Browser.window.pako.inflate(input, opt);\r\n\t\t\t\tmsgbodyByte = getByteObj(uncompressData.buffer);\r\n\t\t\t}\r\n\r\n\t\t\tthis._msgHead = new MessageHeadIn(msgbodyByte);\r\n\r\n\t\t\tif (this._msgHead.type == MessageType.COMPONENT) {\r\n\t\t\t\tthis._componentCMD = msgbodyByte.getUint16();\r\n\t\t\t}\r\n\r\n\t\t\tif (this._msgHead.type == MessageType.COMPONENT) {\r\n\t\t\t\tthis._content = msgbodyByte.getUint8Array(msgbodyByte.pos, msgbodyByte.bytesAvailable).buffer;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tmsgbodyByte.getUint16();\r\n\t\t\t\tthis._content = msgbodyByte.readUTFBytes();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tget componentCMD(): number {\r\n\t\t\treturn this._componentCMD;\r\n\t\t}\r\n\t}\r\n}","namespace zt.net {\r\n\r\n\texport class PackageOut extends Laya.Byte {\r\n\t\t/**\r\n\t\t * 包的长度大于次值，则需要压缩\r\n\t\t */\r\n\t\tprivate static COMPRESS_BYTES_MIN = 255;\r\n\t\t/**\r\n\t\t * 协议中记录body的长度需要的字节\r\n\t\t */\r\n\t\tprivate static BODY_BYTES = 4;\r\n\t\tprivate _componentCMD:number;\r\n\r\n\t\tprivate _flag:number;\r\n\r\n\t\tprivate _msgbodyBuffer:ArrayBuffer;\r\n\r\n\t\tprivate _msgbody:Laya.Byte;\r\n\t\t\r\n\t\tconstructor() {\r\n\t\t\tsuper();\r\n\t\t\tthis.endian = Laya.Byte.BIG_ENDIAN;\r\n\t\t}\r\n\t\t\r\n\t\twriteData(messageHead:MessageHeadOut, componentCMD = 0, msg=''):void {\r\n\t\t\tthis._componentCMD = componentCMD;\r\n\t\t\t\r\n\t\t\tconst msgSourceByte:Laya.Byte = getByteObj();\r\n\r\n\t\t\tlet msgUTF:Laya.Byte = new Laya.Byte();\r\n\t\t\tmsgUTF.writeUTFBytes(msg);\r\n\t\t\tmsgSourceByte.writeUint16(msgUTF.length);\r\n\t\t\tmsgSourceByte.writeUTFBytes(msg);\r\n\t\t\t// msgSourceByte.writeUTFBytes('\\0');\r\n\t\t\t\r\n\t\t\tthis._msgbody = getByteObj();\r\n\t\t\tmessageHead.write(this._msgbody);\r\n\t\t\tif(messageHead.type　== MessageType.COMPONENT)\r\n\t\t\t\tthis._msgbody.writeUint16(this._componentCMD);\r\n\t\t\tthis._msgbody.writeArrayBuffer(msgSourceByte.buffer);\r\n\t\t\t\r\n\t\t\tthis._msgbodyBuffer = this._msgbody.buffer;\r\n\t\t\t\r\n\t\t\tthis._flag = this.getFlag(this._msgbody);\r\n\t\t\tif(this._flag == FlagType.COMPRESS) {\r\n\t\t\t\tthis._msgbodyBuffer = this.compress(this._msgbody);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.writeUint32(this.getmsgsize(this._msgbodyBuffer));\r\n\t\t\tthis.writeUint8(this._flag);\r\n\t\t\tthis.writeUint32(this._msgbody.length);\r\n\t\t\tthis.writeArrayBuffer(this._msgbodyBuffer);\r\n\t\t}\r\n\t\t\r\n\t\tgetmsgsize(msgbodyBuffer:ArrayBuffer):number {\r\n\t\t\treturn 1 + PackageOut.BODY_BYTES + msgbodyBuffer.byteLength;\r\n\t\t}\r\n\t\t\r\n\t\tcompress(msgSourceByte:Laya.Byte):ArrayBuffer\r\n\t\t{\r\n\t\t\tlet compressData:ArrayBuffer;\r\n\t\t\tconst opt:Object = {level:9};\r\n\t\t\tcompressData = Laya.Browser.window.pako.deflate(new Uint8Array(msgSourceByte.buffer), opt).buffer;\r\n\t\t\treturn compressData;\r\n\t\t}\r\n\t\t\r\n\t\tgetFlag(msgbody:Laya.Byte):number\r\n\t\t{\r\n\t\t\tlet flag:number = FlagType.COMPRESS;\r\n\t\t\tmsgbody.length <= PackageOut.COMPRESS_BYTES_MIN && (flag = FlagType.UNCOMPRESS);\r\n\t\t\treturn flag;\r\n\t\t}\r\n\r\n\t\tget flag():number {\r\n\t\t\treturn this._flag;\r\n\t\t}\r\n\r\n\t\tget msgBodyLen():number {\r\n\t\t\treturn this._msgbodyBuffer.byteLength\r\n\t\t}\r\n\r\n\t\tget msgbody():Laya.Byte\r\n\t\t{\r\n\t\t\treturn this._msgbody;\r\n\t\t}\r\n\t}\r\n}","namespace zt.universe\r\n{\r\n    /**\r\n     * @usage 地图节点数据\r\n     * @author wangcongyan\r\n     * @since 2018.01.11\r\n     */\r\n    export class BaseVo implements IElementVo\r\n    {\r\n        X:number ;\r\n        Y:number ;\r\n        rIndex:number=0;\r\n\t\tcIndex:number=0;\r\n        ElementID:number;\r\n        index:number ;\r\n        constructor()\r\n        {\r\n\r\n        }\r\n        public get key():string\r\n        {\r\n            return `${this.rIndex},${this.cIndex}` ;\r\n        }\r\n    }\r\n\r\n\r\n}","namespace zt.universe\r\n{\r\n    /**\r\n\t *@usage保存当前场景数据\r\n\t *@author wangcongyan\r\n\t *@since 2018.01.12\r\n     */\r\n    export class GridVo\r\n    {   \r\n        private  _rIndex:number=0;\r\n\t\tprivate  _cIndex:number=0;\r\n\t\tprivate  _w:number=0;\r\n\t\tprivate  _h:number=0;\r\n\t\tprivate  _x:number=0;\r\n\t\tprivate  _y:number=0;\r\n\t\tprivate  _url:string=\"\";\r\n        private  _key:string=\"\";\r\n\t\tprivate _elementKeyList:any[];\r\n\t\tprivate _isOnShow:boolean = false;\r\n\r\n\t\tconstructor()\r\n\t\t{\r\n\t\t\tthis._elementKeyList=[];\r\n\t\t}\r\n\t\t\r\n\t\tpublic set rIndex(val:number){this._rIndex=val;this.updateKey();}\r\n\t\tpublic set cIndex(val:number){this._cIndex=val;this.updateKey();}\r\n\t\tpublic set width(val:number){this._w=val;}\r\n\t\tpublic set height(val:number){this._h=val;}\r\n\t\tpublic set x(val:number){this._x=val;}\r\n\t\tpublic set y(val:number){this._y=val;}\r\n\t\t\r\n\t\tpublic get key():string{return this._key;}\r\n\t\tpublic get rIndex():number{return this._rIndex;}\r\n\t\tpublic get cIndex():number{return this._cIndex;}\r\n\t\tpublic get width():number{return this._w;}\r\n\t\tpublic get height():number{return this._h;}\r\n\t\tpublic get x():number{return  this._cIndex*this.width;}\r\n\t\tpublic get y():number{return this._rIndex*this.height;}\r\n\t\t\r\n\t\tprivate  updateKey():void\r\n\t\t{\r\n\t\t\tthis._key= this._rIndex+\",\"+this._cIndex;\r\n\t\t}\r\n\t\t\r\n\t\tpublic  registerKey(iGrid:IElementVo):void\r\n\t\t{\r\n\t\t\tthis._elementKeyList.push(iGrid);\r\n\t\t}\r\n\t\t\r\n\t\tpublic  deleteKey(iGrid:IElementVo):void\r\n\t\t{\r\n\t\t\tif(this._elementKeyList.indexOf(iGrid)!=-1)\r\n\t\t\t{\r\n\t\t\t\tthis._elementKeyList.splice(this._elementKeyList.indexOf(iGrid),1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic get elementKeyList():any[]\r\n\t\t{\r\n\t\t\treturn this._elementKeyList.concat();\r\n\t\t}\r\n\r\n\t\tpublic get isOnShow():boolean\r\n\t\t{\r\n\t\t\treturn this._isOnShow ;\r\n\t\t}\r\n\r\n\t\tpublic set isOnShow(value:boolean)\r\n\t\t{\r\n\t\t\tthis._isOnShow = value ;\r\n\t\t}\r\n\r\n\t\tpublic clear():void\r\n\t\t{\r\n\t\t\tthis._elementKeyList.length = 0 ;\r\n\t\t\tthis._elementKeyList = null;\r\n\t\t}\t\r\n    }\r\n}","namespace zt.universe\r\n{\r\n    /**\r\n\t * @usage Rect\r\n\t * @author wangcongyan \r\n\t * @since 2017.12.13\r\n\t */\r\n    export class Rect\r\n    {\r\n        public x:number = 0;\r\n        public y:number = 0;\r\n        public width:number = 0;\r\n        public height:number = 0;\r\n        private _right:number = 0;\r\n        private _left:number = 0;\r\n        private _bottom:number = 0;\r\n        private _top:number = 0;\r\n        constructor(x:number = 0,y:number=0,width:number=0,height:number=0)\r\n        {\r\n            this.x = x; \r\n            this.y = y;\r\n            this.height = height ;\r\n            this.width = width ;\r\n        }\r\n\r\n        public setTo(x:number = 0,y:number=0,width:number=0,height:number=0):void\r\n        {\r\n            this.x = x; \r\n            this.y = y;\r\n            this.height = height ;\r\n            this.width = width ;\r\n            this._left = this.x;\r\n            this._right = this.x + this.width ;\r\n            this._top = this.y ;\r\n            this._bottom = this.y + this.height ;\r\n        }\r\n\r\n        public get bottom():number\r\n        {\r\n            return this._bottom;\r\n        }\r\n        public get top():number\r\n        {\r\n            return this.y ;\r\n        }\r\n        public get left():number\r\n        {\r\n            return this.x ;\r\n        }\r\n        public get right():number\r\n        {\r\n            return this._right\r\n        }\r\n\r\n        public set bottom(value:number)\r\n        {\r\n           this._bottom = value ;\r\n           this.height = this.bottom - this.top ;\r\n        }\r\n        public set top(value:number)\r\n        {\r\n            this._top = value ;\r\n            this.y = value ;\r\n            this.height = this.bottom - this.top ;\r\n        }\r\n        public set left(value:number)\r\n        {\r\n          this._left = value ;\r\n          this.x = value ;\r\n          this.width = this.right - this.left ;\r\n        }\r\n        public set right(value:number)\r\n        {\r\n           this._right = value ;\r\n           this.width = this.right - this.left ;\r\n        }\r\n\r\n        /**\r\n         * 比较rect与当前区域范围是否一致\r\n         * @param rect \r\n         */\r\n        public equal(rect:Rect):boolean\r\n        {\r\n            if(this.left == rect.left && this.right == rect.right \r\n            && this.top == rect.top && this.bottom == rect.bottom)\r\n            {\r\n                return true ;\r\n            }\r\n            return false ;\r\n        }\r\n\r\n        /**\r\n         * 复制对象的值到target\r\n         * @param target \r\n         */\r\n        public cloneTo(target:Rect):void\r\n        {\r\n            target.setTo(this.x,this.y,this.width,this.height);\r\n        }\r\n\r\n        public scaleRatio($ratio:number = 1):Rect\r\n        {\r\n            const rect:Rect = new Rect();\r\n            const x = Math.floor(this.x * $ratio );\r\n            const y = Math.floor(this.y * $ratio );\r\n            const width = Math.floor(this.width  );\r\n            const height = Math.floor(this.height );\r\n            rect.setTo(x,y,width,height)\r\n            return rect;\r\n        }\r\n\r\n        public toString():string\r\n        {   \r\n            return this.x + ','+ this.y  + ',' + this.width  + ',' + this.height;\r\n        }\r\n    }\r\n\r\n}","namespace zt.universe\r\n{   \r\n\t/**\r\n\t * @usage 场景数据\r\n\t * @author wangcongyan \r\n\t * @since 2017.12.13\r\n\t */\r\n    export class UniverseData\r\n    {   \r\n        /**创建星系最小*/\r\n        public W_SIZE:number = 400 ;\r\n        public H_SIZE:number = 400 ;\r\n        private _universeWidth:number ;\r\n\t\tprivate _universeHeight:number ;\r\n\t\tprivate _mapWidth:number ;\r\n        private _mapHeight:number ;\r\n        private mapShowR:number;\r\n        private mapShowC:number;\r\n        private tPaddingRect:Rect;\r\n\t\tprivate _gridHash:object ;\r\n\t\tprivate _baseHash:object ;\r\n        private _viewRec:Rect ;\r\n        private _dragRec:Rect;\r\n        private _mapLastRect:Rect;\r\n\t\tprivate _mapRect:Rect;\r\n\t\tprivate _bgLayerRect:Rect;\r\n        private _centerX:number;\r\n        private _centerY:number;\r\n\t\tprivate _elementHash:object;\r\n\t\tprivate _bgRatio:number = .5 ;\r\n\t\tprivate _moveRatio:number = 0 ;\r\n\t\tprivate _sceneID:number ;\r\n\t\t/**是否和上一次显示区域一致*/\r\n\t\tprivate _isEqualLast:boolean ;\r\n        constructor()\r\n        {\r\n\t\t\t\r\n        }\r\n\r\n        /**\r\n         * 初始化星系\r\n         */\r\n        public initUniverse(sceneData:ISceneVo,$elementList:any[]):void\r\n        {\r\n\t\t\tthis.clear();\r\n\t\t\tthis._sceneID = sceneData.SceneID ;\r\n            this._universeWidth = sceneData.Xsize;\r\n\t\t\tthis._universeHeight = sceneData.Ysize\r\n\t\t\tthis._mapWidth = sceneData.mapW ;\r\n\t\t\tthis._mapHeight = sceneData.mapH ;\r\n\t\t\tthis._bgRatio = this._mapWidth/this.universeWidth ;\r\n\t\t\tthis.initGrid();\r\n\t\t\tthis.initBase();\r\n\t\t\tthis.initElementList($elementList);\r\n        }\r\n\r\n        /**\r\n\t\t * 初始化格子信息 \r\n\t\t */\t\t\r\n\t\tprivate initGrid():void\r\n\t\t{\r\n            const swidth = this._universeWidth ;\r\n            const sheight = this._universeHeight ;\r\n            const width = this.W_SIZE;\r\n            const height = this.H_SIZE ;\r\n\t\t\tlet rNum: number = Math.ceil(swidth/height);\r\n\t\t\tlet cNum: number = Math.ceil(swidth/width);\r\n\t\t\tlet gridVo:GridVo;\r\n\t\t\tlet rec:Rect;\r\n\t\t\tfor(let i: number=0;i<rNum;i++)\r\n\t\t\t{\r\n\t\t\t\tfor(let j: number=0;j<cNum;j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tgridVo=new GridVo();\r\n\t\t\t\t\trec= this.getGridRec(i,j);\r\n\t\t\t\t\tgridVo.rIndex=i;\r\n\t\t\t\t\tgridVo.cIndex=j;\r\n\t\t\t\t\tgridVo.width=rec.width;\r\n\t\t\t\t\tgridVo.height=rec.height;\r\n\t\t\t\t\tgridVo.x=rec.x;\r\n\t\t\t\t\tgridVo.y=rec.y;\r\n\t\t\t\t\tthis._gridHash[gridVo.key]=gridVo;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._viewRec.width = Laya.stage.width ;\r\n\t\t\tthis._viewRec.height = Laya.stage.height ;\r\n        }       \r\n        \r\n        \r\n        \t/**\r\n\t\t * 初始化会战显示 \r\n\t\t * @param $d\r\n\t\t */\t\t\r\n\t\tprivate initElementList(elementList:IElementVo[]):void\r\n\t\t{\r\n\t\t\tfor(let elementVo of elementList)\r\n            {   \r\n                this.registerData(elementVo);\r\n\t\t\t}\r\n\t\t\tthis.onResize();\r\n        }\r\n        \r\n\r\n        /**初始化地基数据*/\r\n\t\tprivate initBase():void\r\n\t\t{\r\n            const gridW:number = this.W_SIZE ;\r\n            const gridH:number = this.H_SIZE ;\r\n\t\t\tconst rNum:number = Math.ceil(this._mapWidth/gridW);\r\n\t\t\tconst cNum:number = Math.ceil(this._mapHeight/gridH);\r\n            let index:number = 0 ;\r\n\t\t\tlet baseVo:BaseVo;\r\n\t\t\tlet index_r:number = 0;\r\n\t\t\tfor(var j:number=0;j<cNum;j++)\r\n\t\t\t{\r\n\t\t\t\tfor(var i:number=0;i<rNum;i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tbaseVo=new BaseVo();\r\n\t\t\t\t\tindex_r = j * rNum + i ;\r\n\t\t\t\t\tbaseVo.rIndex=i;\r\n\t\t\t\t\tbaseVo.cIndex=j;\r\n\t\t\t\t\tbaseVo.X = i * gridW ;\r\n\t\t\t\t\tbaseVo.Y = j * gridH ;\r\n\t\t\t\t\tbaseVo.index = index ;\r\n\t\t\t\t\tthis._baseHash[index] = baseVo;\r\n\t\t\t\t\tthis._baseHash[baseVo.key] = baseVo;\r\n\t\t\t\t\tindex ++ ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n        public  getGridRec(r:number,c:number):Rect\r\n\t\t{\r\n            const swidth = this._universeWidth ;\r\n            const sheight = this._universeHeight ;\r\n            const width = this.W_SIZE;\r\n            const height = this.H_SIZE ;\r\n\t\t\tlet cNum:number = Math.ceil(swidth/width);\r\n\t\t\tlet rNum:number = Math.ceil(sheight/height);\r\n\t\t\tlet rec:Rect=new Rect(c*width,r*height,width,height);\r\n\t\t\tif(c==cNum-1)\r\n\t\t\t{\r\n\t\t\t\trec.width= swidth-rec.x;\r\n\t\t\t}\r\n\t\t\tif(r==rNum-1)\r\n\t\t\t{\r\n\t\t\t\trec.height= sheight-rec.y;\r\n\t\t\t}\r\n\t\t\treturn rec;\r\n        }\r\n\r\n\t\t/**\r\n\t\t * 隐藏节点信息\r\n\t\t * @param c \r\n\t\t * @param r \r\n\t\t */\r\n        private hideGrid(c:number,r:number):void\r\n        {\r\n            var $gridVo:GridVo = this.getGridVo(c,r); \r\n\t\t\tif(!$gridVo)return ;\r\n\t\t\tvar showList:any[] = $gridVo.elementKeyList ;\r\n\t\t\tif(showList.length == 0)return ;\r\n\t\t\t$gridVo.isOnShow = false;\r\n\t\t\tctrl.GameCtrl.intance.event('HIDE_ELEMENT',showList);\r\n        }\r\n\r\n\t\t/**\r\n\t\t * 显示节点信息\r\n\t\t * @param c \r\n\t\t * @param r \r\n\t\t */\r\n        private showGrid(c:number,r:number):void\r\n        {\r\n            var $gridVo:GridVo = this.getGridVo(c,r); \r\n\t\t\tif(!$gridVo)return ;\r\n\t\t\tvar showList:any[] = $gridVo.elementKeyList ;\r\n\t\t\tif(showList.length == 0)return ;\r\n\t\t\t$gridVo.isOnShow = true;\r\n\t\t\tctrl.GameCtrl.intance.event('SHOW_ELEMENT',showList);\r\n        }\r\n\r\n         /**\r\n\t\t * 移动视口\r\n\t\t * @param\tmoveX 视口的坐标x\r\n\t\t * @param\tmoveY 视口的坐标y\r\n\t\t * @param   $isForce 是否强制刷新\r\n\t\t */\r\n\t\tpublic moveViewPort(moveX:number, moveY:number,$isForce:boolean = false):void {\r\n\t\t\tthis._viewRec.x = moveX;\r\n\t\t\tthis._viewRec.y = moveY;\r\n\t\t\tthis.updateViewPort($isForce);\r\n\t\t\t\r\n        }\r\n\r\n        /**\r\n\t\t * 强制刷新显示 \r\n\t\t * @param $isForceRefresh\r\n\t\t */\t\r\n        public updateViewPort($isForceRefresh:boolean = false):void \r\n        {\r\n\t\t\tif($isForceRefresh){\r\n\t\t\t\tthis.hideAll();\r\n\t\t\t}\r\n            const viewRect:Rect = this._viewRec ;\r\n            const width = this._universeWidth ;\r\n            const height = this._universeHeight ;\r\n            const gwidht = this.W_SIZE;\r\n            const gheight = this.H_SIZE;\r\n\t\t\tthis._centerX = viewRect.x + viewRect.width ;\r\n\t\t\tthis._centerY = viewRect.y + viewRect.height ;\r\n\t\t\tlet viewPortX = this._centerX - viewRect.width;\r\n\t\t\tlet viewPortY = this._centerY - viewRect.height ;\r\n\t\t\tvar tRight:Number = viewPortX + viewRect.width;\r\n\t\t\tif (tRight > width)\r\n\t\t\t{\r\n\t\t\t\tviewPortX = width - viewRect.width;\r\n\t\t\t}\r\n\t\t\tvar tBottom:Number = viewPortY + viewRect.height;\r\n\t\t\tif (tBottom > height)\r\n\t\t\t{\r\n\t\t\t\tviewPortY = height - viewRect.height;\r\n\t\t\t}\r\n\t\t\tif (viewPortX < 0)\r\n\t\t\t{\r\n\t\t\t\tviewPortX = 0;\r\n\t\t\t}\r\n\t\t\tif (viewPortY < 0)\r\n\t\t\t{\r\n\t\t\t\tviewPortY = 0;\r\n\t\t\t}\r\n\t\t\tvar rnum:number = Math.ceil(width/gwidht);\r\n\t\t\tvar cnum:number = Math.ceil(height/gheight);\r\n\t\t\tthis.tPaddingRect.setTo(200,200,300,300);\r\n\t\t\tconst bottom : number = Math.ceil((viewPortY + this._viewRec.height  + this.tPaddingRect.y) / this.H_SIZE);\r\n\t\t\tconst top : number = Math.floor((viewPortY - this.tPaddingRect.y) / this.W_SIZE);\r\n\t\t\tconst left : number = Math.floor((viewPortX - this.tPaddingRect.x) / this.W_SIZE) ;\r\n\t\t\tconst right : number =  Math.ceil((viewPortX +this._viewRec.width + this.tPaddingRect.x ) /this.W_SIZE) ;\r\n\t\t\tthis._mapRect.top = Math.max(top,0);\r\n\t\t\tthis._mapRect.left = Math.max(left,0);\r\n\t\t\tthis._mapRect.bottom = Math.min(bottom,cnum);\r\n\t\t\tthis._mapRect.right = Math.min(right,rnum);\r\n\t\t\tlet lastLeft = this._mapLastRect.left;\r\n\t\t\tlet lastRight = this._mapLastRect.right;\r\n\t\t\tif(lastLeft == 0 && lastRight == 0  || $isForceRefresh)\r\n\t\t\t{\r\n\t\t\t\tthis._mapLastRect.setTo(left,top,0,0);\r\n\t\t\t}\r\n\t\t\tconst equal = this._mapRect.equal(this._mapLastRect)\r\n\t\t\tthis._isEqualLast = this._mapRect.equal(this._bgLayerRect) ;\r\n\t\t\t// console.log('lastMapRect : ' + this._mapLastRect.toString());\r\n\t\t\t// console.log('mapRect : ' + this._mapRect.toString());\r\n\t\t\tif(equal && $isForceRefresh == false)return ;\r\n\t\t\tthis.clipViewPort();\r\n\t\t\tthis._mapLastRect.top = this._mapRect.top;\r\n\t\t\tthis._mapLastRect.bottom = this._mapRect.bottom;\r\n\t\t\tthis._mapLastRect.left = this._mapRect.left;\r\n\t\t\tthis._mapLastRect.right = this._mapRect.right;\r\n\t\t\t// this.outElementList();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 输出当前星球列表\r\n\t\t */\r\n\t\tpublic outElementList():void\r\n\t\t{\r\n\t\t\tlet gridvo:GridVo ;\r\n\t\t\tlet resutlt:IElementVo[] = [];\r\n\t\t\tfor(let key in this._gridHash)\r\n\t\t\t{\r\n\t\t\t\tgridvo = this._gridHash[key];\r\n\t\t\t\tif(gridvo.isOnShow)\r\n\t\t\t\t{\r\n\t\t\t\t\tresutlt = resutlt.concat(gridvo.elementKeyList);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log(resutlt);\r\n\t\t}\r\n\t\t\r\n\r\n        /**\r\n\t\t * 在锚点的基础上计算，通过宽和高，重新计算视口\r\n\t\t * @param\twidth\t\t新视口宽\r\n\t\t * @param\theight\t\t新视口高\r\n\t\t * @param\trect\t\t返回的结果\r\n\t\t * @return\r\n\t\t */\r\n\t\tpublic changeViewPortBySize(width:number, height:number,rect:Rect = null):Rect\r\n\t\t{\r\n\t\t\tif (rect == null)\r\n\t\t\t{\r\n\t\t\t\trect = new Rect();\r\n\t\t\t}\r\n\t\t\tthis._centerX = this._viewRec.x + this._viewRec.width ;\r\n\t\t\tthis._centerY = this._viewRec.y + this._viewRec.height;\r\n\t\t\trect.x = this._centerX - width ;\r\n\t\t\trect.y = this._centerY - height ;\r\n\t\t\trect.width = width;\r\n\t\t\trect.height = height;\r\n\t\t\tthis.changeViewPort(rect.x, rect.y, rect.width, rect.height);\r\n\t\t\treturn rect;\r\n        }\r\n\t\t\r\n\t\t/**\r\n\t\t * 移除所有的星球\r\n\t\t */\r\n\t\tprivate hideAll():void\r\n\t\t{\r\n\t\t\tlet gridvo:GridVo ;\r\n\t\t\tlet showList:IElementVo[] = [];\r\n\t\t\tfor(let key in this._gridHash)\r\n\t\t\t{\r\n\t\t\t\tgridvo = this._gridHash[key];\r\n\t\t\t\tif(gridvo.isOnShow)\r\n\t\t\t\t{\r\n\t\t\t\t\tshowList = showList.concat(gridvo.elementKeyList);\r\n\t\t\t\t\tgridvo.isOnShow = false; \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tctrl.GameCtrl.intance.event('HIDE_ELEMENT',showList);\r\n\t\t}\r\n\r\n        /**\r\n\t\t * 改变视口大小\r\n\t\t * @param\tmoveX\t视口的坐标x\r\n\t\t * @param\tmoveY\t视口的坐标y\r\n\t\t * @param\twidth\t视口的宽\r\n\t\t * @param\theight\t视口的高\r\n\t\t */\r\n\t\tpublic changeViewPort(moveX:number, moveY:number, width:number, height:number):void {\r\n\t\t\tthis._viewRec.x = moveX;\r\n\t\t\tthis._viewRec.y = moveY;\r\n\t\t\tthis._viewRec.width = width;\r\n\t\t\tthis._viewRec.height = height;\r\n\t\t\tthis.updateViewPort();\r\n\t\t}\r\n\r\n\r\n        /**\r\n\t\t * GRID裁剪\r\n\t\t */\r\n\t\tprivate clipViewPort():void {\r\n\t\t\tlet tSpriteNum:number = 0;\r\n\t\t\tlet tIndex:number = 0;\r\n\t\t\tlet tSub:number = 0;\r\n\t\t\tlet tAdd:number = 0;\r\n            let i:number, j:number;\r\n            const mapRect = this._mapRect;\r\n\t\t\tconst mapLastRect = this._mapLastRect ;\r\n\t\t\tif (mapRect.left > mapLastRect.left) {\r\n\t\t\t\t//裁剪\r\n\t\t\t\ttSub = mapRect.left - mapLastRect.left;\r\n\t\t\t\tif (tSub > 0) {\r\n\t\t\t\t\tfor (j = mapLastRect.left; j < mapLastRect.left + tSub; j++) {\r\n\t\t\t\t\t\tfor (i = mapLastRect.top; i <= mapLastRect.bottom; i++) {\r\n\t\t\t\t\t\t\tthis.hideGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//增加\r\n\t\t\t\ttAdd = mapLastRect.left - mapRect.left;\r\n\t\t\t\tif (tAdd > 0) {\r\n\t\t\t\t\tfor (j = mapRect.left; j < mapRect.left + tAdd; j++) {\r\n\t\t\t\t\t\tfor (i = mapRect.top; i <= mapRect.bottom; i++) {\r\n\t\t\t\t\t\t\tthis.showGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (mapRect.right > mapLastRect.right) {\r\n\t\t\t\t//增加\r\n\t\t\t\ttAdd = mapRect.right - mapLastRect.right;\r\n\t\t\t\tif (tAdd > 0) {\r\n\t\t\t\t\tfor (j = mapLastRect.right ; j <= mapLastRect.right + tAdd; j++) {\r\n\t\t\t\t\t\tfor (i = mapRect.top; i <= mapRect.bottom; i++) {\r\n\t\t\t\t\t\t\tthis.showGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//裁剪\r\n\t\t\t\ttSub = mapLastRect.right - mapRect.right\r\n\t\t\t\tif (tSub > 0) {\r\n\t\t\t\t\tfor (j = mapRect.right + 1; j <= mapRect.right + tSub; j++) {\r\n\t\t\t\t\t\tfor (i = mapLastRect.top; i <= mapLastRect.bottom; i++) {\r\n\t\t\t\t\t\t\tthis.hideGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (mapRect.top > mapLastRect.top) {\r\n\t\t\t\t//裁剪\r\n\t\t\t\ttSub = mapRect.top - mapLastRect.top;\r\n\t\t\t\tif (tSub > 0) {\r\n\t\t\t\t\tfor (i = mapLastRect.top; i < mapLastRect.top + tSub; i++) {\r\n\t\t\t\t\t\tfor (j = mapLastRect.left; j <= mapLastRect.right; j++) {\r\n\t\t\t\t\t\t\tthis.hideGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t//增加\r\n\t\t\t\ttAdd = mapLastRect.top - mapRect.top;\r\n\t\t\t\tif (tAdd > 0) {\r\n\t\t\t\t\tfor (i = mapRect.top; i < mapRect.top + tAdd; i++) {\r\n\t\t\t\t\t\tfor (j = mapRect.left; j <= mapRect.right; j++) {\r\n\t\t\t\t\t\t\tthis.showGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (mapRect.bottom > mapLastRect.bottom) {\r\n\t\t\t\t//增加\r\n\t\t\t\ttAdd = mapRect.bottom - mapLastRect.bottom;\r\n\t\t\t\tif (tAdd > 0) {\r\n\t\t\t\t\tfor (i = mapLastRect.bottom + 1; i <= mapLastRect.bottom + tAdd; i++) {\r\n\t\t\t\t\t\tfor (j = mapRect.left; j <= mapRect.right; j++) {\r\n\t\t\t\t\t\t\tthis.showGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//裁剪\r\n\t\t\t\ttSub = mapLastRect.bottom - mapRect.bottom\r\n\t\t\t\tif (tSub > 0) {\r\n\t\t\t\t\tfor (i = mapRect.bottom + 1; i <= mapRect.bottom + tSub; i++) {\r\n\t\t\t\t\t\tfor (j = mapLastRect.left; j <= mapLastRect.right; j++) {\r\n\t\t\t\t\t\t\tthis.hideGrid(j, i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n        }\r\n        \r\n        /**\r\n\t\t * 队伍不添加进显示列表 \r\n\t\t * @param iGrid\r\n\t\t */\t\t\r\n\t\tpublic registerData(element:IElementVo):void\r\n\t\t{\r\n            const cIndex =  element.X/this.W_SIZE >> 0;\r\n            const rIndex = element.Y/this.H_SIZE >> 0;\r\n\t\t\tvar gridVo:GridVo= this.getGridVo(cIndex,rIndex);\r\n\t\t\tif(gridVo)\r\n\t\t\t{\r\n\t\t\t\tgridVo.registerKey(element);\r\n\t\t\t}\r\n        }\r\n        \r\n        public getGridVo(r:number,c:number):GridVo\r\n\t\t{\r\n\t\t\treturn this._gridHash[r+\",\"+c];\r\n\t\t}\r\n\r\n\t\tpublic getBaseVo(r:number,c:number):BaseVo\r\n\t\t{\r\n\t\t\treturn this._baseHash[r+\",\"+c];\r\n\t\t}\r\n\r\n\r\n\t\tpublic get bgRatio():number\r\n\t\t{\r\n\t\t\treturn this._bgRatio;\r\n\t\t}\r\n\r\n\t\tpublic get moveRatio():number\r\n\t\t{\r\n\t\t\treturn this._moveRatio;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取场景ID\r\n\t\t */\r\n\t\tpublic get sceneID():number\r\n\t\t{\r\n\t\t\treturn this._sceneID ;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 场景宽度\r\n\t\t */\r\n\t\tpublic get universeWidth():number\r\n\t\t{\r\n\t\t\treturn this._universeWidth ;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 场景高度\r\n\t\t */\r\n\t\tpublic get universeHeight():number\r\n\t\t{\r\n\t\t\treturn this._universeHeight ;\r\n\t\t}\r\n\r\n\t\tpublic get isEqualLast():boolean\r\n\t\t{\r\n\t\t\treturn this._isEqualLast;\r\n\t\t}\r\n\r\n\t\tpublic get mapWidth():number\r\n\t\t{\r\n\t\t\treturn this._mapWidth ;\r\n\t\t}\r\n\r\n\t\tpublic get mapHeight():number\r\n\t\t{\r\n\t\t\treturn this._mapHeight;\r\n\t\t}\r\n\r\n\t\tpublic get viewRec():Rect\r\n\t\t{\r\n\t\t\treturn this._viewRec;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 获取当前地图内新增的星球信息\r\n\t\t */\r\n\t\tpublic get containData():IElementVo[]\r\n\t\t{\r\n\t\t\tconst mapRect:Rect = this._mapRect ;\r\n\t\t\tlet containData = [];\r\n\t\t\tlet gridVo:GridVo ;\r\n\t\t\tfor(let i =  mapRect.left ; i < mapRect.right ; i ++)\r\n\t\t\t{\r\n\t\t\t\tfor(let j =  mapRect.top ; j < mapRect.bottom ; j ++)\r\n\t\t\t\t{\r\n\t\t\t\t\tgridVo = this.getGridVo(i,j);\r\n\t\t\t\t\tcontainData = containData.concat(gridVo.elementKeyList);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn containData;\r\n\t\t}\r\n\r\n\t\tpublic getByRect($x:number,$y:number):number[]\r\n\t\t{\r\n\t\t\tconst baseList:number[] = [];\r\n\t\t\tlet left , right ,top ,bottom ;\r\n\t\t\tconst gridW:number = this.W_SIZE ;\r\n\t\t\tconst gridH:number = this.H_SIZE ;\r\n\t\t\tconst rNum:number = Math.ceil(this._mapWidth/gridW);\r\n\t\t\tconst cNum:number = Math.ceil(this._mapHeight/gridH);\r\n\t\t\tif(this._moveRatio == 1)\r\n\t\t\t{\r\n\t\t\t\tleft = this._mapRect.left  ;\r\n\t\t\t\ttop =  this._mapRect.top ;\r\n\t\t\t\tbottom = this._mapRect.bottom ;\r\n\t\t\t\tright = this._mapRect.right ;\r\n\t\t\t}else\r\n\t\t\t{\r\n\t\t\t\t left = Math.abs(Math.floor($x / gridW)) -1;\r\n\t\t\t\t top =  Math.abs(Math.floor($y / gridH)) -1;\r\n\t\t\t\t bottom = top + this._mapRect.height ;\r\n\t\t\t\t right = left + this._mapRect.width ;\r\n\t\t\t}\t\r\n\t\t\tleft = Math.max(0,left);\r\n\t\t\ttop = Math.max(0,top);\r\n\t\t\tright = Math.min(right ,rNum);\r\n\t\t\tbottom = Math.min(bottom ,cNum);\r\n\t\t\tthis._bgLayerRect.setTo(left,top,this._mapRect.width,this._mapRect.height);\r\n\t\t\tfor(let i  = left ; i < right ; i ++)\r\n\t\t\t{\t\r\n\t\t\t\tfor(let j  = top ; j < bottom ; j ++)\r\n\t\t\t\t{\r\n\t\t\t\t\tbaseList.push( j * rNum + i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn baseList ;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 根据索引获取显示数据\r\n\t\t * @param  \r\n\t\t */\r\n\t\tpublic getBaseByIndex($index:number):BaseVo\r\n\t\t{\r\n\t\t\treturn this._baseHash[$index];\r\n\t\t}\r\n        \r\n        public onResize():void\r\n\t\t{\r\n\t\t\tconst swidth = this._universeWidth ;\r\n            const sheight = this._universeHeight ;\r\n            const width = this.W_SIZE;\r\n            const height = this.H_SIZE ;\r\n\t\t\tconst stageW = this._viewRec.width = Laya.stage.width;\r\n\t\t\tthis._viewRec.height=Laya.stage.height;\r\n\t\t\tthis._dragRec.x=this._viewRec.width-swidth;\r\n\t\t\tthis._dragRec.y=this._viewRec.height-sheight;\r\n\t\t\tthis._dragRec.width=-this._viewRec.width+swidth;\r\n\t\t\tthis._dragRec.height=-this._viewRec.height+swidth;\r\n\t\t\tthis.mapShowR=Math.floor(Laya.stage.height/width)+2;\r\n\t\t\tthis.mapShowC=Math.floor(Laya.stage.width/height)+2;\r\n\t\t\tif(swidth == this._mapWidth) \r\n\t\t\t\tthis._moveRatio  = 1 ;\r\n\t\t\telse\r\n\t\t\t\tthis._moveRatio = (this._mapWidth - stageW) / (swidth -stageW);\r\n\t\t}\r\n\r\n\t\tprivate clear():void\r\n\t\t{\r\n\t\t\tthis._gridHash = {};\r\n            this._elementHash = {} ;\r\n            this._dragRec = new Rect();\r\n\t\t\tthis._mapRect = new Rect();\r\n\t\t\tthis._viewRec = new Rect();\r\n\t\t\tthis._bgLayerRect = new Rect();\r\n\t\t\tthis._baseHash = {};\r\n\t\t\tthis.tPaddingRect = new Rect();\r\n\t\t\tthis._mapLastRect = new Rect();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * 销毁对象\r\n\t\t */\r\n\t\tpublic dispose():void\r\n\t\t{\r\n\t\t\tthis._gridHash = null;\r\n            this._elementHash = null;\r\n            this._dragRec = null;\r\n            this._viewRec = null;\r\n            this.tPaddingRect = null;\r\n\t\t}\r\n\t}\r\n\texport interface ISceneVo\r\n\t{\t\r\n\t\tXsize:number;\r\n\t\tYsize:number;\r\n\t\tmapW:number;\r\n\t\tmapH:number;\r\n\t\tSceneID:number;\r\n\t}\r\n}","namespace zt.universe.view {\r\n    import Sprite = laya.display.Sprite;\r\n    import Texture = laya.resource.Texture;\r\n    import Handler = laya.utils.Handler;\r\n    import Loader = laya.net.Loader;\r\n    import Rectangle = laya.maths.Rectangle;\r\n    import getResourceURL = zt.utils.getResourceURL;\r\n    /**\r\n     * @usage 场景地图显示层\r\n     * @author wangcongyan\r\n     * @since 2018.01.10\r\n     */\r\n    export class Background extends Sprite implements ILayer{\r\n        private _thumb: Sprite;\r\n        private _universeData : UniverseData ;\r\n        private _fragments:Sprite[];\r\n        private _textureLink:string[];\r\n        private _lastIndex:number[];\r\n        private _addToIndex:number[];\r\n        private _dealNums:number = 0;\r\n        private _texCache:object = {};\r\n        static DEALNUM:number =  1 ; //单帧处理的数量\r\n        static SPEED = 3;\r\n        constructor() {\r\n            super();\r\n            this._fragments = [] ;\r\n            this._textureLink = [] ;\r\n            this._lastIndex = [] ;\r\n            this._addToIndex = [] ;\r\n            this._thumb = new Sprite();\r\n            this.addChild(this._thumb);\r\n        }\r\n\r\n        public init():void\r\n        {\r\n\r\n        }\r\n\r\n        build($data : UniverseData ) : void\r\n        {\r\n            this._universeData = $data ;\r\n            this.size($data.mapWidth , $data.mapHeight) ;\r\n            this.updateThumb();\r\n        }\r\n\r\n        rebuild($data : UniverseData): void \r\n        {\r\n            this.dispose();\r\n            this._universeData = $data ;\r\n            this.size($data.mapWidth, $data.mapHeight) ;\r\n            this.updateThumb();\r\n        }\r\n\r\n        /**\r\n         * 显示地图节点\r\n         * @param  @$data : BaseVo\r\n         */\r\n        public clipView():void\r\n        {\r\n            if(this._universeData.isEqualLast)return ;\r\n            const currentIndex:number[] = this._universeData.getByRect(this.x,this.y);\r\n            for (const index of currentIndex) {\r\n                if (this._lastIndex.indexOf(index) == -1) {\r\n                    this._addToIndex.push(index);\r\n                }\r\n            }\r\n            for (const currIndex of this._lastIndex) {\r\n                if (currentIndex.indexOf(currIndex) == -1)\r\n                    this.hideFragment(currIndex);\r\n            }\r\n            this._lastIndex = currentIndex ;\r\n            this.drawDelay();\r\n        }\r\n\r\n\r\n        private drawNext(): void {\r\n            this._dealNums = 0 ;\r\n            Laya.timer.once(Background.SPEED, this, this.drawDelay);\r\n        }\r\n\r\n        private drawDelay(): void {\r\n            if (this._addToIndex.length == 0) {\r\n                this._dealNums = 0\r\n                return\r\n            };\r\n            const index = this._addToIndex.shift();\r\n            this.showFragment(index);\r\n            this._dealNums ++ ;\r\n            if(this._dealNums < Background.DEALNUM)\r\n            {\r\n                this.drawDelay();\r\n            }else\r\n            {\r\n                this.drawNext();\r\n            }\r\n        }\r\n\r\n\r\n        private showFragment($index:number):void\r\n        {\r\n            const baseData:BaseVo = this._universeData.getBaseByIndex($index);\r\n            if(!baseData)return ;\r\n            const node : Sprite =  Laya.Pool.getItemByClass('floorNode',Sprite);\r\n            const url:string = this.getFragmentPath($index)\r\n            node.loadImage(url);\r\n            if(this._texCache[url] == null)\r\n            {\r\n                this._textureLink.push(url);\r\n                this._texCache[url] = true ;\r\n            }\r\n            node.x = baseData.X ;\r\n            node.y = baseData.Y ;\r\n            this.addChild(node);\r\n            this._fragments[$index] = node;\r\n        }\r\n\r\n        /**\r\n         * 移除地图节点\r\n         * @param  \r\n         */\r\n        public hideFragment($index:number):void\r\n        {\r\n            if(this._fragments.length > $index)\r\n            {\r\n                const node : Sprite = this._fragments[$index];\r\n                this.clearNode(node);\r\n                this._fragments[$index] = null ;\r\n            }\r\n        }\r\n\r\n        private updateThumb() {\r\n            this._thumb.graphics.clear();\r\n            this._thumb.loadImage(this.getPath(), 0, 0, 0, 0, Handler.create(this, this.onImgLoad));\r\n        }\r\n\r\n        private onImgLoad(img: Texture): void {\r\n             const scaleX: number =  this._universeData.mapWidth/ img.sourceWidth;\r\n            const scaleY: number =  this._universeData.mapHeight/ img.sourceHeight;\r\n            this._thumb.scale(scaleX, scaleY);\r\n        }\r\n        \r\n        getPath(): string {\r\n            return getResourceURL(`world/${this._universeData.sceneID}/thumbnail.jpg`);\r\n        }\r\n\r\n        getFragmentPath(index: number): string {\r\n            return getResourceURL(`world/${this._universeData.sceneID}/fragment-${index}.jpg`);\r\n        }\r\n\r\n        public get name():string\r\n\t\t{\r\n\t\t\treturn LayerType.BACKGROUND;\r\n        }\r\n\r\n        /**\r\n         * 获取地图和背景拖动速率\r\n         */\r\n\t\tpublic get ratio():number\r\n\t\t{\r\n\t\t\treturn this._universeData.moveRatio;\r\n        }\r\n\r\n        /**\r\n         * 清理地图元素\r\n         */\r\n        public clear():void\r\n        {\r\n            const len = this._fragments.length ;\r\n            for(let i  = 0 ; i < len ; i ++)\r\n            {\r\n                this.clearNode(this._fragments[i]);\r\n                this._fragments[i] = null ;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 清理节点信息\r\n         * @param  \r\n         */\r\n        private clearNode($node : Sprite):void\r\n        {\r\n            if($node)\r\n            {\r\n                $node.graphics.clear();\r\n                $node.removeSelf();\r\n                Laya.Pool.recover('floorNode',$node);\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * 切换场景清除显存\r\n         */\r\n        public dispose():void\r\n        {\r\n            this.clear();\r\n            this._dealNums = 0 ;\r\n            const len  = this._textureLink.length ;\r\n            for(let i  = 0 ; i < len ; i ++)\r\n            {\r\n                Laya.Loader.clearRes(this._textureLink[i]);\r\n            }\r\n            Laya.Pool.clearBySign('floorNode');\r\n        }\r\n    }\r\n}","namespace zt.universe.view\r\n{\r\n    export interface ILayer extends IDispose{\r\n\t\tratio: number;\r\n        name: string;\r\n        init():void;\r\n    }\r\n\r\n    /**\r\n     * 层级常量\r\n     */\r\n    export class LayerType\r\n    {\r\n        static ELEMENT = 'Element';\r\n        static BACKGROUND = 'BACKGROUND';\r\n    }\r\n}","namespace zt.universe.view\r\n{\r\n    import Event = Laya.Event ;\r\n\timport Rectangle = Laya.Rectangle ;\r\n\timport Tween = Laya.Tween ;\r\n\timport Handler = Laya.Handler ;\r\n\timport Mouse = Laya.Mouse ;\r\n\timport Point = Laya.Point ;\r\n    /**\r\n     * @usage 地图场景\r\n     * @since 2017.12.13\r\n     * @author wangcongyan \r\n     */\r\n    export class UniverseLayer extends Sprite implements ILayer\r\n    {\r\n        protected universeData:UniverseData ;\r\n        protected _type:string ;\r\n        protected SPEED:number= 30 ; //每秒多少px\r\n\t\tprotected _maprect:Rectangle;\r\n\t\tprotected _hexagonal:Hexagonal ;\r\n        protected _guideLayer:Sprite ;\r\n        protected _pathLayer:Sprite ;\r\n\t\tprotected _elementLayer:Sprite;\r\n\t\tprotected _tween:Tween ;\r\n\t\tprotected _isneedTween:boolean = true;\r\n\t\tprotected _speedX:number ;\r\n\t\tprotected _speedY:number ;\r\n\t\tprotected _startX:number;\r\n\t\tprotected _startY:number;\r\n\t\tprotected _startTime:number;\r\n\t\tprotected _bgLayer:Background;\r\n\t\tprivate _ratio:number ;\r\n\t\tprivate _currentPoint:Point ;\r\n\t\tprivate _lastPoint:Point ;\r\n\t\tprivate _dragAble:boolean = true; \r\n        constructor()\r\n        {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n        public init():void\r\n        {\r\n\t\t\tthis.universeData = new UniverseData();\r\n\t\t\tthis._maprect = new Rectangle();\r\n\t\t\tViewPort.onChange(this, this.onViewPortChange);\r\n\t\t\tthis.initDrag();\r\n        }\r\n\r\n\t\tpublic get name():string\r\n\t\t{\r\n\t\t\treturn LayerType.ELEMENT;\r\n\t\t}\r\n\r\n\t\tpublic get ratio():number\r\n\t\t{\r\n\t\t\treturn this._ratio;\r\n\t\t}\r\n\r\n\t\tprivate initDrag(): void \r\n\t\t{\r\n\t\t\tthis.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\t\t}\r\n\r\n\t\tprivate removeDrag(): void \r\n\t\t{\r\n\t\t\tthis.off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\t\t}\r\n\t\t\r\n\r\n\t\tprivate onMouseMove():void\r\n\t\t{\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tprivate onMouseDown(e: Event): void\r\n\t\t {\r\n\t\t\t if(!this._dragAble)return ;\r\n\t\t\tMouse.cursor = 'pointer';\r\n            const maprect: Rectangle = this._maprect;\r\n            const rect: Rectangle = new Rectangle(Laya.stage.width - maprect.width,\r\n                Laya.stage.height - maprect.height, -Laya.stage.width + maprect.width, -Laya.stage.height + maprect.height);\r\n\t\t\tthis.startDrag(rect,true);\r\n\t\t\tthis._startTime = Date.now();\r\n\t\t\tthis._startX = Laya.stage.mouseX ;\r\n\t\t\tthis._startY = Laya.stage.mouseY ;\r\n\t\t\tthis.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\t\tLaya.stage.once(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t/**\r\n         * 大地图拖动\r\n         */\r\n        public update($isForce : boolean = false):void\r\n        {  \r\n            const y = -this.y >> 0;\r\n\t\t\tconst x = -this.x >> 0\r\n\t\t\tif(this._hexagonal)\r\n\t\t\t{\r\n\t\t\t\tthis._hexagonal.update(-x,-y);\r\n\t\t\t}\r\n\t\t\tif(this.universeData == null)\r\n\t\t\t{\r\n\t\t\t\treturn ;\r\n\t\t\t}\r\n\t\t\tthis.universeData.moveViewPort(x,y,$isForce);\r\n\t\t\tif(this._bgLayer)\r\n\t\t\t{\r\n\t\t\t\tconst ratio = this.universeData.moveRatio ;\r\n\t\t\t\tthis._bgLayer.pos(this.x * ratio , this.y * ratio);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        \r\n\t\tprivate onMouseUp(e: Event): void\r\n\t\t{\r\n\t\t\tMouse.cursor = 'default';\r\n\t\t\tthis.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\t\t// this.stopDrag();\r\n\t\t\tconst stageW:number = Laya.stage.width ;\r\n\t\t\tconst stageH:number = Laya.stage.height ;\r\n\t\t\t// if(0)\r\n\t\t\t// {\r\n\t\t\t// \tconst deltaTime = (Date.now() - this._startTime);\r\n\t\t\t// \tconst speedX =  (Laya.stage.mouseX - this._startX)/deltaTime ;\r\n\t\t\t// \tconst speedY = \t(Laya.stage.mouseY - this._startY)/deltaTime ;\r\n\t\t\t// \t// console.log('deltaTime',deltaTime);\r\n\t\t\t// \tlet movetime = Math.max(200,deltaTime);\r\n\t\t\t// \tmovetime = (movetime /1000) ; \r\n\t\t\t// \t// console.log('movetime' , movetime)\r\n\t\t\t// \tlet movex = speedX *  this.SPEED /movetime ;\r\n\t\t\t// \tlet movey = speedY *  this.SPEED / movetime ;\r\n\t\t\t// \tlet endx =  Math.floor(this.x + movex) ;\r\n\t\t\t// \tlet endy =  Math.floor(this.y + movey) ;\r\n\t\t\t// \t// console.log('deltaTime ' , deltaTime);\r\n\t\t\t// \t// console.log('startx : starty' ,this.x ,this.y );\r\n\t\t\t// \t// console.log(\"speedX\",speedX,\"speedY\",speedY);\r\n\t\t\t// \t// console.log('movex : movey' ,movex ,movey );\r\n\t\t\t// \t// console.log('endx : endy' ,endx ,endy );\r\n\t\t\t// \tif(endx < -this.universeData.universeWidth + stageW)\r\n\t\t\t// \t{\r\n\t\t\t// \t\tendx = -this.universeData.universeWidth + stageW;\r\n\t\t\t// \t}\r\n\t\t\t// \tif(endy < -this.universeData.universeHeight + stageH)\r\n\t\t\t// \t{\r\n\t\t\t// \t\tendy = -this.universeData.universeHeight + stageH;\r\n\t\t\t// \t}\r\n\t\t\t// \tif(endx > 0)\r\n\t\t\t// \t{\r\n\t\t\t// \t\tendx =  0 ;\r\n\t\t\t// \t}\r\n\t\t\t// \tif(endy > 0)\r\n\t\t\t// \t{\r\n\t\t\t// \t\tendy = 0 ;\r\n\t\t\t// \t}\r\n\t\t\t// \tif(Math.abs(speedX) > 1 || Math.abs(speedY) > 1)\r\n\t\t\t// \t{\r\n\t\t\t// \t\tmovetime = 1000 - Math.min(deltaTime,250);\r\n\t\t\t// \t\tTween.to(this,{x:endx,y:endy,update: Handler.create(this, this.tweenUpdate,null, false) },deltaTime,Laya.Ease.sineOut,Handler.create(this,this.moveComplete));\r\n\t\t\t// \t\tthis._dragAble = false ;\r\n\t\t\t// \t\treturn;\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\tthis.moveComplete();\r\n\t\t}\r\n\r\n\t\ttweenMove():void\r\n\t\t{\r\n\t\t\t// super.tweenMove();\r\n\t\t}\r\n\r\n\r\n\t\tpublic rebuild():void\r\n\t\t{\r\n\t\t\tthis.pos(0,0);\r\n\t\t\tthis.update(true);\r\n\t\t}\r\n\r\n\t\r\n\t\tpublic getInnerMapPos()\r\n\t\t{\r\n\r\n\t\t}\r\n\r\n\r\n\t\tprivate slowDown(t:number, b:number, c:number, d:number):number \r\n\t\t{\r\n\t\t\treturn c * Math.pow(0.8,t) + b;\r\n\t\t}\r\n\t\r\n\r\n\r\n\t\t/**\r\n\t\t * 外部刷新场景位置\r\n\t\t * @param data \r\n\t\t */\r\n\t\tprivate onViewPortChange(data: { viewPort: ViewPort, trigger: string }) {\r\n            if (data.trigger !== 'map') return;\r\n            const x: number = - data.viewPort.xPercent * (this._maprect.width - Laya.stage.width);\r\n\t\t\tconst y: number = - data.viewPort.yPercent * (this._maprect.height - Laya.stage.height);\r\n\t\t\tthis._startTime = 0 ;\r\n\t\t\tthis._dragAble = true ;\r\n\t\t\tthis.pos(x, y);\r\n\t\t\tthis.update(true);\r\n\t\t\tthis._bgLayer.clipView();\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * 场景移动结束广播消息\r\n\t\t */\r\n\t\tpublic moveComplete($bool:boolean = false):void\r\n\t\t{\r\n\t\t\tthis.update($bool);\r\n\t\t\tthis._startTime = 0 ;\r\n\t\t\tthis._dragAble = true ;\r\n\t\t\tif(this.universeData.isEqualLast == true)return ;\r\n\t\t\tctrl.GameCtrl.intance.event('drag_complete',this.universeData.containData);\r\n\t\t\tconst perX: number = -this.x / (this._maprect.width - Laya.stage.width);\r\n            const perY: number = -this.y / (this._maprect.height - Laya.stage.height);\r\n\t\t\tViewPort.change(perX, perY, 'universe');\r\n\t\t\tthis._bgLayer.clipView();\r\n\t\t}\r\n\r\n\t\tprivate tweenUpdate():void\r\n\t\t{\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tprotected resize():void\r\n\t\t{\r\n            this.universeData.onResize();\r\n        }\r\n\r\n        /**\r\n         * 销毁对象\r\n         */\r\n        public dispose():void\r\n        {\r\n\t\t\tthis.universeData.dispose();\r\n\t\t\tthis.removeDrag();\r\n\t\t\tif(this._bgLayer)\r\n\t\t\t this._bgLayer.dispose();\r\n\t\t\t this.universeData = null;\r\n        }\r\n    }\r\n}","namespace zt.universe.view {\r\n    import EventDispatcher = Laya.EventDispatcher;\r\n    import Event = Laya.Event;\r\n    export class ViewPort extends EventDispatcher {\r\n        private static _viewPort: ViewPort;\r\n        private _xPercent: number;\r\n        private _yPercent: number;\r\n\r\n        public static onChange(caller: any, listener: Function) {\r\n            ViewPort._viewPort.on(Event.CHANGE, caller, listener);\r\n        }\r\n\r\n        /**\r\n         * @param xPercent viewport已经移动的横向距离和总的可移动的距离之比\r\n         * @param yPercent viewport已经移动的纵向距离和总的可移动的距离之比\r\n         * @param trigger \r\n         */\r\n        public static change(xPercent: number, yPercent: number, trigger:string) {\r\n            ViewPort._viewPort._xPercent = xPercent;\r\n            ViewPort._viewPort._yPercent = yPercent;\r\n            ViewPort._viewPort.event(Event.CHANGE, {viewPort:ViewPort._viewPort, trigger:trigger});\r\n        }\r\n\r\n        public get xPercent(): number { return this._xPercent; }\r\n        public get yPercent(): number { return this._yPercent; }\r\n\r\n        public static init(): void {\r\n            ViewPort._viewPort = new ViewPort();\r\n        }\r\n    }\r\n}","namespace zt.app.core{\r\n    export class STController\r\n    {\r\n        private static _instance:STController ;\r\n        private _controllerMap:object ;\r\n        constructor()\r\n        {\r\n            this._controllerMap = {};\r\n        }\r\n\r\n        public static getInstance():STController\r\n        {\r\n            if(!STController._instance)\r\n            {\r\n                STController._instance = new STController();\r\n            }\r\n            return STController._instance;\r\n        }\r\n\r\n\r\n        public retrieveController($controllerName:string):IController\r\n        {\r\n            return this._controllerMap[$controllerName];\r\n        }\r\n\r\n        public hasController($controllerName:string):boolean\r\n        {\r\n            return !!this._controllerMap[$controllerName];\r\n        }\r\n\r\n        public registerController($icontroller:IController):void\r\n        {\r\n            const controllerMap:object = this._controllerMap ;\r\n            if(controllerMap[$icontroller.controllerlName])\r\n            {\r\n                throw new Error(\"不能注册同名数据代理两次\");\r\n            }\r\n            controllerMap[$icontroller.controllerlName] = $icontroller ;     \r\n            $icontroller.init();\r\n        }\r\n\r\n        public removeController($controllerName:string):IModel\r\n        {\r\n            const controllerMap:object = this._controllerMap ;\r\n            const icontroller = controllerMap[$controllerName];\r\n            if(icontroller)\r\n            {\r\n                icontroller.dispose();\r\n                delete this._controllerMap[$controllerName];\r\n            }\r\n            return icontroller;\r\n        }\r\n    }\r\n\r\n}   ","namespace zt.app.core{\r\n    export class STView\r\n    {\r\n        private static _instance:STView ;\r\n        private _viewMap:object ;\r\n        constructor()\r\n        {\r\n            this._viewMap = {};\r\n        }\r\n\r\n        public static getInstance():STView\r\n        {\r\n            if(!STView._instance)\r\n            {\r\n                STView._instance = new STView();\r\n            }\r\n            return STView._instance;\r\n        }\r\n\r\n        /**\r\n         * 通过模块名称获取模块\r\n         * @param uiName \r\n         */\r\n        public retrieveUIView(uiName:string):IView\r\n        {\r\n            return this._viewMap[uiName];\r\n        }\r\n\r\n        /**\r\n         * 注册面板\r\n         * @param  \r\n         */\r\n        public registerUIView($uiView:IView):void\r\n        {\r\n            const uiviewMap:object = this._viewMap;\r\n            if(!!uiviewMap[$uiView.uIName])return ;\r\n            uiviewMap[$uiView.uIName] = $uiView ;\r\n            $uiView.init();\r\n        }\r\n\r\n        public removeUIView(uiName:string):IView\r\n        {\r\n            const view = this._viewMap[uiName];\r\n            if(view)\r\n            {\r\n                view.dispose();\r\n                delete this._viewMap[uiName];\r\n            }\r\n            return view ;\r\n        }\r\n    }\r\n}","namespace zt.app.core{\r\n    export class STModel\r\n    {\r\n        private static _instance:STModel ;\r\n        private _modelMap:object;\r\n        constructor()\r\n        {\r\n            this._modelMap = {};\r\n        }\r\n\r\n        public static getInstance():STModel\r\n        {\r\n            if(!STModel._instance)\r\n            {\r\n                STModel._instance = new STModel();\r\n            }\r\n            return STModel._instance;\r\n        }\r\n\r\n        public retrieveModel($modelName:string):IModel\r\n        {\r\n            return this._modelMap[$modelName];\r\n        }\r\n\r\n        public hasModel($modelName:string):boolean\r\n        {\r\n            return !!this._modelMap[$modelName];\r\n        }\r\n\r\n        public registerModel(iModel:IModel):void\r\n        {\r\n            const modelMap:object = this._modelMap ;\r\n            if(modelMap[iModel.modelName])\r\n            {\r\n                throw new Error(\"不能注册同名数据代理两次\");\r\n            }\r\n            modelMap[iModel.modelName] = iModel ;     \r\n            iModel.init();\r\n        }\r\n\r\n        public removeModel($modelName:string):IModel\r\n        {\r\n            const modelMap:object = this._modelMap ;\r\n            const imodel = modelMap[$modelName];\r\n            if(imodel)\r\n            {\r\n                imodel.dispose();\r\n                delete this._modelMap[$modelName];\r\n            }\r\n            return imodel;\r\n        }\r\n    }\r\n}","/// <reference path='STController.ts' />\r\n/// <reference path='STView.ts' />\r\n/// <reference path='STModel.ts' />\r\nnamespace zt\r\n{\r\n    import STView =  zt.app.core.STView;\r\n    import STController =  zt.app.core.STController;\r\n    import STModel =  zt.app.core.STModel;\r\n    export class Facade{\r\n        private static _instance:Facade ;\r\n        private _view:STView;\r\n        private _model:STModel ;\r\n        private _controller:STController ;\r\n        private _module_hash:object ;\r\n        constructor()\r\n        {\r\n            this._module_hash = {};\r\n            this.initialize();\r\n        }\r\n\r\n        public static getIns():Facade\r\n        {\r\n            if(Facade._instance == null)\r\n            {\r\n                Facade._instance = new Facade();\r\n            }\r\n            return Facade._instance ;\r\n        }\r\n\r\n        protected initialize():void\r\n        {\r\n            this._view = STView.getInstance();\r\n            this._model = STModel.getInstance();\r\n            this._controller = STController.getInstance();\r\n        }\r\n\r\n        /**\r\n         * 获取模块名称\r\n         * @param  \r\n         */\r\n        public retrieveModel($modelName:string):IModel\r\n        {\r\n            return this._model.retrieveModel($modelName);\r\n        }\r\n\r\n        /**\r\n         * 获取模块面板\r\n         * @param  \r\n         */\r\n        public retrieveUIView($uiNameName:string):IView\r\n        {\r\n            return this._view.retrieveUIView($uiNameName);\r\n        }\r\n\r\n        /**\r\n         * 获取模块控制器\r\n         * @param  \r\n         */\r\n        public retrieveController($controllerName:string):IController\r\n        {\r\n            return this._controller.retrieveController($controllerName);\r\n        }\r\n        \r\n\r\n            /**\r\n         * 获取模块名称\r\n         * @param  \r\n         */\r\n        public registerModel($iMode:IModel):IModel\r\n        {\r\n             this._model.registerModel($iMode);\r\n             this.registerMoule($iMode.modelName);\r\n             return $iMode;\r\n        }\r\n\r\n        /**\r\n         * 获取模块面板\r\n         * @param  \r\n         */\r\n        public registerUIView($iUIView:IView):IView\r\n        {\r\n           this._view.registerUIView($iUIView);\r\n           this.registerMoule($iUIView.uIName);\r\n           return $iUIView;\r\n        }\r\n\r\n        /**\r\n         * 获取模块控制器\r\n         * @param  \r\n         */\r\n        public registerController($iContorller:IController):IController\r\n        {\r\n            this._controller.registerController($iContorller);\r\n            this.registerMoule($iContorller.controllerlName);\r\n            return $iContorller;\r\n        }\r\n\r\n        public removeController($controllerName:string):void\r\n        {\r\n            let icontroller = this._controller.removeController($controllerName);\r\n            icontroller = null;\r\n            console.log('销毁',$controllerName);\r\n        }\r\n\r\n        public removeView($uiNameName:string):void\r\n        {\r\n            let iview = this._view.removeUIView($uiNameName);\r\n            iview = null;\r\n            console.log('销毁',$uiNameName);\r\n        }\r\n\r\n        public removeModel($modelName:string):void\r\n        {\r\n            let iModel = this._model.removeModel($modelName);\r\n            iModel = null;\r\n            console.log('销毁',$modelName);\r\n        }\r\n\r\n        /**\r\n         * \r\n         * @param  缓存模块内注册的名称\r\n         */\r\n        private registerMoule($targetName:string):void\r\n        {\r\n           const moduleName:string = $targetName.split('_').shift() ;\r\n           const moduleHash = this._module_hash ;\r\n           if(!moduleHash[moduleName])\r\n           {\r\n                moduleHash[moduleName] = []; \r\n                console.log('注册' + moduleName);\r\n           }\r\n           moduleHash[moduleName].push($targetName);\r\n           console.log('注册' + $targetName + ' and start()');\r\n        }\r\n\r\n\r\n        /**\r\n         * \r\n         * @param 销毁模块信息\r\n         */\r\n        public removeModule($module:string):void\r\n        {   \r\n            const moduleNameList = this._module_hash[$module];\r\n            const isExist = Array.isArray(moduleNameList)  ;\r\n            if(isExist == false)\r\n            {\r\n                console.log($module + '模块不存在!')\r\n                return ;\r\n            }\r\n            console.log($module,'开始销毁！');\r\n            for(let moduleName of moduleNameList)\r\n            {\r\n                const module:string = moduleName;\r\n                if(module.match('controller_xdxd'))\r\n                {\r\n                    this.removeController(moduleName);\r\n                }\r\n                if(module.match('model_xdxd'))\r\n                {\r\n                    this.removeModel(moduleName);\r\n                }\r\n                if(module.match('view_xdxd'))\r\n                {\r\n                    this.removeView(moduleName);\r\n                }\r\n            }\r\n            this._module_hash[$module] = null ;\r\n            delete this._module_hash[$module];\r\n        }\r\n\r\n         /**\r\n         * \r\n         * @param 销毁模块信息\r\n         */\r\n        public startModule($module:string):void\r\n        {   \r\n            const moduleNameList = this._module_hash[$module];\r\n            const isExist = Array.isArray(moduleNameList)  ;\r\n            if(isExist == false)\r\n            {\r\n                console.log($module + '模块不存在!')\r\n                return ;\r\n            }\r\n            let model:IModel;\r\n            let controller:IController;\r\n            let view:IView;\r\n            for(let moduleName of moduleNameList)\r\n            {\r\n                const module:string = moduleName;\r\n                if(module.match('controller_xdxd'))\r\n                {\r\n                    controller = this.retrieveController(moduleName);\r\n                    controller.start();\r\n                }\r\n                if(module.match('model_xdxd'))\r\n                {\r\n                    model = this.retrieveModel(moduleName);\r\n                    model.start();\r\n                }\r\n                if(module.match('view_xdxd'))\r\n                {\r\n                    view = this.retrieveUIView(moduleName);\r\n                    view.start();\r\n                    view.addEvent();\r\n                }\r\n                console.log('开始启动',moduleName);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取model\r\n     * @param \r\n     * @param  \r\n     */\r\n    export const getModelByModuleName = ($modelName:string,$prefix:string = ''):IModel =>\r\n    {   \r\n        const moduleName:string = getNameByModuleAndprefix($modelName,'model',$prefix);\r\n        return Facade.getIns().retrieveModel(moduleName);\r\n    }\r\n\r\n    /**\r\n     * 获取model\r\n     * @param \r\n     * @param  \r\n     */\r\n    export const getControllerByModuleName = ($modelName:string,$prefix:string = ''):IController =>\r\n    {   \r\n        const moduleName:string = getNameByModuleAndprefix($modelName,'controller',$prefix);\r\n        return Facade.getIns().retrieveController(moduleName);\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取model\r\n     * @param \r\n     * @param  \r\n     */\r\n    export const getViewByModuleName = ($modelName:string,$prefix:string = ''):IView =>\r\n    {   \r\n        const moduleName:string = getNameByModuleAndprefix($modelName,'view',$prefix);\r\n        return Facade.getIns().retrieveUIView(moduleName);\r\n    }   \r\n    \r\n    /**\r\n     * 根据模块名字和后缀获取模块名称 一般一个模块中只有一个model、controller、view\r\n     * 当面板复杂时可以通过注册多个显示控制器进行初始化\r\n     * @param moduleName \r\n     * @param targetName \r\n     * @param prefix \r\n     */\r\n    export const getNameByModuleAndprefix = (moduleName:string,targetName:string,prefix:string = ''):string=>\r\n    {\r\n        return `${moduleName}_${prefix}_${targetName}_xdxd`;;\r\n    }\r\n}"]}