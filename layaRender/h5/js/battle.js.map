{"version":3,"sources":["../../../src/apps/battle/battle.ts","../../../src/apps/battle/const/DamageNumsType.ts","../../../src/apps/battle/controllers/ActController.ts","../../../src/apps/battle/controllers/MainControllerBase.ts","../../../src/apps/battle/controllers/BattleTestController.ts","../../../src/apps/battle/controllers/Controller.ts","../../../src/apps/battle/controllers/LoadingController.ts","../../../src/apps/battle/controllers/MainController.ts","../../../src/apps/battle/controllers/ReplayMainController.ts","../../../src/apps/battle/models/Army.ts","../../../src/apps/battle/models/Buff.ts","../../../src/apps/battle/models/Model.ts","../../../src/apps/battle/models/Ship.ts","../../../src/apps/battle/models/Skill.ts","../../../src/apps/battle/events/BattleEvent.ts","../../../src/apps/battle/events/BattleShipEvent.ts","../../../src/apps/battle/utils/FloatTool.ts","../../../src/apps/battle/utils/getAttackerSide.ts","../../../src/apps/battle/utils/getDefenderSide.ts","../../../src/apps/battle/utils/getFrame.ts","../../../src/apps/battle/utils/getMask.ts","../../../src/apps/battle/utils/getPos.ts","../../../src/apps/battle/views/ArmyView.ts","../../../src/apps/battle/views/ShipView.ts","../../../src/apps/battle/views/View.ts","../../../src/apps/battle/controllers/acts/ActBase.ts","../../../src/apps/battle/controllers/acts/ActAddBuff.ts","../../../src/apps/battle/controllers/acts/ActAttack.ts","../../../src/apps/battle/controllers/acts/ActDead.ts","../../../src/apps/battle/controllers/acts/ActDecEn.ts","../../../src/apps/battle/controllers/acts/ActDecHp.ts","../../../src/apps/battle/controllers/acts/ActDecShield.ts","../../../src/apps/battle/controllers/acts/ActIncEn.ts","../../../src/apps/battle/controllers/acts/ActIncShield.ts","../../../src/apps/battle/controllers/acts/ActMiss.ts","../../../src/apps/battle/controllers/acts/ActRemoveBuff.ts","../../../src/apps/battle/controllers/acts/ActRound.ts","../../../src/apps/battle/controllers/acts/ActSkill.ts","../../../src/apps/battle/controllers/acts/ActTurn.ts","../../../src/apps/battle/controllers/net/battleReady.ts","../../../src/apps/battle/controllers/net/leaveBattle.ts","../../../src/apps/battle/controllers/net/skipBattle.ts","../../../src/apps/battle/views/act/DamageNums.ts","../../../src/apps/battle/views/ctrls/FightViewBase.ts","../../../src/apps/battle/views/ctrls/CloseView.ts","../../../src/apps/battle/views/ctrls/CtrlView.ts","../../../src/apps/battle/views/ctrls/LoadingView.ts","../../../src/apps/battle/views/ctrls/NameLeftView.ts","../../../src/apps/battle/views/ctrls/NameRightView.ts","../../../src/apps/battle/views/ctrls/SkipView.ts","../../../src/apps/battle/views/ctrls/WaveView.ts"],"names":[],"mappings":"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","file":"battle.js","sourcesContent":["namespace zt.battle {\r\n    import Loader = Laya.Loader;\r\n    import Rectangle = Laya.Rectangle;\r\n    import UIPackage = fairygui.UIPackage;\r\n    import GComponent = fairygui.GComponent;\r\n    import getUIURL = zt.utils.getUIURL;\r\n    import Handler = Laya.Handler;\r\n\r\n    /**\r\n     * battle\r\n     * @author wildfirecode\r\n     * @since 0.0.3\r\n     */\r\n    export class battle extends app.AppBase \r\n    {\r\n        private _model: Model;\r\n        private _view: View;\r\n        private _controller: Controller;\r\n        private _ui: GComponent;\r\n        constructor() \r\n        {\r\n            super(app.AppLevel.LEVEL_0);\r\n        }\r\n\r\n        init() \r\n        {\r\n            UIPackage.addPackage(getUIURL('battle'));\r\n            this._ui = UIPackage.createObject('battle', 'main') as GComponent;\r\n            this.addChild(this._ui.displayObject);\r\n            this._view = this.superRegisterView(new View(this._ui)) as View;\r\n            this.superRegisterModel(new Model(this._params));\r\n            this.superRegisterController(new Controller(this));\r\n            this._adaptionType = AdaptationType.ADAPT_FULL_SCREEN;\r\n        }\r\n\r\n\r\n        getAppBounds(): Rectangle \r\n        {\r\n            return new Rectangle(0, 0, Laya.stage.width, Laya.stage.height);\r\n        }\r\n\r\n        get res(): any[] \r\n        {\r\n            return [\r\n                { url: getUIURL('battle@atlas0.png'), type: Loader.IMAGE },\r\n                { url: getUIURL('battle.fui'), type: Loader.BUFFER },\r\n                { url: zt.utils.getResourceURL('fight/attack/0.json'), type: Loader.ATLAS },\r\n                { url: zt.utils.getResourceURL('fight/attack/1.json'), type: Loader.ATLAS },\r\n                { url: zt.utils.getResourceURL('fight/attack/2.json'), type: Loader.ATLAS },\r\n                { url: zt.utils.getResourceURL('fight/attack/skill.json'), type: Loader.ATLAS },\r\n                { url: zt.utils.getResourceURL('fight/icon/battleBuff.json'), type: Loader.ATLAS },\r\n                { url: zt.utils.getResourceURL('fight/icon/battleBuffText.json'), type: Loader.ATLAS },\r\n                { url: zt.utils.getResourceURL('fight/icon/skill80.json'), type: Loader.ATLAS },\r\n                { url: zt.utils.getResourceURL('fight/damage/damageNum.json'), type: Loader.ATLAS }\r\n            ];\r\n        }\r\n\r\n        public resize():void\r\n        {\r\n            super.resize();\r\n            this._view.resize();\r\n        }\r\n\r\n        dispose() {\r\n            super.dispose();\r\n            this._ui = null ;\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export enum DamageNumsType {\r\n        SHIELD,\r\n        DAMAGE,\r\n        CRIT\r\n    }\r\n    \r\n    export enum ObjectType {\r\n        Role = 'Role',\r\n        Fleet = 'Fleet',\r\n        Ship = 'Ship',\r\n        Lair = 'Lair',\r\n        MobFleet = 'MobFleet',\r\n        Mob = 'Mob'\r\n    }\r\n}","namespace zt.battle {\r\n    export class ActController {\r\n        private _view: View;\r\n        private _model: Model;\r\n        constructor(view: View, model: Model) {\r\n            this._view = view;\r\n            this._model = model;\r\n        }\r\n\r\n        dispose() {\r\n            ActTurn.dispose();\r\n        }\r\n\r\n        update(data: { Act, From, To, ActVar?,FactionID?})\r\n         {\r\n             let act :ActBase ;\r\n            if(data.Act == 'Turn')\r\n            {\r\n                act = ActTurn.ins;\r\n            }else\r\n            {\r\n                const cls: any = getDefinition(`zt.battle.Act${data.Act}`);\r\n                if (!cls) {\r\n                    console.log(`zt.battle.Act${data.Act}未定义`)\r\n                    return;\r\n                }\r\n                act = new cls();\r\n            }\r\n            act.model = this._model;\r\n            act.mainView = this._view.ui.displayObject;\r\n            act.container = this._view.container;\r\n            act.attackerView = this._view.attacker;\r\n            act.defenderView = this._view.defender;\r\n            act.attacker = this._view.attacker.army;\r\n            act.defender = this._view.defender.army;\r\n            act.ActVar = data.ActVar;\r\n            act.Crit = data['Crit'] || 0;\r\n            act.to = data.To;\r\n            if(data.Act == \"Attack\" || data.Act == \"Skill\")\r\n            {\r\n                if(ActTurn.ins && act.ActVar > 0)\r\n                {\r\n                    ActTurn.ins.to = data.From;\r\n                    ActTurn.ins.play(data.Act)\r\n                }\r\n                const self = this ;\r\n                Laya.timer.once(600,this,()=>\r\n                {\r\n                    self._view.attacker.shakeShip(data.To,data.Act,data.FactionID);\r\n                });\r\n            }\r\n            if (data.From) {\r\n                const fromView = data.From.Type == 1 ? this._view.attacker : this._view.defender;\r\n                act.fromView = fromView;\r\n                act.fromSide = fromView.army.side;\r\n                act.fromArmy = fromView.army;\r\n                act.fromPos = data.From.Pos;\r\n                act.fromPoint = getPos(fromView.army.side, data.From.Pos);\r\n            }\r\n            if (data.To) {\r\n                const toView = data.To[0].Type == 1 ? this._view.attacker : this._view.defender;\r\n                act.toView = toView;\r\n                act.toArmy = toView.army;\r\n                act.toSide = toView.army.side;\r\n            }\r\n            act.play(\"attack\",data.FactionID);\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export class MainControllerBase {\r\n        onBattleFinish: Laya.Handler;\r\n        onBattleUpdate: Laya.Handler;\r\n        protected _model: Model;\r\n        protected _view: View;\r\n        constructor(model: Model, view: View) {\r\n            this._model = model;\r\n            this._view = view;\r\n        }\r\n\r\n        init() {\r\n            //\r\n        }\r\n\r\n        protected onBattleReady(data) {\r\n            const result = this._model.updateArmy(data);\r\n            if (this._model.isReJoin||1)\r\n                this.checkEnterFleet(result, true);\r\n        }\r\n\r\n        protected onEnterFleet(data) {\r\n            this.checkEnterFleet(this._model.updateArmy(data));\r\n        }\r\n\r\n        private checkEnterFleet(result, isReJoin = false) {\r\n            if (result.Attacker) {\r\n                this._view.attacker.setData(this._model.Attacker);\r\n                this._view.attacker.checkEnterFleet(isReJoin);\r\n            }\r\n            if (result.Defender) {\r\n                this._view.defender.setData(this._model.Defender);\r\n                this._view.defender.checkEnterFleet(isReJoin);\r\n            }\r\n            this._model.checkEnterFleet();\r\n        }\r\n\r\n        start() {\r\n            //\r\n        }\r\n        dispose() {\r\n            //\r\n        }\r\n    }\r\n}","/// <reference path='./MainControllerBase.ts' />\r\nnamespace zt.battle {\r\n    export class BattleTestController extends MainControllerBase {\r\n        private _updateList: any[];\r\n        private _data;\r\n        private _time: number;\r\n\r\n        start() {\r\n            this._data = this._model.replayData;\r\n            this._time = this._data['Battle.ready']['_time'];\r\n            this.onEnterFleet(this._data['Battle.ready']);\r\n            this._updateList = this._data['updateDatas'].concat();\r\n            this.playUpdateDatas();\r\n        }\r\n\r\n        private playUpdateDatas() {\r\n            if (this._updateList.length == 0) {\r\n                this.playFinish(this._data['Battle.finish'])\r\n                return;\r\n            }\r\n            const data = this._updateList.shift();\r\n            this.playUpdateData(data);\r\n        }\r\n\r\n        private playUpdateData(data) {\r\n            const delay = data.Time - this._time;\r\n            Laya.timer.once(delay, this, () => {\r\n                this.playUpdateDatas();\r\n                this.onBattleUpdate.runWith(data);\r\n            });\r\n        }\r\n\r\n        private playFinish(data) {\r\n            // this.onBattleFinish.runWith(data);\r\n        }\r\n\r\n        dispose() {\r\n            super.dispose();\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    import UIController = zt.app.UIController ;\r\n    import AppBase = zt.app.AppBase ;\r\n    /**\r\n    * Controller\r\n    * @author wildfirecode\r\n    * @since 0.0.3\r\n    */\r\n    export class Controller extends UIController\r\n    {\r\n        private _loading: LoadingController;\r\n        private _actController: ActController;\r\n        private _mainController: MainControllerBase;\r\n        private _view:View ;\r\n        private _registerBattle:object ;\r\n        constructor(app: AppBase) \r\n        {\r\n            super(app); \r\n        }\r\n\r\n        public init():void\r\n        {\r\n            this._registerBattle = {};\r\n            this._registerBattle[BattleMode.NORMAL] = MainController;\r\n            this._registerBattle[BattleMode.REPLAY] = ReplayMainController;\r\n            this._registerBattle[BattleMode.TEST] = BattleTestController;\r\n        }\r\n        \r\n        start() {\r\n            this._view = getViewByModuleName(AppEnum.battle) as View;\r\n            const  model = this.model as Model ;\r\n            this._loading = new LoadingController();\r\n            this._actController = new ActController(this._view, model );\r\n            this._mainController = new this._registerBattle[model.mode](model, this._view) \r\n            this._mainController.onBattleFinish = Laya.Handler.create(this, this.onBattleFinish);\r\n            this._mainController.onBattleUpdate = Laya.Handler.create(this, this.onBattleUpdate, null, false);\r\n            this._mainController.init();\r\n            FloatTool.init();\r\n            this.startLoading();\r\n            this.disposeLoading();\r\n\r\n            this._mainController.start();\r\n        }\r\n\r\n        onCloseClick() {\r\n            const  model = this.model as Model ;\r\n            if (model.mode == BattleMode.NORMAL)\r\n            {\r\n                leaveBattle(model.getParams());\r\n            }\r\n            if(model.getParams().Type=='DailyInstance')\r\n            {\r\n                App.load('dailyInstance');\r\n            }\r\n            if(model.getParams().Type=='NormalInstance')\r\n            {\r\n                App.load('normalInstance');\r\n            }\r\n            this.close();\r\n        }\r\n\r\n        dispose() {\r\n            FloatTool.dispose();\r\n            this._mainController.dispose();\r\n            this._actController.dispose();\r\n        }\r\n\r\n        private onBattleFinish(data) {\r\n            // tslint:disable-next-line:no-magic-numbers\r\n            App.updateMask('#040f15', 0.95);\r\n            App.load('battleResult', { onClose: Laya.Handler.create(this, this.onBattleResultClose), Content: data });\r\n        }\r\n\r\n        private onBattleUpdate(data) {\r\n            if (Array.isArray(data.Content.List))\r\n                data.Content.List.forEach(act => {\r\n                    this._actController.update(act);\r\n                });\r\n        }\r\n\r\n        private onBattleResultClose() {\r\n            this.close();\r\n            // this._app.visible = false;\r\n            App.resetMaskColor();\r\n        }\r\n\r\n        private startLoading() {\r\n            this._loading.start();\r\n        }\r\n\r\n        private disposeLoading() {\r\n            this._view.disposeLoading();\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export class LoadingController {\r\n        start() {\r\n            //\r\n        }\r\n\r\n        /**\r\n         * 加载默认的星舰的模型\r\n         */\r\n        private loadShip() {\r\n            //\r\n        }\r\n    }\r\n\r\n}","/// <reference path='./MainControllerBase.ts' />\r\nnamespace zt.battle {\r\n    export class MainController extends MainControllerBase {\r\n        start() {\r\n            battleReady(\r\n                this._model.getParams(),\r\n                Laya.Handler.create(this, data => this.onBattleReady(data))\r\n            )\r\n        }\r\n\r\n        dispose() {\r\n            super.dispose();\r\n            this.removeNetOn();\r\n        }\r\n\r\n        init() {\r\n            this.initNetOn();\r\n        }\r\n\r\n        private initNetOn() {\r\n            net.on('Battle.enterFleet', this, this.onNetEnterFleet);\r\n            net.on('Battle.update', this, this.onNetUpdate);\r\n            net.on('Battle.error', this, this.onNetError);\r\n            net.on('Battle.finish', this, this.onNetFinish);\r\n        }\r\n\r\n        private removeNetOn() {\r\n            net.off('Battle.enterFleet', this, this.onNetEnterFleet);\r\n            net.off('Battle.update', this, this.onNetUpdate);\r\n            net.off('Battle.error', this, this.onNetError);\r\n            net.off('Battle.finish', this, this.onNetFinish);\r\n        }\r\n\r\n        private onNetUpdate(data) {\r\n            this.onBattleUpdate.runWith(data)\r\n        }\r\n\r\n        private onNetError(data) {\r\n            //\r\n        }\r\n\r\n        private onNetFinish(data) {\r\n            this.onBattleFinish.runWith(data.Content);\r\n        }\r\n\r\n        private onNetEnterFleet(data) {\r\n            this.onEnterFleet(data.Content.List);\r\n        }\r\n    }\r\n}","/// <reference path='./MainControllerBase.ts' />\r\nnamespace zt.battle {\r\n    export class ReplayMainController extends MainControllerBase {\r\n        // private _updateList: any[];\r\n        private _datas: any[];\r\n        start() {\r\n            this._datas = this._model.replayData.split('\\n');\r\n            const tmp = [];\r\n            for (const e of this._datas) {\r\n                if (e !== '') {\r\n                    tmp.push(JSON.parse(e));\r\n                }\r\n            }\r\n            this._datas = tmp;\r\n            this.playUpdateDatas();\r\n        }\r\n\r\n        private playUpdateDatas() {\r\n            for (const ele of this._datas) {\r\n                this.playUpdateData(ele);\r\n            }\r\n        }\r\n\r\n        private playUpdateData(data) {\r\n            Laya.timer.once(data.Content.Time, this, () => {\r\n                // tslint:disable-next-line:no-console\r\n                console.log(`[${data.Content.Time}]`, JSON.stringify(data));\r\n                if (data.Cmd == 'Battle.enterFleet') {\r\n                    this.onEnterFleet(data.Content.List)\r\n                } else if (data.Cmd == 'Battle.update') {\r\n                    this.onBattleUpdate.runWith(data);\r\n                }\r\n                else if (data.Cmd == 'Battle.finish') {\r\n                    this.onBattleFinish.runWith(data.Content);\r\n                }\r\n            });\r\n        }\r\n\r\n        dispose() {\r\n            super.dispose();\r\n            Laya.timer.clearAll(this);\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export class Army extends Laya.EventDispatcher {\r\n        private _ShipList: Ship[];\r\n        private _PosHash: { [pos: string]: Ship }\r\n        private _side: string;\r\n        constructor(data, side) {\r\n            super();\r\n            this._side = side;\r\n            for (const key in data) {\r\n                if (data.hasOwnProperty(key)) {\r\n                    this[`_${key}`] = data[key];\r\n                }\r\n            }\r\n            this._ShipList = [];\r\n            this._PosHash = {};\r\n            for (const ship of data.ShipList) {\r\n                const shipData = new Ship(ship, this._side, this._FactionID);\r\n                this._ShipList.push(shipData);\r\n                this._PosHash[shipData.Pos] = shipData;\r\n            }\r\n\r\n        }\r\n\r\n        updateShipHp(pos, hpVar) {\r\n            if (this._PosHash[pos])\r\n                this._PosHash[pos].updateHp(hpVar);\r\n        }\r\n        updateShipEn(pos, enVar) {\r\n            if (this._PosHash[pos])\r\n                this._PosHash[pos].updateEn(enVar);\r\n        }\r\n\r\n        updateShipShield(pos, attrVar) {\r\n            if (this._PosHash[pos])\r\n                this._PosHash[pos].updateShield(attrVar);\r\n        }\r\n\r\n        shipDead(pos) {\r\n            this._PosHash[pos] = null;\r\n            this.event(BattleShipEvent.DEAD, pos);\r\n        }\r\n\r\n        addBuff(pos, attrVar) {\r\n            this._PosHash[pos].addBuff(attrVar);\r\n        }\r\n\r\n        removeBuff(pos, attrVar) {\r\n            if (this._PosHash[pos])\r\n                this._PosHash[pos].removeBuff(attrVar);\r\n        }\r\n\r\n        getShip(pos) { return this._PosHash[pos] }\r\n        get side() { return this._side }\r\n        private _enterFlag = false;\r\n        set enterFlag(val: boolean) { this._enterFlag = val }\r\n        get ShipList() { return this._ShipList }\r\n        private _ID: number;\r\n        get ID(): number { return this._ID };\r\n        private _Name: string;\r\n        get Name(): string { return this._Name };\r\n        private _Level: number;\r\n        get Level(): number { return this._Level };\r\n        private _FactionID: number;\r\n        get FactionID(): number { return this._FactionID };\r\n        private _AvatarID: number;\r\n        get AvatarID(): number { return this._AvatarID };\r\n        private _Count: number;\r\n        get Count(): number { return this._Count };\r\n        private _TotalCount: number;\r\n        get TotalCount(): number { return this._TotalCount };\r\n    }\r\n}","namespace zt.battle {\r\n\r\n    /**\r\n     * 当前舰队buff\r\n     */\r\n    export class Buff \r\n    {    \r\n        private _buffID:number ;\r\n        constructor(buffID:number) \r\n        {\r\n            this._buffID = buffID ;\r\n        }\r\n\r\n\r\n        public get buffID():number\r\n        {\r\n            return this._buffID ;\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    import UIModel = zt.app.UIModel ;\r\n    /**\r\n    * model\r\n    * @author wildfirecode\r\n    * @since 0.0.3\r\n    */\r\n    export class Model extends UIModel\r\n    {\r\n        private _round;\r\n        private _maxRound;\r\n        private _Attacker: Army;\r\n        private _Defender: Army;\r\n        constructor(params) \r\n        {\r\n            super(params);\r\n            this._params = params;\r\n        }\r\n\r\n        updateArmy(data): { Attacker?, Defender?} \r\n        {\r\n            const result: { Attacker?, Defender?} = {};\r\n            this._round = data.Round;\r\n            this._maxRound = data.MaxRound;\r\n            if (data.Attacker) {\r\n                this._Attacker = new Army(data.Attacker, getAttackerSide(this.type));\r\n                this._Attacker.enterFlag = false;\r\n                result['Attacker'] = this._Attacker;\r\n            }\r\n            if (data.Defender) {\r\n                this._Defender = new Army(data.Defender, getDefenderSide(this.type));\r\n                this._Defender.enterFlag = false;\r\n                result['Defender'] = this._Defender;\r\n            }\r\n            zt.ctrl.GameCtrl.intance.event(EnumEventName.ARMY_UPDATE);\r\n            return result;\r\n        }\r\n\r\n\r\n        updateRound(round) \r\n        {\r\n            this._round = round;\r\n            zt.ctrl.GameCtrl.intance.event(EnumEventName.ARMY_UPDATE);\r\n        }\r\n\r\n        checkEnterFleet() \r\n        {\r\n            if (this._Attacker)\r\n                this._Attacker.enterFlag = true;\r\n            if (this._Defender)\r\n                this._Defender.enterFlag = true;\r\n        }\r\n\r\n        getParams() \r\n        {\r\n            return {\r\n                Type: this.type,\r\n                ActivityID: getActivityID(this.type),\r\n                BattleID: this.battleID\r\n            }\r\n        }\r\n\r\n        init() \r\n        {\r\n            //\r\n        }\r\n\r\n        dispose()\r\n        {\r\n            //\r\n        }\r\n        \r\n        get round(): number { return this._round };\r\n        // get time(): number { return this._time };\r\n        get Attacker(): Army { return this._Attacker };\r\n        get Defender(): Army { return this._Defender };\r\n        get type(): string { return this._params.battle.type };\r\n        get battleID(): string { return this._params.battle.battleID };\r\n        get mode(): number { return this._params.mode };\r\n        get isReJoin(): boolean { return this._params.isReJoin };\r\n        get replayData(): string { return this._params.replay };\r\n\r\n    }\r\n}","namespace zt.battle \r\n{\r\n    export class Ship extends Laya.EventDispatcher {\r\n        ID: number;\r\n        ObjectType: string;\r\n        SysID: number;\r\n        Pos: number\r\n        Hp: number\r\n        MaxHp: number\r\n        Shield: number\r\n        MaxShield: number;\r\n        En: number;\r\n        MaxEn: number;\r\n        Level: number;\r\n        Grade: number;\r\n        Star: number;\r\n        SkillList: Skill[];\r\n        BuffList: Buff[];\r\n        side;\r\n        fid;\r\n        private _shipName:string ;\r\n        private _buffIDList:number[];\r\n        constructor(data, side, fid) \r\n        {\r\n            super();\r\n            this.side = side;\r\n            this.fid = fid;\r\n\r\n            for (const key in data) {\r\n                if (data.hasOwnProperty(key)) {\r\n                    this[key] = data[key];\r\n                }\r\n            }\r\n            this.SkillList = [];\r\n            this.BuffList = [];\r\n            this._buffIDList = [];\r\n            if (data.SkillList)\r\n                for (const skill of data.SkillList) {\r\n                    this.SkillList.push(new Skill(skill));\r\n                }\r\n\r\n            if (data.BuffList)\r\n                for (const buff of data.BuffList) {\r\n                    this.BuffList.push(new Buff(buff));\r\n                }\r\n        }\r\n\r\n        addBuff(id) \r\n        {\r\n            const index = this._buffIDList.indexOf(id);\r\n            if(index == -1)\r\n            {\r\n                this._buffIDList.push(id);\r\n                this.BuffList.push(new Buff(id))\r\n                this.event(BattleShipEvent.BUFF_ADD);\r\n            }\r\n        }\r\n\r\n        removeBuff(id) \r\n        {\r\n            const index = this._buffIDList.indexOf(id);\r\n            if(index != -1)\r\n            {\r\n                this.BuffList.splice(index,1);\r\n                this._buffIDList.splice(index,1);\r\n            }\r\n            this.event(BattleShipEvent.BUFF_REMOVE);\r\n        }\r\n\r\n        getUrl() {\r\n            const sidePrefix = this.side == 'left' ? 'r' : 'l';\r\n            let type = 'f';\r\n            if (this.ObjectType == ObjectType.Ship || this.ObjectType == ObjectType.Mob) {\r\n                type = 's'\r\n            }\r\n            this._shipName = `${type}${this.SysID}_${sidePrefix}`;\r\n            return `fight/ship/${type}${this.SysID}-${sidePrefix}.json`;   \r\n        }\r\n\r\n        updateHp(hp: number) {\r\n            this.Hp += hp;\r\n            this.event(BattleShipEvent.HP_UPDATE);\r\n        }\r\n\r\n        updateEn(en: number) {\r\n            this.En += en;\r\n            this.event(BattleShipEvent.EN_UPDATE);\r\n        }\r\n\r\n        public get shipName():string\r\n        {\r\n            return this._shipName;\r\n        }\r\n\r\n        updateShield(shield: number) {\r\n            this.Shield += shield;\r\n            this.event(BattleShipEvent.SHIELD_UPDATE);\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export class Skill {\r\n        \r\n        constructor(data) {\r\n            //\r\n            \r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export enum BattleEvent {\r\n        ARMY_UPDATE = 'UPDATE'\r\n    }\r\n}","namespace zt.battle {\r\n    export enum BattleShipEvent {\r\n        HP_UPDATE = 'HP_UPDATE',\r\n        SHIELD_UPDATE = 'SHIELD_UPDATE',\r\n        EN_UPDATE = 'EN_UPDATE',\r\n        DEAD = 'DEAD',\r\n        BUFF_ADD = 'BUFF_ADD',\r\n        BUFF_REMOVE = 'BUFF_REMOVE',\r\n    }\r\n}","namespace zt.battle {\r\n    export class FloatTool {\r\n        private _ships: Sprite[];\r\n        private _offsets: Laya.Dictionary;\r\n        private static SPEED = 0.2;\r\n        private static RANGE = 7;\r\n        \r\n        constructor() {\r\n            this._ships = [];\r\n            this._offsets = new Laya.Dictionary();\r\n        }\r\n\r\n        static add(ship: Sprite) {\r\n            FloatTool.instance._ships.push(ship);\r\n            FloatTool.instance._offsets.set(ship, [FloatTool.SPEED * (Math.random() > 0.5 ? 1 : -1), 0]);\r\n        }\r\n\r\n        static remove(ship: Sprite) {\r\n            utils.ArrayUtil.remove(ship, FloatTool.instance._ships);\r\n        }\r\n\r\n        static dispose() {\r\n            Laya.timer.clear(FloatTool.instance, FloatTool.instance.onframe);\r\n        }\r\n\r\n        private onframe() {\r\n            for (const ship of FloatTool.instance._ships) {\r\n                this.onframeItem(ship);\r\n            }\r\n        }\r\n\r\n        private onframeItem(ship: Sprite) {\r\n            const offset = this._offsets.get(ship);\r\n            if (offset[1] >= FloatTool.RANGE) {\r\n                offset[0] = -FloatTool.SPEED;\r\n            }\r\n            else if (offset[1] <= -FloatTool.RANGE) {\r\n                offset[0] = FloatTool.SPEED;\r\n            }\r\n\r\n            offset[1] += offset[0];\r\n            ship.y += offset[0];\r\n            this._offsets.set(ship, offset);\r\n        }\r\n        private static instance: FloatTool;\r\n        static init() {\r\n            FloatTool.instance = new FloatTool();\r\n            Laya.timer.frameLoop(1, FloatTool.instance, FloatTool.instance.onframe);\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export const getAttackerSide = (type: string) => {\r\n        if (type == BattleType.ExploringPoint\r\n            || type==BattleType.DailyInstance\r\n            || type==BattleType.NormalInstance\r\n            || type==BattleType.Story\r\n            || type == BattleType.Colony\r\n            || type == BattleType.SnatchPublic\r\n            || type == BattleType.SnatchPrivate\r\n            || type == BattleType.LootPublic\r\n            || type == BattleType.LootPrivate\r\n            || type == BattleType.Mine)\r\n            return 'left';\r\n\r\n        return 'right';\r\n    }\r\n}","namespace zt.battle {\r\n    export const getDefenderSide = (type:string) => {\r\n        if (getAttackerSide(type) == 'left')\r\n            return 'right';\r\n        return 'left';\r\n    }\r\n}","// tslint:disable:no-magic-numbers\r\nnamespace zt.battle {\r\n    import Point = Laya.Point ;\r\n    export const getFrame = (FactionID) => {\r\n        switch (FactionID) {\r\n            case 1:\r\n                return 0;\r\n            case 2:\r\n                return 1;\r\n        }\r\n        return 2;\r\n    }\r\n    export const getPosFrame = (objectType, grade) => {\r\n        if (objectType == ObjectType.Fleet || objectType == ObjectType.MobFleet) {\r\n            return 7 + grade;\r\n        }\r\n        if (objectType == ObjectType.Ship || objectType == ObjectType.Mob) {\r\n            return grade;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n\r\n}","namespace zt.battle {\r\n    export const getMask = (side) => {\r\n        const d1 = 484;\r\n        const d2 = 1438;\r\n        const d3 = 950;\r\n        const d4 = 1920;\r\n\r\n        const mask = new Sprite();\r\n        // mask.alpha = 0.3;\r\n        if (side == 'left') {\r\n            mask.graphics.drawPoly(0, 0, [0, 0, d1, 0, d2, d3, 0, d3], '#00ff00');\r\n        }\r\n        else {\r\n            mask.graphics.drawPoly(d1, 0, [0, 0, d4 - d1, 0, d4 - d1, d3, d4 - d1 - d1, d3], '#ff0000');\r\n        }\r\n        return mask;\r\n    };\r\n}","namespace zt.battle {\r\n    export const getPos = (side, pos): { x, y } => {\r\n        if (side == 'left') {\r\n            const list = [\r\n                { x: 556, y: 266 },\r\n                { x: 709, y: 437 },\r\n                { x: 875, y: 602 },\r\n                { x: 324, y: 260 },\r\n                { x: 471, y: 433 },\r\n                { x: 648, y: 600 },\r\n                { x: 246, y: 436 },\r\n                { x: 412, y: 608 },\r\n                { x: 566, y: 766 }\r\n            ];\r\n            let position = pos - 1 ;\r\n            position = position== -1 ? 0 : position ;\r\n            return list[position];\r\n        }\r\n        const list = [\r\n            { x: 1040, y: 337 }, //1\r\n            { x: 1199, y: 503 },//2\r\n            { x: 1390, y: 666 },//3\r\n            { x: 1137, y: 163 },//4\r\n            { x: 1276, y: 328 },//5\r\n            { x: 1449, y: 497 },//6\r\n            { x: 1364, y: 164 },//7\r\n            { x: 1500, y: 336 },//8\r\n            { x: 1662, y: 500 }//9\r\n        ];\r\n        let position = pos - 1 ;\r\n        position = position== -1 ? 0 : position ;\r\n        return list[position];\r\n    }\r\n\r\n    /**\r\n     * 进场pos\r\n     * @param side \r\n     * @param pos \r\n     */\r\n    export const getFromPos = (side, pos) => {\r\n        const offset = { x: 860, y: 470 };\r\n        const posConfig = getPos(side, pos);\r\n        const random = Math.random() * 500;\r\n        if (side == 'left') {\r\n            return { x: posConfig.x - (offset.x + random), y: posConfig.y + (offset.y + random) }\r\n        }\r\n        return { x: posConfig.x + (offset.x + random), y: posConfig.y - (offset.y + random) }\r\n    }\r\n\r\n    \r\n    export const getshipFirepoint = (side)=>\r\n    {\r\n        return side == 'left' ? { x: -185, y: -145 } : { x: -126, y: -175 };\r\n    }\r\n}","// tslint:disable:no-magic-numbers\r\nnamespace zt.battle {\r\n    export class ArmyView extends Sprite {\r\n        private _type;\r\n        private _shipList: { [key: string]: ShipView };\r\n        private _army: Army;\r\n        private _shipLayer: Sprite;\r\n        private _underShipLayer: Sprite;\r\n        private _overShipLayer: Sprite;\r\n        private _bgs: fairygui.GComponent[];\r\n\r\n        constructor(type) {\r\n            super();\r\n            this._type = type;\r\n            this._underShipLayer = new Sprite();\r\n            this._shipLayer = new Sprite();\r\n            this._overShipLayer = new Sprite();\r\n            this.addChildren(this._underShipLayer, this._shipLayer, this._overShipLayer);\r\n            this.name = 'army';\r\n\r\n        }\r\n\r\n        setData(army: Army) {\r\n            this.removeShips();\r\n            this.removeBgs();\r\n            this._army = army;\r\n            this._army.on(BattleShipEvent.DEAD, this, this.onShipDead);\r\n            this.createShips();\r\n            this.addBgs();\r\n            this.setMask();\r\n        }\r\n\r\n        private removeBgs() {\r\n            if (!this._bgs) return;\r\n            this._bgs.forEach(element => {\r\n                element.dispose();\r\n            });\r\n            this._bgs = null;\r\n        }\r\n\r\n        private addBgs() {\r\n            this._bgs = [];\r\n            for (let index = 1; index <= 9; index++) {\r\n                const ship = this._army.getShip(index);\r\n                const pos = getPos(this._army.side, index);\r\n                const bg = fairygui.UIPackage.createObject('battle', 'shipBg_' + this._army.side) as fairygui.GComponent;\r\n                this._bgs.push(bg);\r\n                bg.displayObject.pos(-99 + pos.x, -10 + pos.y);\r\n                bg.getController('c1').selectedIndex = 0;\r\n                if (ship) {\r\n                    bg.getController('c1').selectedIndex = getPosFrame(ship.ObjectType, ship.Grade);\r\n                }\r\n                if (this._type == 'defender') {\r\n                    bg.displayObject.pos(-50 + pos.x, -38 + pos.y);\r\n                }\r\n                this._underShipLayer.addChild(bg.displayObject);\r\n            }\r\n        }\r\n\r\n        /**\r\n         *被攻击时抖动\r\n         */\r\n        public shakeShip($to:any[],$act:string,$factionID:number = -1):void\r\n        {\r\n            for(let obj of $to)\r\n            {\r\n                const ship:ShipView =  this._shipList[obj.Pos];\r\n                if(ship)\r\n                {\r\n                    ship.shake($act,$factionID);\r\n                }\r\n            }\r\n        }\r\n\r\n        private onShipDead(pos) {\r\n            this.removeShip(pos);\r\n        }\r\n\r\n        checkEnterFleet(isReJoin) {\r\n            if (this._army.enterFlag) return;\r\n            for (const key in this._shipList) {\r\n                this.shipEnter(this._shipList[key], isReJoin);\r\n            }\r\n        }\r\n\r\n        private setMask() {\r\n            if (this._underShipLayer.mask) return;\r\n            this._underShipLayer.mask = getMask(this._army.side);\r\n            this._overShipLayer.mask = getMask(this._army.side);\r\n        }\r\n\r\n        private removeShips() {\r\n            if (!this._shipList) return;\r\n            for (const pos in this._shipList) {\r\n                this.removeShip(pos);\r\n            }\r\n        }\r\n\r\n        removeShip(pos) {\r\n            this._shipList[pos].dispose();\r\n            delete this._shipList[pos];\r\n        }\r\n\r\n        getShip(pos) {\r\n            return this._shipList[pos];\r\n        }\r\n\r\n        private shipEnter(ship: ShipView, isReJoin) {\r\n            const pos = getPos(this._army.side, ship.data.Pos);\r\n            if (isReJoin)\r\n                ship.pos(pos.x, pos.y);\r\n            else\r\n                Laya.Tween.to(ship, { x: pos.x, y: pos.y }, 1000);\r\n        }\r\n\r\n        private createShips() {\r\n            this._shipList = {};\r\n            for (const ship of this._army.ShipList) {\r\n                if(ship.Hp>0)//重新打开星舰不显示？\r\n                {\r\n                    const shipView = new ShipView(ship);\r\n                    this._shipList[ship.Pos] = shipView;\r\n                    this._shipLayer.addChild(shipView);\r\n                    const pos = getFromPos(this._army.side, ship.Pos);\r\n                    shipView.pos(pos.x, pos.y);\r\n                }\r\n            }\r\n        }\r\n\r\n        dispose() {\r\n            //\r\n        }\r\n        get army() { return this._army }\r\n        get underShipLayer() { return this._underShipLayer }\r\n        get overShipLayer() { return this._overShipLayer }\r\n    }\r\n}","// tslint:disable:no-magic-numbers\r\nnamespace zt.battle {\r\n    import Sprite = Laya.Sprite;\r\n    import GProgressBar = fairygui.GProgressBar;\r\n    import GComponent = fairygui.GComponent ;\r\n    import GList = fairygui.GList ;\r\n    import Effect = zt.effects.Effect ;\r\n    import Tween = Laya.Tween ;\r\n    import Handler = Laya.Handler ;\r\n    import GObject = fairygui.GObject;\r\n    import Buff = zt.battle.Buff;\r\n    export class ShipView extends Sprite {\r\n        private _data: Ship;\r\n        private _ship: Effect ;\r\n        private _ui: fairygui.GComponent;\r\n        private bufflist : GList ;\r\n        private hpBar:GProgressBar ;\r\n        private shieldBar:GProgressBar;\r\n        private energyBar:GProgressBar ;\r\n        private angerBar:GProgressBar ;\r\n        private hpBarController:fairygui.Controller;\r\n        private _tween:Tween ;\r\n        private _startX:number;\r\n        private _explosion:Effect;\r\n        constructor(data: Ship) {\r\n            super();\r\n            this._data = data;\r\n            this.initView();\r\n            this.initEvent();\r\n        }\r\n\r\n        private initView() \r\n        {\r\n            const model = getModelByModuleName(AppEnum.battle) as Model;\r\n            this._ui = fairygui.UIPackage.createObject('battle', 'ship') as fairygui.GComponent;\r\n            this._ui.displayObject.pos(-95, -35);\r\n            this.addChild(this._ui.displayObject);\r\n            this.bufflist =  this._ui.getChild('bufflist').asList ; \r\n            this.hpBar= this._ui.getChild('hp').asProgress ;\r\n            this.shieldBar = this._ui.getChild('shield').asProgress ;\r\n            this.energyBar = this._ui.getChild('energy').asProgress ;\r\n            this.angerBar = this._ui.getChild('anger').asProgress ;\r\n            this.hpBarController = this.hpBar.getController('c1');\r\n            if (this._data.side == 'right') \r\n            {\r\n                this._ui.displayObject.pos(-35, -68);\r\n            }\r\n            this.bufflist.visible = false;\r\n            this.angerBar.visible = false;\r\n            const url:string = utils.getResourceURL(this._data.getUrl());\r\n            if(!this._ship)\r\n            {\r\n                this._ship = zt.effects.createEffect(url,AppEnum.battle,false);\r\n            }\r\n            this.bufflist.itemRenderer = Handler.create(this,this.renderBuff,null,false);\r\n            this._ship.scaleX = this.scaleY = 0.7;\r\n            const firePoint = getshipFirepoint(this._data.side);\r\n            this._ship.playEffect(this,firePoint.x,firePoint.y,true);\r\n            this._startX = firePoint.x ;\r\n            FloatTool.add(this._ship);\r\n            this.onHpUpdate();\r\n            this.onShieldUpdate();\r\n            this.onEnUpdate();\r\n            this.onBuffUpdate();  \r\n        }\r\n\r\n        private renderBuff(index:number,obj:GObject):void\r\n        {\r\n            const buffIcon = obj as GComponent ;\r\n            const buff:Buff = this._data.BuffList[index];\r\n            const url:string=  zt.utils.getResourceURL(`fight/icon/battleBuff/${buff.buffID}.png`);\r\n            const icon:Laya.Texture = Laya.loader.getRes(url);\r\n            buffIcon.displayObject.graphics.drawTexture(icon); \r\n        }\r\n\r\n        private initEvent() {\r\n            this._data.on(BattleShipEvent.HP_UPDATE, this, this.onHpUpdate);\r\n            this._data.on(BattleShipEvent.SHIELD_UPDATE, this, this.onShieldUpdate);\r\n            this._data.on(BattleShipEvent.EN_UPDATE, this, this.onEnUpdate);\r\n            this._data.on(BattleShipEvent.BUFF_ADD, this, this.onBuffUpdate);\r\n            this._data.on(BattleShipEvent.BUFF_REMOVE, this, this.onBuffUpdate);\r\n        }\r\n\r\n        private onHpUpdate() \r\n        {\r\n            this.hpBar.update(Math.ceil(this._data.Hp / this._data.MaxHp * 100));\r\n            // this.hpTxt.text = `${this._data.Hp} / ${this._data.MaxHp} `;\r\n        }\r\n\r\n        private onShieldUpdate() \r\n        {\r\n            this.shieldBar.update(Math.ceil(this._data.Shield / this._data.MaxShield * 100));        \r\n            // this.shieldTxt.text = `${this._data.Shield} / ${this._data.MaxShield} `;\r\n        }\r\n        private onBuffUpdate() \r\n        {\r\n            this.bufflist.visible = this._data.BuffList.length > 0;\r\n            this.bufflist.numItems = this._data.BuffList.length;\r\n\r\n        }\r\n\r\n        private onEnUpdate() \r\n        {\r\n            const percent = Math.ceil(this._data.En / this._data.MaxEn * 100);\r\n            this.energyBar.update(percent);\r\n        }\r\n\r\n        dispose() {\r\n            this.removeSelf();\r\n            if(this._ship)\r\n                zt.effects.resyleEffectGroup(this._ship)\r\n        }\r\n\r\n        /**\r\n         *飞船前后抖动\r\n         */\r\n        public shake($attackType:string,$faction:number = -1):void\r\n        {\r\n            const isleft = this._data.side == 'left' ;\r\n            const offsetX = isleft ? -10 : 10;\r\n            const toX = this._startX + offsetX ;\r\n            this._tween = Laya.Tween.to(this._ship , {x: toX}, 100, Laya.Ease.sineIn, Laya.Handler.create(this, this.backTo));\r\n        }\r\n\r\n        private backTo():void\r\n        {\r\n            const toX =  this._startX ;\r\n            this._tween.clear();\r\n            this._tween = Laya.Tween.to(this._ship , {x: toX}, 200, Laya.Ease.sineIn, Laya.Handler.create(this, this.clear));\r\n        }\r\n\r\n        public get shipX():number\r\n        {\r\n            return this._ship ?this._ship.x + this.x : 0;\r\n        }\r\n\r\n        public get shipY():number\r\n        {\r\n            return this._ship ? this._ship.y + this.y : 0;\r\n        }\r\n\r\n        private clear():void\r\n        {\r\n            this._tween.clear();\r\n        }\r\n\r\n        get data() { return this._data }    \r\n    }\r\n}","namespace zt.battle {\r\n    import UIView = zt.app.UIView ;\r\n    import GComponent = fairygui.GComponent;\r\n    import GButton = fairygui.GButton;\r\n\r\n    /**\r\n     * view\r\n     * @author wildfirecode\r\n     * @since 0.0.3\r\n     */\r\n    export class View extends UIView {\r\n        static BG_WIDTH = 1920;\r\n        static BG_HEIGHT = 950;\r\n        static LIMIT_WIDTH = 1600;\r\n        static SCALE = 0.6;\r\n        private _list: FightViewBase[];\r\n        private _main: Sprite;\r\n        private _bg: Sprite;\r\n        private _attackerView: ArmyView;\r\n        private _defenderView: ArmyView;\r\n        private _container: Sprite;\r\n        private _bound:Rectangle ;\r\n        private lController:fairygui.Controller ;\r\n        private rController:fairygui.Controller ;\r\n        private bgCon:GComponent ;\r\n        private close:GButton;\r\n        private divisionLine:GComponent;\r\n        private destinationOut:fairygui.GImage ;\r\n        constructor(ui: GComponent)\r\n        {\r\n            super(ui);\r\n        }\r\n\r\n       public init() \r\n       {\r\n           this._list = [];\r\n           this.bgCon = this._ui.getChild('bg').asCom ;\r\n           this._bg = this.bgCon.displayObject;\r\n            this.close = this._ui.getChild('close') as GButton ;\r\n            this._attackerView = new ArmyView('attacker');\r\n            this._defenderView = new ArmyView('defender');\r\n            this._container = new Sprite();\r\n            this.divisionLine = this._ui.getChild('divisionLine').asCom;\r\n            this.destinationOut = this._ui.getChild('destinationOut').asImage;     \r\n            this.lController = this.divisionLine.getController('down');\r\n            this.rController = this.divisionLine.getController('up');\r\n       }\r\n\r\n        public addEvent() \r\n        {\r\n            const model = getModelByModuleName(AppEnum.battle);\r\n            this.close.onClick(this, this.closeApp);\r\n            zt.ctrl.GameCtrl.intance.on(EnumEventName.ARMY_UPDATE , this, this.onArmyUpdate);\r\n        }\r\n\r\n        public removeEvent()\r\n        {\r\n            this.close.offClick(this, this.closeApp);\r\n            zt.ctrl.GameCtrl.intance.off(EnumEventName.ARMY_UPDATE , this, this.onArmyUpdate);\r\n        }\r\n\r\n        start() \r\n        {\r\n            this._main = new Sprite();\r\n            this._main.name = 'main';\r\n            this._main.addChild(this._bg);\r\n            this._ui.displayObject.addChild(this._main);\r\n\r\n            for (let i = 0; i < this._ui.numChildren; i++) {\r\n                const name: string = this._ui.getChildAt(i).name;\r\n                if (name === 'bg') continue;\r\n                const add = this.add(this._ui.getChildAt(i) as GComponent);\r\n                this._ui.getChildAt(i).displayObject.pos(0, 0);\r\n                this._main.addChild(this._ui.getChildAt(i).displayObject);\r\n            }\r\n            this._main.addChildren(this._attackerView, this._defenderView, this._container);\r\n            this._container.addChild(this.destinationOut.displayObject);\r\n            this.destinationOut.x = 565 ;\r\n            this.destinationOut.y = 61 ;     \r\n            // this.destinationOut.displayObject.blendMode = Laya.BlendMode.DESTINATIONOUT;\r\n            this._container.addChild(this.divisionLine.displayObject);\r\n            this._attackerView.pos(0,0);\r\n            this._defenderView.pos(0,0);\r\n            this._container.pos(0,0);\r\n            this.loadBg();\r\n            this.resize();\r\n        }\r\n\r\n        private loadBg() \r\n        {\r\n            const model = getModelByModuleName(AppEnum.battle) as Model;\r\n            this.bgCon.displayObject.loadImage(utils.getResourceURL(`fight/bg/${model.type}.jpg`))\r\n        }\r\n\r\n\r\n        private add(viewItem: GComponent) {\r\n            const name = zt.utils.stringUtil.replaceFirstUper(viewItem.name);\r\n            const cls: any = getDefinition(`zt.battle.${name}View`);\r\n            if (cls === null) return;\r\n            const model = this.model as Model ;\r\n            const controller  = this.controller as Controller ;\r\n            const view: FightViewBase = new cls(viewItem, controller , model);\r\n            this._list.push(view);\r\n            return view;\r\n        }\r\n\r\n        public resize() \r\n        {\r\n            const stageW:number = Laya.stage.width ;\r\n            if(stageW >= View.BG_WIDTH)\r\n            {\r\n                const toX = -(View.BG_WIDTH - Laya.stage.width )/2 ;\r\n                const toY = -(View.BG_HEIGHT - Laya.stage.height )/2 ;\r\n                this._main.x = toX ;\r\n                this._main.y = toY ;\r\n                for (const i of this._list) \r\n                {\r\n                    i.resize();\r\n                }\r\n            }else\r\n            {\r\n                const scale: number = Laya.stage.width >= View.LIMIT_WIDTH ? 1 : View.SCALE;\r\n                this._main.scale(scale,scale);\r\n                for (const i of this._list) \r\n                {\r\n                    i.resize();\r\n                }\r\n                this._bound = this._main.getBounds();\r\n                const boundW = this._bound.width >= 1920 ? 1920 : this._bound.width ;\r\n                const boundH = this._bound.height >= 1080 ? 1080 : this._bound.height ;\r\n                const toX = (Laya.stage.width- this._bound.width)/2;\r\n                const toY = (Laya.stage.height- this._bound.height)/2 + 50 ;\r\n                this._main.x = toX ;\r\n                this._main.y = toY ;\r\n            }\r\n        }\r\n\r\n        private onArmyUpdate() \r\n        {\r\n            let datal: Army;\r\n            let datar: Army;\r\n            const mdoel = this.model as Model;\r\n            if (getAttackerSide(mdoel.type) == 'left') {\r\n                datal = mdoel.Attacker;\r\n                datar = mdoel.Defender;\r\n            }\r\n            else \r\n            {\r\n                datar = mdoel.Attacker;\r\n                datal = mdoel.Defender;\r\n            }\r\n            if (datal)\r\n               this.lController.selectedIndex = getFrame(datal.FactionID);\r\n            if (datar)\r\n                this.rController.selectedIndex = getFrame(datar.FactionID);\r\n\r\n        }\r\n\r\n        disposeLoading() \r\n        {\r\n            // utils.ArrayUtil.remove(this._loading, this._list);\r\n            // this._loading.dispose();\r\n            // this._loading = null;\r\n        }\r\n\r\n        dispose() \r\n        {\r\n            this.removeEvent();\r\n            for (const i of this._list) {\r\n                i.dispose();\r\n            }\r\n        }\r\n        \r\n        get attacker() { return this._attackerView }\r\n        get defender() { return this._defenderView }\r\n        get container() { return this._container ;}\r\n        get main() { return this._main }\r\n    }\r\n}","namespace zt.battle {\r\n    import DamageNum = zt.effects.DamageNum ;\r\n    export class ActBase \r\n    {\r\n        model: Model;\r\n        ActVar: number;\r\n        fromArmy: Army;\r\n        toArmy: Army;\r\n        attacker: Army;\r\n        defender: Army;\r\n        Crit:number;\r\n        attackerView: ArmyView;\r\n        defenderView: ArmyView;\r\n        container: Sprite;\r\n        protected _fromView: ArmyView;\r\n        protected _toView: ArmyView;\r\n        protected _fromSide: string;\r\n        protected _toSide: string;\r\n        protected _fromPoint: { x, y };\r\n        protected _mainView: Sprite;\r\n        protected _fromPos: number;\r\n        protected _to: ActTarget[];\r\n        set fromView(val: ArmyView) { this._fromView = val }\r\n        set toView(val: ArmyView) { this._toView = val }\r\n        set mainView(val: Sprite) { this._mainView = val }\r\n        set fromPos(val: number) { this._fromPos = val }\r\n        set to(val: ActTarget[]) { this._to = val }\r\n        set fromSide(val) { this._fromSide = val }\r\n        set toSide(val) \r\n        {\r\n             this._toSide = val \r\n        }\r\n        set fromPoint(val) \r\n        {\r\n             this._fromPoint = val ;\r\n        }\r\n\r\n        protected getToPoint(pos: number) {\r\n            return getPos(this._toSide, pos)\r\n        }\r\n\r\n        protected getToArmyData(type) {\r\n            return type == 1 ? this.attacker : this.defender;\r\n        }\r\n\r\n        get name():string\r\n        {\r\n            return 'type';\r\n        }\r\n        \r\n        play($type?:string,$faction?:number) {\r\n            //\r\n        };\r\n\r\n\r\n        /**\r\n         * 播放飘字\r\n         * @param  \r\n         * @param  \r\n         */\r\n        public playDamage($damageType:number,$isAdd:boolean = false):void\r\n        {\r\n            const toPoint = this.getToPoint(this._to[0].Pos);\r\n            const damage = DamageNum.getDamageNum(this.ActVar,$damageType,$isAdd)\r\n            damage.pos(toPoint.x, toPoint.y - 40);\r\n            this._toView.addChild(damage);\r\n            damage.play($damageType);\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    import Effect = zt.effects.Effect ;\r\n    export class ActAddBuff extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            this._to.forEach(ele => {\r\n                const toArmy = this.getToArmyData(ele.Type);\r\n                toArmy.addBuff(ele.Pos, this.ActVar);\r\n                this.playBuff(ele.Pos);\r\n            })\r\n        }\r\n\r\n        playOnce() {\r\n            //一次性的buff\r\n        }\r\n\r\n        //持续性的buff\r\n        private playBuff(pos) {\r\n         \r\n            const actname:string = `Buff_${this.ActVar}` ;\r\n            const battleEffect:SysbattleEffectVo = Battle.SysBattleEffectP.getDataByAction(actname);\r\n            const url:string = utils.getResourceURL(this.buffUrl);\r\n            const toAni:Effect = zt.effects.createEffect(url,AppEnum.battle)\r\n            const container = this.container ;\r\n            const formView = this._toSide == 'left' ? this.attackerView : this.defenderView ;\r\n            const attack = formView.getShip(pos);\r\n            let point = {\"x\":0,\"y\":0};\r\n            if(attack)\r\n            {\r\n                let shipName:string = attack.data.shipName;\r\n                point.x =  attack.shipX ;\r\n                point.y =  attack.shipY ;\r\n            }\r\n            let effextX = this._fromSide == 'left' ? battleEffect.Lx : battleEffect.Rx ;\r\n            let effextY = this._fromSide == 'left' ? battleEffect.Ly : battleEffect.Ry ;\r\n            point.x = point.x  + effextX[0];\r\n            point.y = point.y  + effextY[0];\r\n            const raisePoint = {'x':point.x,'y':point.y - 60};\r\n            const points = {'x':point.x,'y':point.y + 20};\r\n            const raiseParam = getRaiseParam(points,raisePoint,false);\r\n            const buffTxt:string = zt.utils.getResourceURL(this.buffTxtUrl);\r\n            Tips.showRaisingImages(buffTxt,raiseParam);\r\n            toAni.playEffect(container,point.x , point.y );\r\n        }\r\n\r\n        private get buffUrl() {\r\n            return `fight/buff/1.json`;\r\n        }\r\n\r\n        private get buffTxtUrl() {\r\n            return `fight/icon/battleBuffText/${this.ActVar}.png`;\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nimport Effect = zt.effects.Effect ;\r\nimport Handler = Laya.Handler;\r\nimport Rectangle = Laya.Rectangle ;\r\nimport SysbattleEffectVo = zt.data.SysBattleEffectVo ;\r\nimport SysBattlePerformeVo = zt.data.SysBattlePerformeVo;\r\nnamespace zt.battle\r\n {\r\n    export class ActAttack extends ActBase \r\n    {\r\n        private formAni:Effect ;\r\n        play() \r\n        {\r\n            let attackX : number = 0 ;\r\n            let attackY : number = 0 ;\r\n            const actname:string = `Attack_${this.fromArmy.FactionID}` ;\r\n            const battleEffect:SysbattleEffectVo = Battle.SysBattleEffectP.getDataByAction(actname);\r\n            const formView = this._fromSide == 'left' ? this.attackerView : this.defenderView ;\r\n            const toView = this._fromSide == 'left' ? this.defenderView : this.attackerView ;\r\n            const attack = formView.getShip(this._fromPos);\r\n            let pos = {\"x\":0,\"y\":0};\r\n            if(attack)\r\n            {\r\n                let shipName:string = attack.data.shipName;\r\n                const attackShip:SysBattlePerformeVo = Battle.SysBattlePerformeP.getDataByShip(shipName);\r\n                attackX = attackShip.AttackX;\r\n                attackY = attackShip.AttackY;\r\n                pos.x = attack.shipX >> 0 ; \r\n                pos.y = attack.shipY >> 0 ;\r\n            }\r\n            const url:string = utils.getResourceURL(this.url) ;\r\n            let effextX = this._fromSide == 'left' ? battleEffect.Lx : battleEffect.Rx ;\r\n            let effextY = this._fromSide == 'left' ? battleEffect.Ly : battleEffect.Ry ;\r\n            let aniX:number =  effextX[0] + pos.x + attackX ;\r\n            let aniY:number =  effextY[0] + pos.y + attackY + 50;\r\n            const isContray  = this._fromSide == 'left' ? false : true ;\r\n            const container = this.container ;\r\n            let recoup:number = this._fromSide == 'left' ? 105 :2;\r\n            let length:number = (utils.getTargetToCenter(aniX,aniY) >> 0) + recoup ;\r\n            const formAni  = zt.effects.createSkillEffect(url,aniX,aniY,isContray,length,container,true);\r\n            formAni.playEffect(60) ;\r\n            formAni.addFrame(battleEffect.Frame,Handler.create(this,()=>\r\n            {\r\n                let angle:number = isContray ?  154:-26;\r\n                // let angle:number = isContray ?  140:-40;\r\n                pos.x = 0 ;\r\n                pos.y = 0 ;\r\n                for(let target of this._to)\r\n                {\r\n                    recoup = this._fromSide == 'left' ? 50 :200;\r\n                    const defend = toView.getShip(target.Pos);\r\n                    if(defend)\r\n                    {\r\n                        let shipName:string = defend.data.shipName;\r\n                        const attackShip:SysBattlePerformeVo = Battle.SysBattlePerformeP.getDataByShip(shipName);\r\n                        attackX = attackShip.HitX ; \r\n                        attackY = attackShip.HitY ;\r\n                        pos.x = defend.shipX  ;\r\n                        pos.y = defend.shipY ;\r\n                    }\r\n                    aniX = (pos.x + attackX)>>0 ;\r\n                    aniY = (pos.y + attackY + 50)>>0;\r\n                    length = (utils.getTargetToCenter(aniX , aniY) >> 0) + recoup;\r\n                    // const point = utils.getLineVerticalPoint(aniX,aniY);\r\n                    // if(isContray)\r\n                    // {\r\n                    //     point.x = point.x - Math.cos(angle/180*Math.PI) * (length -recoup);\r\n                    //     point.y = point.y + Math.sin(angle/180*Math.PI) * (length -recoup);\r\n                    // }else\r\n                    // {\r\n                    //     point.x = point.x - Math.cos(angle/180*Math.PI) * (length -recoup);\r\n                    //     point.y = point.y + Math.sin(angle/180*Math.PI) * (length -recoup);\r\n                    // }\r\n                    angle = 0 ;\r\n                    if(isContray)\r\n                    {\r\n                        aniX = aniX + Math.cos(angle/180*Math.PI) * (length -recoup) + 100;\r\n                        aniY = aniY - Math.sin(angle/180*Math.PI) * (length -recoup) - 29;\r\n                       \r\n                    }else\r\n                    {\r\n                        aniX = aniX - Math.cos(angle/180*Math.PI) * (length -recoup) +10;\r\n                        aniY = aniY + Math.sin(angle/180*Math.PI) * (length -recoup) - 5;\r\n                    }\r\n                    const toAni =  zt.effects.createSkillEffect(url,aniX,aniY,isContray,length,container,false);\r\n                    // const toAni =  zt.effects.createSkillEffect(url,point.x,point.y,isContray,length,container,false);\r\n                    toAni.playEffect(60);\r\n                }\r\n            }));\r\n        }\r\n\r\n        private get url() {\r\n            // return `fight/skill/skill_1_10.json`;\r\n            return `fight/attack/skill.json`;\r\n            // return `fight/attack/${this.fromArmy.FactionID}.json`;\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    import Effect = zt.effects.Effect ;\r\n    export class ActDead extends ActBase {\r\n        play() {\r\n            const toArmy = this.getToArmyData(this._to[0].Type);\r\n            toArmy.shipDead(this._to[0].Pos);\r\n            this.playEffect();\r\n        }\r\n\r\n        playEffect() {\r\n            const url:string = utils.getResourceURL(this.url);\r\n            const container:Sprite =  this.attackerView.parent as Sprite;\r\n            for(let target of this._to)\r\n            {\r\n                const point =  this.getToPoint(target.Pos)\r\n                const toAni :Effect  = zt.effects.createEffect(url,AppEnum.battle,true);\r\n                toAni.playEffect(container, point.x -150, point.y - 150,false,Laya.BlendMode.ADD,null,30) ;\r\n            }\r\n        }\r\n\r\n        private get url() {\r\n            return 'fight/dead/dead.json';\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActDecEn extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            const toArmy = this.getToArmyData(this._to[0].Type);\r\n            toArmy.updateShipEn(this._to[0].Pos, this.ActVar);\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActDecHp extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            const toArmy = this.getToArmyData(this._to[0].Type);\r\n            toArmy.updateShipHp(this._to[0].Pos, this.ActVar);\r\n            const type = this.Crit == 1 ?DamageNumsType.CRIT:DamageNumsType.DAMAGE\r\n            this.playDamage(type);\r\n            \r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActDecShield extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            const toArmy = this.getToArmyData(this._to[0].Type);\r\n            toArmy.updateShipShield(this._to[0].Pos, this.ActVar);\r\n            const toPoint = this.getToPoint(this._to[0].Pos);\r\n            const type = this.Crit == 1 ?DamageNumsType.CRIT:DamageNumsType.DAMAGE\r\n            this.playDamage(type);\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActIncEn extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            const toArmy = this.getToArmyData(this._to[0].Type);\r\n            toArmy.updateShipEn(this._to[0].Pos, this.ActVar);\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActIncShield extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            const toArmy = this.getToArmyData(this._to[0].Type);\r\n            toArmy.updateShipShield(this._to[0].Pos, this.ActVar);\r\n            // const toPoint = this.getToPoint(this._to[0].Pos);\r\n            // const damage = new DamageNums(DamageNumsType.DAMAGE);\r\n            // damage.data = this.ActVar;\r\n            // damage.pos(toPoint.x, toPoint.y);\r\n            // this._toView.addChild(damage);\r\n            // damage.play();\r\n            this.playDamage(DamageNumsType.DAMAGE);\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActMiss extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            // const toPoint = this.getToPoint(this._to[0].Pos);\r\n            // const damage = new DamageNums(DamageNumsType.DAMAGE);\r\n            // damage.data = 0;\r\n            // damage.pos(toPoint.x, toPoint.y);\r\n            // this._toView.addChild(damage);\r\n            // damage.play();\r\n            this.playDamage(DamageNumsType.DAMAGE);\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActRemoveBuff extends ActBase {\r\n        //[{\"To\":[{\"Type\":0,\"Pos\":2}],\"ActVar\":-198,\"Act\":\"DecHp\"}]\r\n        play() {\r\n            this._to.forEach(ele => {\r\n                const toArmy = this.getToArmyData(ele.Type);\r\n                toArmy.removeBuff(ele.Pos, this.ActVar);\r\n            })\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    export class ActRound extends ActBase {\r\n        play() {\r\n            this.model.updateRound(this.ActVar)\r\n        }\r\n    }\r\n}","/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent ;\r\n    import Effect = zt.effects.Effect ;\r\n    export class ActSkill extends ActBase {\r\n        play() \r\n        {\r\n            if (this.ActVar == 4 || this.ActVar == 1) \r\n            { \r\n                //4 1 给对方加debuff \r\n                // this.playBuffSkill();\r\n            }\r\n            else if (this.ActVar == 3 || this.ActVar == 2) {\r\n                this.playSkill();\r\n            }\r\n        }\r\n\r\n\r\n        playSkill() \r\n        {\r\n            // console.log('attack start **********************')\r\n            let attackX : number = 0 ;\r\n            let attackY : number = 0 ;\r\n            const actname:string = `Skill_${this.fromArmy.FactionID}_${this.ActVar}` ;\r\n            const battleEffect:SysbattleEffectVo = Battle.SysBattleEffectP.getDataByAction(actname);\r\n            const formView = this._fromSide == 'left' ? this.attackerView : this.defenderView ;\r\n            const toView = this._fromSide == 'left' ? this.defenderView : this.attackerView ;\r\n            const attack = formView.getShip(this._fromPos);\r\n\r\n            let pos = {\"x\":0,\"y\":0};\r\n            if(attack)\r\n            {\r\n                let shipName:string = attack.data.shipName;\r\n                const attackShip:SysBattlePerformeVo = Battle.SysBattlePerformeP.getDataByShip(shipName);\r\n                attackX = attackShip.AttackX;\r\n                attackY = attackShip.AttackY;\r\n                pos.x = attack.shipX \r\n                pos.y = attack.shipY ;\r\n                  //技能图标\r\n                  const raisePoint = {'x':pos.x + attackShip.HitX,'y':pos.y - 60};\r\n                  const formPoint = {'x':pos.x + attackShip.HitY,'y':pos.y};\r\n                  const raiseParam = getRaiseParam(formPoint,raisePoint,false,400);\r\n                  const skillIcon = zt.utils.getResourceURL(this.skillIconUrl);\r\n                  Tips.showRaisingImages(skillIcon,raiseParam);\r\n            }\r\n            const url:string = utils.getResourceURL(this.url) ;\r\n            let effextX = this._fromSide == 'left' ? battleEffect.Lx : battleEffect.Rx ;\r\n            let effextY = this._fromSide == 'left' ? battleEffect.Ly : battleEffect.Ry ;\r\n            let aniX:number =  effextX[0] + pos.x + attackX ;\r\n            let aniY:number =  effextY[0] + pos.y + attackY ;\r\n            const rotation = this._fromSide == 'left' ? 0 : 180 ;\r\n            const container = this.container ;\r\n            const isContray  = this._fromSide == 'left' ? false : true ;\r\n            const formAni =  zt.effects.createSkillEffect(url,aniX,aniY,isContray,length,container,true);\r\n            formAni.playEffect(60);\r\n            formAni.addFrame(battleEffect.Frame,Handler.create(this,()=>\r\n            {\r\n                pos.x = 0 ;\r\n                pos.y = 0 ;\r\n                for(let target of this._to)\r\n                {\r\n                    const defend = toView.getShip(target.Pos);\r\n                    if(defend)\r\n                    {\r\n                        let shipName:string = defend.data.shipName;\r\n                        const attackShip:SysBattlePerformeVo = Battle.SysBattlePerformeP.getDataByShip(shipName);\r\n                        pos.x = defend.shipX + attackShip.HitX ; \r\n                        pos.y = defend.shipY + attackShip.HitY; \r\n                    }\r\n                    aniX =  effextX[1] + pos.x + attackX ;\r\n                    aniY =  effextY[1] + pos.y + attackY ;\r\n                    const toAni =  zt.effects.createSkillEffect(url,aniX,aniY,isContray,length,container,false);\r\n                    toAni.playEffect(60);\r\n                }\r\n            }));         \r\n        }\r\n\r\n\r\n        private get aniDirection() {\r\n            return this._fromSide == 'left' ? 1 : 2;\r\n        }\r\n\r\n        private get url() {\r\n            return `fight/skill/${this.ActVar}.json`;\r\n        }\r\n\r\n        private get skillIconUrl() {\r\n            return `fight/icon/skill80/${this.ActVar}.png`;\r\n        }\r\n    }\r\n}","// tslint:disable:no-magic-numbers\r\n/// <reference path='./ActBase.ts' />\r\nnamespace zt.battle {\r\n    import Effect = zt.effects.Effect ;\r\n    export class ActTurn extends ActBase\r\n    {\r\n        private _faction:number = 0;\r\n        private static _ins:ActTurn ;\r\n        private curr :Effect;\r\n        private _type:string ;\r\n        private _pos:number;\r\n        constructor()\r\n        {\r\n            super();\r\n        }\r\n       \r\n\r\n        /**\r\n         * @param type 当前动作类型\r\n         * @param faction 当前阵营信息\r\n         */\r\n        public play(type:string = 'attack',$faction:number = -1) \r\n        {\r\n            if(this._to && !!this._to[0] == false || this._type == type &&\r\n               this._pos == this._to[0].Pos && \r\n               this.curr && this.curr.isPlaying)\r\n            {\r\n                return ;\r\n            }\r\n            type = type.toLocaleLowerCase();\r\n            this._type = type ;\r\n            this._pos =  this._to[0].Pos ;\r\n            this._faction = $faction == -1 ? this._faction:$faction ;\r\n            const url:string = utils.getResourceURL(`fight/turn/${type}/${this._faction}.json`);\r\n            zt.effects.resyleEffectGroup(this.curr);\r\n            this.curr = zt.effects.createEffect(url,AppEnum.battle,true);\r\n            const toPoint = this.getToPoint(this._pos);\r\n            const x:number  = this._toSide == 'left'? toPoint.x - 206 : toPoint.x - 142 ;\r\n            const y:number  =  this._toSide == 'left'? toPoint.y - 87 : toPoint.y - 96;\r\n            this.curr.playEffect( this._toView.underShipLayer,x,y,false,null,null,80);\r\n        }\r\n\r\n        public get name():string\r\n        {\r\n            return 'ActTurn';\r\n        }\r\n\r\n        public static get ins():ActTurn\r\n        {\r\n            if(!ActTurn._ins)\r\n            {\r\n                ActTurn._ins = new ActTurn();\r\n            }\r\n            return ActTurn._ins;\r\n        }\r\n\r\n        static dispose() {\r\n            if(ActTurn._ins)\r\n            {\r\n                zt.effects.resyleEffectGroup(ActTurn._ins.curr);\r\n            }\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    export const battleReady = (params, cb) => net.callRole('Battle.ready', params, cb);\r\n}","namespace zt.battle {\r\n    export const leaveBattle = (params) => net.callRole('Battle.leave', params);\r\n}","namespace zt.battle {\r\n    export const skipBattle = (params) => net.callRole('Battle.skip', params);\r\n}","// tslint:disable:no-magic-numbers\r\nnamespace zt.battle {\r\n    export class DamageNums extends Laya.Sprite {\r\n        private _txt: fairygui.GTextField;\r\n        private _type;\r\n        constructor(type) {\r\n            super();\r\n            this._type = type;\r\n            this.init();\r\n        }\r\n\r\n        private init() {\r\n            this._txt = new fairygui.GBasicTextField();\r\n            this._txt.font = this.font;\r\n            this._txt.color = '#ffffff';\r\n            this.addChild(this._txt.displayObject);\r\n        }\r\n\r\n        set data(num: number) {\r\n            this._txt.text = num.toString();\r\n            this._txt.displayObject.pivot(this._txt.width / 2, this._txt.height / 2);\r\n        }\r\n\r\n        play() {\r\n            const toY = this.y - 70 ;\r\n            Laya.Tween.to(this, {\r\n                y: toY\r\n            }, 300, null, Laya.Handler.create(this, this.onAnicomplete));\r\n        }\r\n\r\n        private onAnicomplete() {\r\n            Laya.Tween.to(this,\r\n                { alpha: 0, y: this.y - 10 },\r\n                300, null, Laya.Handler.create(this, () => {\r\n                    this.removeSelf();\r\n                    this.oncomplete();\r\n                }), 200);\r\n        }\r\n\r\n        private oncomplete() {\r\n            this.event(Laya.Event.COMPLETE)\r\n        }\r\n\r\n        private get font() {\r\n            switch (this._type) {\r\n                case DamageNumsType.DAMAGE:\r\n                case DamageNumsType.SHIELD:\r\n                    return 'ui://orii4jisilkm3x'\r\n\r\n                case DamageNumsType.CRIT:\r\n                    return 'ui://orii4jisilkm3v'\r\n            }\r\n        }\r\n    }\r\n}","namespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    export class FightViewBase {\r\n        static GAP = 0;\r\n        protected _ui: GComponent;\r\n        protected _controller: Controller;\r\n        protected _model: Model;\r\n\r\n        constructor(ui: GComponent, controller: Controller, model: Model) {\r\n            this._ui = ui;\r\n            this._controller = controller;\r\n            this._model = model;\r\n            this.init();\r\n            this.draw();\r\n        }\r\n\r\n        dispose() {\r\n            if (this._ui) {\r\n                this._ui.dispose();\r\n                this._ui.displayObject.removeSelf();\r\n                this._ui = null;\r\n            }\r\n        }\r\n\r\n        protected draw(): void {\r\n            this._ui.displayObject.visible = false;\r\n        }\r\n\r\n        protected init() {\r\n            //\r\n        }\r\n\r\n        protected get layout(): number {\r\n            return Layout.NONE;\r\n        }\r\n\r\n        protected get width(): number {\r\n            return this._ui.width;\r\n        }\r\n\r\n        protected get height(): number {\r\n            return this._ui.height;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            return [0, 0, 0, 0];\r\n        }\r\n\r\n        resize(): void {\r\n            Layers.getLayer('app').addChild(this._ui.displayObject);\r\n            const [offsetTop, offsetRight, offsetBottom, offsetLeft] = this.offset;\r\n            const left: boolean = (this.layout & Layout.LEFT) > 0;\r\n            const top: boolean = (this.layout & Layout.TOP) > 0;\r\n            const right: boolean = (this.layout & Layout.RIGHT) > 0;\r\n            const bottom: boolean = (this.layout & Layout.BOTTOM) > 0;\r\n            const center: boolean = (this.layout & Layout.CENTER) > 0;\r\n            const centerV: boolean = (this.layout & Layout.CENTER_V) > 0;\r\n            left && (this._ui.displayObject.x = 0);\r\n            top && (this._ui.displayObject.y = 0);\r\n            right && (this._ui.displayObject.x = Laya.stage.width - this.width);\r\n            bottom && (this._ui.displayObject.y = Laya.stage.height - this.height);\r\n            center && (this._ui.displayObject.x = (Laya.stage.width - this.width) / 2);\r\n            centerV && (this._ui.displayObject.y = (Laya.stage.height - this.height) / 2);\r\n            this._ui.displayObject.y += offsetTop;\r\n            this._ui.displayObject.x -= offsetRight;\r\n            this._ui.displayObject.y -= offsetBottom;\r\n            this._ui.displayObject.x += offsetLeft;\r\n        }\r\n    }\r\n\r\n    export enum Layout {\r\n        NONE = 0b1,\r\n        TOP = 0b10,\r\n        LEFT = 0b100,\r\n        BOTTOM = 0b1000,\r\n        RIGHT = 0b10000,\r\n        CENTER = 0b100000,\r\n        CENTER_V = 0b1000000,\r\n    }\r\n}","/// <reference path='./FightViewBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    import Sprite = Laya.Sprite;\r\n    import Event = Laya.Event;\r\n    import Rectangle = Laya.Rectangle;\r\n    export class CloseView extends FightViewBase {\r\n        protected init() {\r\n            //\r\n        }\r\n        protected draw(): void {\r\n            //\r\n        }\r\n\r\n        protected get layout(): number {\r\n            return Layout.RIGHT + Layout.TOP;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            return [FightViewBase.GAP, FightViewBase.GAP, 0, 0];\r\n        }\r\n\r\n    }\r\n}\r\n","/// <reference path='./FightViewBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    import Sprite = Laya.Sprite;\r\n    import Event = Laya.Event;\r\n    import Rectangle = Laya.Rectangle;\r\n    export class CtrlView extends FightViewBase {\r\n        protected init() {\r\n            zt.ctrl.GameCtrl.intance.on(BattleEvent.ARMY_UPDATE, this, this.onArmyUpdate);\r\n        }\r\n\r\n        private onArmyUpdate() {\r\n            this.updateRound();\r\n        }\r\n\r\n        private updateRound() {\r\n            this.round.text = `ROUND${this._model.round}`;\r\n        }\r\n\r\n        protected draw(): void {\r\n            //\r\n        }\r\n\r\n        protected get layout(): number {\r\n            return Layout.CENTER + Layout.TOP;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            return [FightViewBase.GAP, FightViewBase.GAP, 0, 0];\r\n        }\r\n\r\n        private get round() { return this._ui.getChild('round').asTextField }\r\n    }\r\n}\r\n","/// <reference path='./FightViewBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    import Sprite = Laya.Sprite;\r\n    import Event = Laya.Event;\r\n    import Rectangle = Laya.Rectangle;\r\n    export class LoadingView extends FightViewBase {\r\n        updateProgress(val: number) {\r\n            this.progressbar.update(val);\r\n        }\r\n\r\n        protected init() {\r\n            //\r\n        }\r\n        protected draw(): void {\r\n            //\r\n        }\r\n\r\n        protected get layout(): number {\r\n            return Layout.CENTER + Layout.CENTER_V;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            return [FightViewBase.GAP, FightViewBase.GAP, 0, 0];\r\n        }\r\n\r\n        private get progressbar(): fairygui.GProgressBar { return this._ui.getChild('bar') as fairygui.GProgressBar }\r\n\r\n    }\r\n}\r\n","/// <reference path='./FightViewBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    import Sprite = Laya.Sprite;\r\n    import Event = Laya.Event;\r\n    import Rectangle = Laya.Rectangle;\r\n    export class NameLeftView extends FightViewBase {\r\n        protected init() {\r\n            this.addEvent();\r\n        }   \r\n\r\n        private addEvent():void\r\n        {\r\n            zt.ctrl.GameCtrl.intance.on(BattleEvent.ARMY_UPDATE, this, this.onArmyUpdate);\r\n        }\r\n\r\n        private removeEvent():void\r\n        {\r\n            zt.ctrl.GameCtrl.intance.off(BattleEvent.ARMY_UPDATE, this, this.onArmyUpdate);\r\n        }\r\n\r\n        protected draw(): void {\r\n            //\r\n        }\r\n\r\n        private onArmyUpdate() {\r\n            let data: Army;\r\n            if (getAttackerSide(this._model.type) == 'left') {\r\n                data = this._model.Attacker;\r\n            }\r\n            else {\r\n                data = this._model.Defender;\r\n            }\r\n\r\n            this.name.text = data.Name;\r\n            this.ctrl.selectedIndex = this.getFrame(data.FactionID);\r\n            this.loader.url = utils.getResourceURL('roleavatar/' + data.AvatarID + '.png');\r\n        }\r\n\r\n        protected get layout(): number {\r\n            return Layout.LEFT + Layout.TOP;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            return [FightViewBase.GAP, FightViewBase.GAP, 0, 0];\r\n        }\r\n\r\n        private getFrame(FactionID) {\r\n            switch (FactionID) {\r\n                case 1:\r\n                    return 0;\r\n                case 2:\r\n                    return 1;\r\n            }\r\n            return 2;\r\n        }\r\n\r\n        private get fleetName() { return this._ui.getChild('fleetName').asTextField }\r\n        private get name() { return this._ui.getChild('name').asTextField }\r\n        private get loader() { return this._ui.getChild('loader').asLoader }\r\n        private get ctrl() { return this._ui.getController('c1') }\r\n\r\n    }\r\n}\r\n","/// <reference path='./FightViewBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    import Sprite = Laya.Sprite;\r\n    import Event = Laya.Event;\r\n    import Rectangle = Laya.Rectangle;\r\n    export class NameRightView extends FightViewBase {\r\n        protected init() {\r\n            zt.ctrl.GameCtrl.intance.on(BattleEvent.ARMY_UPDATE, this, this.onArmyUpdate);\r\n        }\r\n        protected draw(): void {\r\n            //\r\n        }\r\n\r\n        private onArmyUpdate() {\r\n\r\n            let data: Army;\r\n            if (getAttackerSide(this._model.type) == 'right') {\r\n                data = this._model.Attacker;\r\n            }\r\n            else {\r\n                data = this._model.Defender;\r\n            }\r\n            if (!data) return;\r\n            this.name.text = data.Name;\r\n            this.ctrl.selectedIndex = this.getFrame(data.FactionID);\r\n            if (data.FactionID == 0) {\r\n                this.loader.url = utils.getResourceURL('mobavatar/1.png');\r\n            } else {\r\n                this.loader.url = utils.getResourceURL('roleavatar/' + data.AvatarID + '.png');\r\n            }\r\n        }\r\n\r\n        private get loader() { return this._ui.getChild('loader').asLoader }\r\n        protected get layout(): number {\r\n            return Layout.RIGHT + Layout.BOTTOM;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            return [FightViewBase.GAP, FightViewBase.GAP, 0, 0];\r\n        }\r\n\r\n        private getFrame(FactionID) {\r\n            switch (FactionID) {\r\n                case 1:\r\n                    return 0;\r\n                case 2:\r\n                    return 1;\r\n            }\r\n            return 2;\r\n        }\r\n\r\n        private get fleetName() { return this._ui.getChild('fleetName').asTextField }\r\n        private get name() { return this._ui.getChild('name').asTextField }\r\n        private get ctrl() { return this._ui.getController('c1') }\r\n\r\n    }\r\n}\r\n","/// <reference path='./FightViewBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    import Sprite = Laya.Sprite;\r\n    import Event = Laya.Event;\r\n    import Rectangle = Laya.Rectangle;\r\n    export class SkipView extends FightViewBase {\r\n        protected init() {\r\n            this._ui.visible = this._model.mode == BattleMode.NORMAL;\r\n            this._ui.onClick(this, this.onclick);\r\n        }\r\n\r\n        private onclick() {\r\n            skipBattle(this._model.getParams())\r\n        }\r\n\r\n        protected draw(): void {\r\n            //\r\n        }\r\n\r\n        protected get layout(): number {\r\n            return Layout.RIGHT + Layout.TOP;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            // tslint:disable-next-line:no-magic-numbers\r\n            return [FightViewBase.GAP - 3, FightViewBase.GAP + 40, 0, 0];\r\n        }\r\n\r\n    }\r\n}\r\n","/// <reference path='./FightViewBase.ts' />\r\nnamespace zt.battle {\r\n    import GComponent = fairygui.GComponent;\r\n    import Sprite = Laya.Sprite;\r\n    import Event = Laya.Event;\r\n    import Rectangle = Laya.Rectangle;\r\n    export class WaveView extends FightViewBase {\r\n        updateWave() {\r\n            if (!this._model.Defender) return\r\n            const curr = this._model.Defender.TotalCount - this._model.Defender.Count + 1;\r\n            this.txt.text = `WAVE ${curr}/${this._model.Defender.TotalCount}`\r\n\r\n        }\r\n        protected init() {\r\n            zt.ctrl.GameCtrl.intance.on(BattleEvent.ARMY_UPDATE, this, this.onArmyUpdate);\r\n        }\r\n\r\n        private onArmyUpdate() {\r\n            this.updateWave();\r\n        }\r\n\r\n        protected draw(): void {\r\n            //\r\n        }\r\n\r\n        protected get layout(): number {\r\n            return Layout.RIGHT + Layout.TOP;\r\n        }\r\n\r\n        protected get offset(): number[] {\r\n            // tslint:disable-next-line:no-magic-numbers\r\n            return [FightViewBase.GAP + 70, FightViewBase.GAP, 0, 0];\r\n        }\r\n\r\n        private get txt() { return this._ui.getChild('txt').asTextField }\r\n    }\r\n}\r\n"]}